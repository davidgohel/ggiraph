(()=>{var t={15:(t,n,e)=>{"use strict";e.d(n,{A:()=>o,y:()=>a});var r=e(204),i=e(429);function o(t){var n=t.document.documentElement,e=(0,r.A)(t).on("dragstart.drag",i.A,!0);"onselectstart"in n?e.on("selectstart.drag",i.A,!0):(n.__noselect=n.style.MozUserSelect,n.style.MozUserSelect="none")}function a(t,n){var e=t.document.documentElement,o=(0,r.A)(t).on("dragstart.drag",null);n&&(o.on("click.drag",i.A,!0),setTimeout(function(){o.on("click.drag",null)},0)),"onselectstart"in e?o.on("selectstart.drag",null):(e.style.MozUserSelect=e.__noselect,delete e.__noselect)}},118:(t,n,e)=>{"use strict";function r(){return[]}function i(t){return null==t?r:function(){return this.querySelectorAll(t)}}e.d(n,{A:()=>i})},134:(t,n,e)=>{"use strict";e.d(n,{A:()=>u});var r=e(357),i=e(176);function o(t){return function(){var n=this.ownerDocument,e=this.namespaceURI;return e===i.g&&n.documentElement.namespaceURI===i.g?n.createElement(t):n.createElementNS(e,t)}}function a(t){return function(){return this.ownerDocument.createElementNS(t.space,t.local)}}function u(t){var n=(0,r.A)(t);return(n.local?a:o)(n)}},146:(t,n)=>{"use strict";var e;!function(){var r=n||{}||this||window;void 0===(e=function(){return r}.apply(n,[]))||(t.exports=e),r.default=r;var i="http://www.w3.org/2000/xmlns/",o="http://www.w3.org/2000/svg",a=/url\(["']?(.+?)["']?\)/,u={woff2:"font/woff2",woff:"font/woff",otf:"application/x-font-opentype",ttf:"application/x-font-ttf",eot:"application/vnd.ms-fontobject",sfnt:"application/font-sfnt",svg:"image/svg+xml"},s=function(t){return t instanceof HTMLElement||t instanceof SVGElement},c=function(t){if(!s(t))throw new Error("an HTMLElement or SVGElement is required; got "+t)},f=function(t){return new Promise(function(n,e){s(t)?n(t):e(new Error("an HTMLElement or SVGElement is required; got "+t))})},l=function(t,n,e){var r=t.viewBox&&t.viewBox.baseVal&&t.viewBox.baseVal[e]||null!==n.getAttribute(e)&&!n.getAttribute(e).match(/%$/)&&parseInt(n.getAttribute(e))||t.getBoundingClientRect()[e]||parseInt(n.style[e])||parseInt(window.getComputedStyle(t).getPropertyValue(e));return null==r||isNaN(parseFloat(r))?0:r},h=function(t){for(var n=window.atob(t.split(",")[1]),e=t.split(",")[0].split(":")[1].split(";")[0],r=new ArrayBuffer(n.length),i=new Uint8Array(r),o=0;o<n.length;o++)i[o]=n.charCodeAt(o);return new Blob([r],{type:e})},d={},p=null,g=function(t,n){var e=n||{},r=e.selectorRemap,i=e.modifyStyle,o=e.modifyCss,s=e.fonts,c=e.excludeUnusedCss,f=o||function(t,n){return(r?r(t):t)+"{"+(i?i(n):n)+"}\n"},l=[],h=void 0===s,g=s||[];return(p||(p=Array.from(document.styleSheets).map(function(t){try{return{rules:t.cssRules,href:t.href}}catch(n){return console.warn("Stylesheet could not be loaded: "+t.href,n),{}}}))).forEach(function(n){var e=n.rules,r=n.href;e&&Array.from(e).forEach(function(n){if(void 0!==n.style)if(function(t,n){if(n)try{return t.querySelector(n)||t.parentNode&&t.parentNode.querySelector(n)}catch(t){console.warn('Invalid CSS selector "'+n+'"',t)}}(t,n.selectorText))l.push(f(n.selectorText,n.style.cssText));else if(h&&n.cssText.match(/^@font-face/)){var e=function(t,n){var e=t.cssText.match(a),r=e&&e[1]||"";if(r&&!r.match(/^data:/)&&"about:blank"!==r){var i,o,s=r.startsWith("../")?n+"/../"+r:r.startsWith("./")?n+"/."+r:r;return{text:t.cssText,format:(i=s,o=Object.keys(u).filter(function(t){return i.indexOf("."+t)>0}).map(function(t){return u[t]}),o?o[0]:(console.error("Unknown font format for "+i+". Fonts may not be working correctly."),"application/octet-stream")),url:s}}}(n,r);e&&g.push(e)}else c||l.push(n.cssText)})}),function(t){return Promise.all(t.map(function(t){return new Promise(function(n,e){if(d[t.url])return n(d[t.url]);var r=new XMLHttpRequest;r.addEventListener("load",function(){var e=function(t){for(var n="",e=new Uint8Array(t),r=0;r<e.byteLength;r++)n+=String.fromCharCode(e[r]);return window.btoa(n)}(r.response),i=t.text.replace(a,'url("data:'+t.format+";base64,"+e+'")')+"\n";d[t.url]=i,n(i)}),r.addEventListener("error",function(e){console.warn("Failed to load font from: "+t.url,e),d[t.url]=null,n(null)}),r.addEventListener("abort",function(e){console.warn("Aborted loading font from: "+t.url,e),n(null)}),r.open("GET",t.url),r.responseType="arraybuffer",r.send()})})).then(function(t){return t.filter(function(t){return t}).join("")})}(g).then(function(t){return l.join("\n")+t})},y=function(){if(!navigator.msSaveOrOpenBlob&&!("download"in document.createElement("a")))return{popup:window.open()}};r.prepareSvg=function(t,n,e){c(t);var r=n||{},a=r.left,u=void 0===a?0:a,s=r.top,f=void 0===s?0:s,h=r.width,d=r.height,p=r.scale,y=void 0===p?1:p,v=r.responsive,m=void 0!==v&&v,_=r.excludeCss,b=void 0!==_&&_;return function(t){return Promise.all(Array.from(t.querySelectorAll("image")).map(function(t){var n,e=t.getAttributeNS("http://www.w3.org/1999/xlink","href")||t.getAttribute("href");return e?((n=e)&&0===n.lastIndexOf("http",0)&&-1===n.lastIndexOf(window.location.host)&&(e+=(-1===e.indexOf("?")?"?":"&")+"t="+(new Date).valueOf()),new Promise(function(n,r){var i=document.createElement("canvas"),o=new Image;o.crossOrigin="anonymous",o.src=e,o.onerror=function(){return r(new Error("Could not load "+e))},o.onload=function(){i.width=o.width,i.height=o.height,i.getContext("2d").drawImage(o,0,0),t.setAttributeNS("http://www.w3.org/1999/xlink","href",i.toDataURL("image/png")),n(!0)}})):Promise.resolve(null)}))}(t).then(function(){var r=t.cloneNode(!0);r.style.backgroundColor=(n||{}).backgroundColor||t.style.backgroundColor;var a=function(t,n,e,r){if("svg"===t.tagName)return{width:e||l(t,n,"width"),height:r||l(t,n,"height")};if(t.getBBox){var i=t.getBBox(),o=i.x,a=i.y;return{width:o+i.width,height:a+i.height}}}(t,r,h,d),s=a.width,c=a.height;if("svg"!==t.tagName){if(!t.getBBox)return void console.error("Attempted to render non-SVG element",t);null!=r.getAttribute("transform")&&r.setAttribute("transform",r.getAttribute("transform").replace(/translate\(.*?\)/,""));var p=document.createElementNS("http://www.w3.org/2000/svg","svg");p.appendChild(r),r=p}if(r.setAttribute("version","1.1"),r.setAttribute("viewBox",[u,f,s,c].join(" ")),r.getAttribute("xmlns")||r.setAttributeNS(i,"xmlns",o),r.getAttribute("xmlns:xlink")||r.setAttributeNS(i,"xmlns:xlink","http://www.w3.org/1999/xlink"),m?(r.removeAttribute("width"),r.removeAttribute("height"),r.setAttribute("preserveAspectRatio","xMinYMin meet")):(r.setAttribute("width",s*y),r.setAttribute("height",c*y)),Array.from(r.querySelectorAll("foreignObject > *")).forEach(function(t){t.setAttributeNS(i,"xmlns","svg"===t.tagName?o:"http://www.w3.org/1999/xhtml")}),!b)return g(t,n).then(function(t){var n=document.createElement("style");n.setAttribute("type","text/css"),n.innerHTML="<![CDATA[\n"+t+"\n]]>";var i=document.createElement("defs");i.appendChild(n),r.insertBefore(i,r.firstChild);var o=document.createElement("div");o.appendChild(r);var a=o.innerHTML.replace(/NS\d+:href/gi,'xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href');if("function"!=typeof e)return{src:a,width:s,height:c};e(a,s,c)});var v=document.createElement("div");v.appendChild(r);var _=v.innerHTML;if("function"!=typeof e)return{src:_,width:s,height:c};e(_,s,c)})},r.svgAsDataUri=function(t,n,e){return c(t),r.prepareSvg(t,n).then(function(t){var n=t.src,r=t.width,i=t.height,o="data:image/svg+xml;base64,"+window.btoa(decodeURIComponent(encodeURIComponent('<?xml version="1.0" standalone="no"?><!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN" "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd" [<!ENTITY nbsp "&#160;">]>'+n).replace(/%([0-9A-F]{2})/g,function(t,n){var e=String.fromCharCode("0x"+n);return"%"===e?"%25":e})));return"function"==typeof e&&e(o,r,i),o})},r.svgAsPngUri=function(t,n,e){c(t);var i=n||{},o=i.encoderType,a=void 0===o?"image/png":o,u=i.encoderOptions,s=void 0===u?.8:u,f=i.canvg,l=function(t){var n=t.src,r=t.width,i=t.height,o=document.createElement("canvas"),u=o.getContext("2d"),c=window.devicePixelRatio||1;o.width=r*c,o.height=i*c,o.style.width=o.width+"px",o.style.height=o.height+"px",u.setTransform(c,0,0,c,0,0),f?f(o,n):u.drawImage(n,0,0);var l=void 0;try{l=o.toDataURL(a,s)}catch(t){if("undefined"!=typeof SecurityError&&t instanceof SecurityError||"SecurityError"===t.name)return void console.error("Rendered SVG images cannot be downloaded in this browser.");throw t}return"function"==typeof e&&e(l,o.width,o.height),Promise.resolve(l)};return f?r.prepareSvg(t,n).then(l):r.svgAsDataUri(t,n).then(function(t){return new Promise(function(n,e){var r=new Image;r.onload=function(){return n(l({src:r,width:r.width,height:r.height}))},r.onerror=function(){e("There was an error loading the data URI as an image on the following SVG\n"+window.atob(t.slice(26))+"Open the following link to see browser's diagnosis\n"+t)},r.src=t})})},r.download=function(t,n,e){if(navigator.msSaveOrOpenBlob)navigator.msSaveOrOpenBlob(h(n),t);else{var r=document.createElement("a");if("download"in r){r.download=t,r.style.display="none",document.body.appendChild(r);try{var i=h(n),o=URL.createObjectURL(i);r.href=o,r.onclick=function(){return requestAnimationFrame(function(){return URL.revokeObjectURL(o)})}}catch(t){console.error(t),console.warn("Error while getting object URL. Falling back to string URL."),r.href=n}r.click(),document.body.removeChild(r)}else e&&e.popup&&(e.popup.document.title=t,e.popup.location.replace(n))}},r.saveSvg=function(t,n,e){var i=y();return f(t).then(function(t){return r.svgAsDataUri(t,e||{})}).then(function(t){return r.download(n,t,i)})},r.saveSvgAsPng=function(t,n,e){var i=y();return f(t).then(function(t){return r.svgAsPngUri(t,e||{})}).then(function(t){return r.download(n,t,i)})}}()},176:(t,n,e)=>{"use strict";e.d(n,{A:()=>i,g:()=>r});var r="http://www.w3.org/1999/xhtml";const i={svg:"http://www.w3.org/2000/svg",xhtml:r,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"}},204:(t,n,e)=>{"use strict";e.d(n,{A:()=>i});var r=e(906);function i(t){return"string"==typeof t?new r.LN([[document.querySelector(t)]],[document.documentElement]):new r.LN([[t]],r.zr)}},357:(t,n,e)=>{"use strict";e.d(n,{A:()=>i});var r=e(176);function i(t){var n=t+="",e=n.indexOf(":");return e>=0&&"xmlns"!==(n=t.slice(0,e))&&(t=t.slice(e+1)),r.A.hasOwnProperty(n)?{space:r.A[n],local:t}:t}},415:(t,n,e)=>{"use strict";e.r(n),e.d(n,{clientPoint:()=>d.A,create:()=>o,creator:()=>r.A,customEvent:()=>M.ex,event:()=>M.f0,local:()=>u,matcher:()=>c.A,mouse:()=>f.A,namespace:()=>l.A,namespaces:()=>h.A,select:()=>i.A,selectAll:()=>g,selection:()=>p.Ay,selector:()=>y.A,selectorAll:()=>v.A,style:()=>m.j,touch:()=>_.A,touches:()=>x,window:()=>w.A});var r=e(134),i=e(204);function o(t){return(0,i.A)((0,r.A)(t).call(document.documentElement))}var a=0;function u(){return new s}function s(){this._="@"+(++a).toString(36)}s.prototype=u.prototype={constructor:s,get:function(t){for(var n=this._;!(n in t);)if(!(t=t.parentNode))return;return t[n]},set:function(t,n){return t[this._]=n},remove:function(t){return this._ in t&&delete t[this._]},toString:function(){return this._}};var c=e(692),f=e(613),l=e(357),h=e(176),d=e(884),p=e(906);function g(t){return"string"==typeof t?new p.LN([document.querySelectorAll(t)],[document.documentElement]):new p.LN([null==t?[]:t],p.zr)}var y=e(729),v=e(118),m=e(626),_=e(897),b=e(993);function x(t,n){null==n&&(n=(0,b.A)().touches);for(var e=0,r=n?n.length:0,i=new Array(r);e<r;++e)i[e]=(0,d.A)(t,n[e]);return i}var w=e(684),M=e(454)},429:(t,n,e)=>{"use strict";e.d(n,{A:()=>o,G:()=>i});var r=e(454);function i(){r.f0.stopImmediatePropagation()}function o(){r.f0.preventDefault(),r.f0.stopImmediatePropagation()}},454:(t,n,e)=>{"use strict";e.d(n,{Ay:()=>c,ex:()=>f,f0:()=>i});var r={},i=null;function o(t,n,e){return t=a(t,n,e),function(n){var e=n.relatedTarget;e&&(e===this||8&e.compareDocumentPosition(this))||t.call(this,n)}}function a(t,n,e){return function(r){var o=i;i=r;try{t.call(this,this.__data__,n,e)}finally{i=o}}}function u(t){return function(){var n=this.__on;if(n){for(var e,r=0,i=-1,o=n.length;r<o;++r)e=n[r],t.type&&e.type!==t.type||e.name!==t.name?n[++i]=e:this.removeEventListener(e.type,e.listener,e.capture);++i?n.length=i:delete this.__on}}}function s(t,n,e){var i=r.hasOwnProperty(t.type)?o:a;return function(r,o,a){var u,s=this.__on,c=i(n,o,a);if(s)for(var f=0,l=s.length;f<l;++f)if((u=s[f]).type===t.type&&u.name===t.name)return this.removeEventListener(u.type,u.listener,u.capture),this.addEventListener(u.type,u.listener=c,u.capture=e),void(u.value=n);this.addEventListener(t.type,c,e),u={type:t.type,name:t.name,value:n,listener:c,capture:e},s?s.push(u):this.__on=[u]}}function c(t,n,e){var r,i,o=function(t){return t.trim().split(/^|\s+/).map(function(t){var n="",e=t.indexOf(".");return e>=0&&(n=t.slice(e+1),t=t.slice(0,e)),{type:t,name:n}})}(t+""),a=o.length;if(!(arguments.length<2)){for(c=n?s:u,null==e&&(e=!1),r=0;r<a;++r)this.each(c(o[r],n,e));return this}var c=this.node().__on;if(c)for(var f,l=0,h=c.length;l<h;++l)for(r=0,f=c[l];r<a;++r)if((i=o[r]).type===f.type&&i.name===f.name)return f.value}function f(t,n,e,r){var o=i;t.sourceEvent=i,i=t;try{return n.apply(e,r)}finally{i=o}}"undefined"!=typeof document&&("onmouseenter"in document.documentElement||(r={mouseenter:"mouseover",mouseleave:"mouseout"}))},547:(t,n,e)=>{"use strict";e.r(n),e.d(n,{drag:()=>y,dragDisable:()=>s.A,dragEnable:()=>s.y});var r=e(996),i=e(454),o=e(613),a=e(204),u=e(897),s=e(15),c=e(429);function f(t){return function(){return t}}function l(t,n,e,r,i,o,a,u,s,c){this.target=t,this.type=n,this.subject=e,this.identifier=r,this.active=i,this.x=o,this.y=a,this.dx=u,this.dy=s,this._=c}function h(){return!i.f0.ctrlKey&&!i.f0.button}function d(){return this.parentNode}function p(t){return null==t?{x:i.f0.x,y:i.f0.y}:t}function g(){return navigator.maxTouchPoints||"ontouchstart"in this}function y(){var t,n,e,y,v=h,m=d,_=p,b=g,x={},w=(0,r.A)("start","drag","end"),M=0,A=0;function S(t){t.on("mousedown.drag",E).filter(b).on("touchstart.drag",k).on("touchmove.drag",C).on("touchend.drag touchcancel.drag",P).style("touch-action","none").style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}function E(){if(!y&&v.apply(this,arguments)){var r=z("mouse",m.apply(this,arguments),o.A,this,arguments);r&&((0,a.A)(i.f0.view).on("mousemove.drag",N,!0).on("mouseup.drag",T,!0),(0,s.A)(i.f0.view),(0,c.G)(),e=!1,t=i.f0.clientX,n=i.f0.clientY,r("start"))}}function N(){if((0,c.A)(),!e){var r=i.f0.clientX-t,o=i.f0.clientY-n;e=r*r+o*o>A}x.mouse("drag")}function T(){(0,a.A)(i.f0.view).on("mousemove.drag mouseup.drag",null),(0,s.y)(i.f0.view,e),(0,c.A)(),x.mouse("end")}function k(){if(v.apply(this,arguments)){var t,n,e=i.f0.changedTouches,r=m.apply(this,arguments),o=e.length;for(t=0;t<o;++t)(n=z(e[t].identifier,r,u.A,this,arguments))&&((0,c.G)(),n("start"))}}function C(){var t,n,e=i.f0.changedTouches,r=e.length;for(t=0;t<r;++t)(n=x[e[t].identifier])&&((0,c.A)(),n("drag"))}function P(){var t,n,e=i.f0.changedTouches,r=e.length;for(y&&clearTimeout(y),y=setTimeout(function(){y=null},500),t=0;t<r;++t)(n=x[e[t].identifier])&&((0,c.G)(),n("end"))}function z(t,n,e,r,o){var a,u,s,c=e(n,t),f=w.copy();if((0,i.ex)(new l(S,"beforestart",a,t,M,c[0],c[1],0,0,f),function(){return null!=(i.f0.subject=a=_.apply(r,o))&&(u=a.x-c[0]||0,s=a.y-c[1]||0,!0)}))return function h(d){var p,g=c;switch(d){case"start":x[t]=h,p=M++;break;case"end":delete x[t],--M;case"drag":c=e(n,t),p=M}(0,i.ex)(new l(S,d,a,t,p,c[0]+u,c[1]+s,c[0]-g[0],c[1]-g[1],f),f.apply,f,[d,r,o])}}return S.filter=function(t){return arguments.length?(v="function"==typeof t?t:f(!!t),S):v},S.container=function(t){return arguments.length?(m="function"==typeof t?t:f(t),S):m},S.subject=function(t){return arguments.length?(_="function"==typeof t?t:f(t),S):_},S.touchable=function(t){return arguments.length?(b="function"==typeof t?t:f(!!t),S):b},S.on=function(){var t=w.on.apply(w,arguments);return t===w?S:t},S.clickDistance=function(t){return arguments.length?(A=(t=+t)*t,S):Math.sqrt(A)},S}l.prototype.on=function(){var t=this._.on.apply(this._,arguments);return t===this._?this:t}},613:(t,n,e)=>{"use strict";e.d(n,{A:()=>o});var r=e(993),i=e(884);function o(t){var n=(0,r.A)();return n.changedTouches&&(n=n.changedTouches[0]),(0,i.A)(t,n)}},626:(t,n,e)=>{"use strict";e.d(n,{A:()=>u,j:()=>s});var r=e(684);function i(t){return function(){this.style.removeProperty(t)}}function o(t,n,e){return function(){this.style.setProperty(t,n,e)}}function a(t,n,e){return function(){var r=n.apply(this,arguments);null==r?this.style.removeProperty(t):this.style.setProperty(t,r,e)}}function u(t,n,e){return arguments.length>1?this.each((null==n?i:"function"==typeof n?a:o)(t,n,null==e?"":e)):s(this.node(),t)}function s(t,n){return t.style.getPropertyValue(n)||(0,r.A)(t).getComputedStyle(t,null).getPropertyValue(n)}},636:function(t,n,e){!function(t){"use strict";function n(t,n){return t(n={exports:{}},n.exports),n.exports}var e=n(function(t){t.exports=function(t,e,r){var i=t*e,o=n*t,a=o-(o-t),u=t-a,s=n*e,c=s-(s-e),f=e-c,l=u*f-(i-a*c-u*c-a*f);return r?(r[0]=l,r[1]=i,r):[l,i]};var n=+(Math.pow(2,27)+1)}),r=n(function(t){t.exports=function(t,n){var e=0|t.length,r=0|n.length;if(1===e&&1===r)return function(t,n){var e=t+n,r=e-t,i=t-(e-r)+(n-r);return i?[i,e]:[e]}(t[0],n[0]);var i,o,a=new Array(e+r),u=0,s=0,c=0,f=Math.abs,l=t[s],h=f(l),d=n[c],p=f(d);h<p?(o=l,(s+=1)<e&&(h=f(l=t[s]))):(o=d,(c+=1)<r&&(p=f(d=n[c]))),s<e&&h<p||c>=r?(i=l,(s+=1)<e&&(h=f(l=t[s]))):(i=d,(c+=1)<r&&(p=f(d=n[c])));for(var g,y,v=i+o,m=v-i,_=o-m,b=_,x=v;s<e&&c<r;)h<p?(i=l,(s+=1)<e&&(h=f(l=t[s]))):(i=d,(c+=1)<r&&(p=f(d=n[c]))),(_=(o=b)-(m=(v=i+o)-i))&&(a[u++]=_),b=x-((g=x+v)-(y=g-x))+(v-y),x=g;for(;s<e;)(_=(o=b)-(m=(v=(i=l)+o)-i))&&(a[u++]=_),b=x-((g=x+v)-(y=g-x))+(v-y),x=g,(s+=1)<e&&(l=t[s]);for(;c<r;)(_=(o=b)-(m=(v=(i=d)+o)-i))&&(a[u++]=_),b=x-((g=x+v)-(y=g-x))+(v-y),x=g,(c+=1)<r&&(d=n[c]);return b&&(a[u++]=b),x&&(a[u++]=x),u||(a[u++]=0),a.length=u,a}}),i=n(function(t){t.exports=function(t,n,e){var r=t+n,i=r-t,o=n-i,a=t-(r-i);return e?(e[0]=a+o,e[1]=r,e):[a+o,r]}}),o=n(function(t){var n=e,r=i;t.exports=function(t,e){var i=t.length;if(1===i){var o=n(t[0],e);return o[0]?o:[o[1]]}var a=new Array(2*i),u=[.1,.1],s=[.1,.1],c=0;n(t[0],e,u),u[0]&&(a[c++]=u[0]);for(var f=1;f<i;++f){n(t[f],e,s);var l=u[1];r(l,s[0],u),u[0]&&(a[c++]=u[0]);var h=s[1],d=u[1],p=h+d,g=d-(p-h);u[1]=p,g&&(a[c++]=g)}return u[1]&&(a[c++]=u[1]),0===c&&(a[c++]=0),a.length=c,a}}),a=n(function(t){t.exports=function(t,n){var e=0|t.length,r=0|n.length;if(1===e&&1===r)return function(t,n){var e=t+n,r=e-t,i=t-(e-r)+(n-r);return i?[i,e]:[e]}(t[0],-n[0]);var i,o,a=new Array(e+r),u=0,s=0,c=0,f=Math.abs,l=t[s],h=f(l),d=-n[c],p=f(d);h<p?(o=l,(s+=1)<e&&(h=f(l=t[s]))):(o=d,(c+=1)<r&&(p=f(d=-n[c]))),s<e&&h<p||c>=r?(i=l,(s+=1)<e&&(h=f(l=t[s]))):(i=d,(c+=1)<r&&(p=f(d=-n[c])));for(var g,y,v=i+o,m=v-i,_=o-m,b=_,x=v;s<e&&c<r;)h<p?(i=l,(s+=1)<e&&(h=f(l=t[s]))):(i=d,(c+=1)<r&&(p=f(d=-n[c]))),(_=(o=b)-(m=(v=i+o)-i))&&(a[u++]=_),b=x-((g=x+v)-(y=g-x))+(v-y),x=g;for(;s<e;)(_=(o=b)-(m=(v=(i=l)+o)-i))&&(a[u++]=_),b=x-((g=x+v)-(y=g-x))+(v-y),x=g,(s+=1)<e&&(l=t[s]);for(;c<r;)(_=(o=b)-(m=(v=(i=d)+o)-i))&&(a[u++]=_),b=x-((g=x+v)-(y=g-x))+(v-y),x=g,(c+=1)<r&&(d=-n[c]);return b&&(a[u++]=b),x&&(a[u++]=x),u||(a[u++]=0),a.length=u,a}}),u=n(function(t){var n=e,i=r,u=o,s=a;function c(t,n){for(var e=new Array(t.length-1),r=1;r<t.length;++r)for(var i=e[r-1]=new Array(t.length-1),o=0,a=0;o<t.length;++o)o!==n&&(i[a++]=t[r][o]);return e}function f(t){return 1&t?"-":""}function l(t){if(1===t.length)return t[0];if(2===t.length)return["sum(",t[0],",",t[1],")"].join("");var n=t.length>>1;return["sum(",l(t.slice(0,n)),",",l(t.slice(n)),")"].join("")}function h(t){if(2===t.length)return[["sum(prod(",t[0][0],",",t[1][1],"),prod(-",t[0][1],",",t[1][0],"))"].join("")];for(var n=[],e=0;e<t.length;++e)n.push(["scale(",l(h(c(t,e))),",",f(e),t[0][e],")"].join(""));return n}function d(t){for(var e=[],r=[],o=function(t){for(var n=new Array(t),e=0;e<t;++e){n[e]=new Array(t);for(var r=0;r<t;++r)n[e][r]=["m",r,"[",t-e-1,"]"].join("")}return n}(t),a=[],f=0;f<t;++f)1&f?r.push.apply(r,h(c(o,f))):e.push.apply(e,h(c(o,f))),a.push("m"+f);var d=l(e),p=l(r),g="orientation"+t+"Exact",y=["function ",g,"(",a.join(),"){var p=",d,",n=",p,",d=sub(p,n);return d[d.length-1];};return ",g].join("");return new Function("sum","prod","scale","sub",y)(i,n,u,s)}var p=d(3),g=d(4),y=[function(){return 0},function(){return 0},function(t,n){return n[0]-t[0]},function(t,n,e){var r,i=(t[1]-e[1])*(n[0]-e[0]),o=(t[0]-e[0])*(n[1]-e[1]),a=i-o;if(i>0){if(o<=0)return a;r=i+o}else{if(!(i<0))return a;if(o>=0)return a;r=-(i+o)}var u=33306690738754716e-32*r;return a>=u||a<=-u?a:p(t,n,e)},function(t,n,e,r){var i=t[0]-r[0],o=n[0]-r[0],a=e[0]-r[0],u=t[1]-r[1],s=n[1]-r[1],c=e[1]-r[1],f=t[2]-r[2],l=n[2]-r[2],h=e[2]-r[2],d=o*c,p=a*s,y=a*u,v=i*c,m=i*s,_=o*u,b=f*(d-p)+l*(y-v)+h*(m-_),x=7771561172376103e-31*((Math.abs(d)+Math.abs(p))*Math.abs(f)+(Math.abs(y)+Math.abs(v))*Math.abs(l)+(Math.abs(m)+Math.abs(_))*Math.abs(h));return b>x||-b>x?b:g(t,n,e,r)}];function v(t){var n=y[t.length];return n||(n=y[t.length]=d(t.length)),n.apply(void 0,t)}!function(){for(;y.length<=5;)y.push(d(y.length));for(var n=[],e=["slow"],r=0;r<=5;++r)n.push("a"+r),e.push("o"+r);var i=["function getOrientation(",n.join(),"){switch(arguments.length){case 0:case 1:return 0;"];for(r=2;r<=5;++r)i.push("case ",r,":return o",r,"(",n.slice(0,r).join(),");");i.push("}var s=new Array(arguments.length);for(var i=0;i<arguments.length;++i){s[i]=arguments[i]};return slow(s);}return getOrientation"),e.push(i.join(""));var o=Function.apply(void 0,e);for(t.exports=o.apply(void 0,[v].concat(y)),r=0;r<=5;++r)t.exports[r]=y[r]}()}),s=n(function(t){t.exports=function(t,e){for(var r=e[0],i=e[1],o=t.length,a=1,u=o,s=0,c=o-1;s<u;c=s++){var f=t[s],l=t[c],h=f[1],d=l[1];if(d<h){if(d<i&&i<h){if(0===(p=n(f,l,e)))return 0;a^=0<p|0}else if(i===h&&h<t[(s+1)%o][1]){if(0===(p=n(f,l,e)))return 0;a^=0<p|0}}else if(h<d){if(h<i&&i<d){if(0===(p=n(f,l,e)))return 0;a^=p<0|0}else if(i===h&&t[(s+1)%o][1]<h){var p;if(0===(p=n(f,l,e)))return 0;a^=p<0|0}}else if(i===h){var g=Math.min(f[0],l[0]),y=Math.max(f[0],l[0]);if(0===s){for(;c>0;){var v=(c+o-1)%o;if((b=t[v])[1]!==i)break;var m=b[0];g=Math.min(g,m),y=Math.max(y,m),c=v}if(0===c)return g<=r&&r<=y?0:1;u=c+1}for(var _=t[(c+o-1)%o][1];s+1<u;){var b;if((b=t[s+1])[1]!==i)break;m=b[0],g=Math.min(g,m),y=Math.max(y,m),s+=1}if(g<=r&&r<=y)return 0;var x=t[(s+1)%o][1];r<g&&_<i!=x<i&&(a^=1)}}return 2*a-1};var n=u});t.lasso=function(){var t,n=[],e=75,r=!0,i=!1,o=!0,a={start:function(){},draw:function(){},end:function(){}};function u(u){var c,f,l,h,d=u.append("g").attr("class","lasso"),p=d.append("path").attr("class","drawn"),g=d.append("path").attr("class","loop_close"),y=d.append("circle").attr("class","origin"),v=d3.drag().on("start",function(){h=[],c="",p.attr("d",null),g.attr("d",null),n.nodes().forEach(function(t){t.__lasso.possible=!1,t.__lasso.selected=!1,t.__lasso.hoverSelect=!1,t.__lasso.loopSelect=!1;var n=t.getBoundingClientRect();t.__lasso.lassoPoint=[Math.round(n.left+n.width/2),Math.round(n.top+n.height/2)]}),o&&n.on("mouseover.lasso",function(){this.__lasso.hoverSelect=!0}),a.start()}).on("drag",function(){var t,o;"touchmove"===d3.event.sourceEvent.type?(t=d3.event.sourceEvent.touches[0].clientX,o=d3.event.sourceEvent.touches[0].clientY):(t=d3.event.sourceEvent.clientX,o=d3.event.sourceEvent.clientY);var u=d3.mouse(this)[0],d=d3.mouse(this)[1];""===c?(c=c+"M "+u+" "+d,f=[t,o],l=[u,d],y.attr("cx",u).attr("cy",d).attr("r",7).attr("display",null)):c=c+" L "+u+" "+d,h.push([t,o]);var v=Math.sqrt(Math.pow(t-f[0],2)+Math.pow(o-f[1],2)),m="M "+u+" "+d+" L "+l[0]+" "+l[1];p.attr("d",c),g.attr("d",m),(i=v<=e)&&r?g.attr("display",null):g.attr("display","none"),n.nodes().forEach(function(t){t.__lasso.loopSelect=!(!i||!r)&&s(h,t.__lasso.lassoPoint)<1,t.__lasso.possible=t.__lasso.hoverSelect||t.__lasso.loopSelect}),a.draw()}).on("end",function(){n.on("mouseover.lasso",null),n.nodes().forEach(function(t){t.__lasso.selected=t.__lasso.possible,t.__lasso.possible=!1}),p.attr("d",null),g.attr("d",null),y.attr("display","none"),a.end()});t.call(v)}return u.items=function(t){return arguments.length?((n=t).nodes().forEach(function(t){t.__lasso={possible:!1,selected:!1}}),u):n},u.possibleItems=function(){return n.filter(function(){return this.__lasso.possible})},u.selectedItems=function(){return n.filter(function(){return this.__lasso.selected})},u.notPossibleItems=function(){return n.filter(function(){return!this.__lasso.possible})},u.notSelectedItems=function(){return n.filter(function(){return!this.__lasso.selected})},u.closePathDistance=function(t){return arguments.length?(e=t,u):e},u.closePathSelect=function(t){return arguments.length?(r=!0===t,u):r},u.isPathClosed=function(t){return arguments.length?(i=!0===t,u):i},u.hoverSelect=function(t){return arguments.length?(o=!0===t,u):o},u.on=function(t,n){return arguments.length?1===arguments.length?a[t]:(["start","draw","end"].indexOf(t)>-1&&(a[t]=n),u):a},u.targetArea=function(n){return arguments.length?(t=n,u):t},u},Object.defineProperty(t,"__esModule",{value:!0})}(n,e(415),e(547))},684:(t,n,e)=>{"use strict";function r(t){return t.ownerDocument&&t.ownerDocument.defaultView||t.document&&t||t.defaultView}e.d(n,{A:()=>r})},692:(t,n,e)=>{"use strict";function r(t){return function(){return this.matches(t)}}e.d(n,{A:()=>r})},729:(t,n,e)=>{"use strict";function r(){}function i(t){return null==t?r:function(){return this.querySelector(t)}}e.d(n,{A:()=>i})},884:(t,n,e)=>{"use strict";function r(t,n){var e=t.ownerSVGElement||t;if(e.createSVGPoint){var r=e.createSVGPoint();return r.x=n.clientX,r.y=n.clientY,[(r=r.matrixTransform(t.getScreenCTM().inverse())).x,r.y]}var i=t.getBoundingClientRect();return[n.clientX-i.left-t.clientLeft,n.clientY-i.top-t.clientTop]}e.d(n,{A:()=>r})},897:(t,n,e)=>{"use strict";e.d(n,{A:()=>o});var r=e(993),i=e(884);function o(t,n,e){arguments.length<3&&(e=n,n=(0,r.A)().changedTouches);for(var o,a=0,u=n?n.length:0;a<u;++a)if((o=n[a]).identifier===e)return(0,i.A)(t,o);return null}},906:(t,n,e)=>{"use strict";e.d(n,{LN:()=>$,Ay:()=>Q,zr:()=>W});var r=e(729),i=e(118),o=e(692);function a(t){return new Array(t.length)}function u(t,n){this.ownerDocument=t.ownerDocument,this.namespaceURI=t.namespaceURI,this._next=null,this._parent=t,this.__data__=n}function s(t,n,e,r,i,o){for(var a,s=0,c=n.length,f=o.length;s<f;++s)(a=n[s])?(a.__data__=o[s],r[s]=a):e[s]=new u(t,o[s]);for(;s<c;++s)(a=n[s])&&(i[s]=a)}function c(t,n,e,r,i,o,a){var s,c,f,l={},h=n.length,d=o.length,p=new Array(h);for(s=0;s<h;++s)(c=n[s])&&(p[s]=f="$"+a.call(c,c.__data__,s,n),f in l?i[s]=c:l[f]=c);for(s=0;s<d;++s)(c=l[f="$"+a.call(t,o[s],s,o)])?(r[s]=c,c.__data__=o[s],l[f]=null):e[s]=new u(t,o[s]);for(s=0;s<h;++s)(c=n[s])&&l[p[s]]===c&&(i[s]=c)}function f(t,n){return t<n?-1:t>n?1:t>=n?0:NaN}u.prototype={constructor:u,appendChild:function(t){return this._parent.insertBefore(t,this._next)},insertBefore:function(t,n){return this._parent.insertBefore(t,n)},querySelector:function(t){return this._parent.querySelector(t)},querySelectorAll:function(t){return this._parent.querySelectorAll(t)}};var l=e(357);function h(t){return function(){this.removeAttribute(t)}}function d(t){return function(){this.removeAttributeNS(t.space,t.local)}}function p(t,n){return function(){this.setAttribute(t,n)}}function g(t,n){return function(){this.setAttributeNS(t.space,t.local,n)}}function y(t,n){return function(){var e=n.apply(this,arguments);null==e?this.removeAttribute(t):this.setAttribute(t,e)}}function v(t,n){return function(){var e=n.apply(this,arguments);null==e?this.removeAttributeNS(t.space,t.local):this.setAttributeNS(t.space,t.local,e)}}var m=e(626);function _(t){return function(){delete this[t]}}function b(t,n){return function(){this[t]=n}}function x(t,n){return function(){var e=n.apply(this,arguments);null==e?delete this[t]:this[t]=e}}function w(t){return t.trim().split(/^|\s+/)}function M(t){return t.classList||new A(t)}function A(t){this._node=t,this._names=w(t.getAttribute("class")||"")}function S(t,n){for(var e=M(t),r=-1,i=n.length;++r<i;)e.add(n[r])}function E(t,n){for(var e=M(t),r=-1,i=n.length;++r<i;)e.remove(n[r])}function N(t){return function(){S(this,t)}}function T(t){return function(){E(this,t)}}function k(t,n){return function(){(n.apply(this,arguments)?S:E)(this,t)}}function C(){this.textContent=""}function P(t){return function(){this.textContent=t}}function z(t){return function(){var n=t.apply(this,arguments);this.textContent=null==n?"":n}}function I(){this.innerHTML=""}function O(t){return function(){this.innerHTML=t}}function D(t){return function(){var n=t.apply(this,arguments);this.innerHTML=null==n?"":n}}function R(){this.nextSibling&&this.parentNode.appendChild(this)}function B(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}A.prototype={add:function(t){this._names.indexOf(t)<0&&(this._names.push(t),this._node.setAttribute("class",this._names.join(" ")))},remove:function(t){var n=this._names.indexOf(t);n>=0&&(this._names.splice(n,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(t){return this._names.indexOf(t)>=0}};var L=e(134);function U(){return null}function V(){var t=this.parentNode;t&&t.removeChild(this)}function q(){var t=this.cloneNode(!1),n=this.parentNode;return n?n.insertBefore(t,this.nextSibling):t}function F(){var t=this.cloneNode(!0),n=this.parentNode;return n?n.insertBefore(t,this.nextSibling):t}var Y=e(454),G=e(684);function H(t,n,e){var r=(0,G.A)(t),i=r.CustomEvent;"function"==typeof i?i=new i(n,e):(i=r.document.createEvent("Event"),e?(i.initEvent(n,e.bubbles,e.cancelable),i.detail=e.detail):i.initEvent(n,!1,!1)),t.dispatchEvent(i)}function j(t,n){return function(){return H(this,t,n)}}function X(t,n){return function(){return H(this,t,n.apply(this,arguments))}}var W=[null];function $(t,n){this._groups=t,this._parents=n}function Z(){return new $([[document.documentElement]],W)}$.prototype=Z.prototype={constructor:$,select:function(t){"function"!=typeof t&&(t=(0,r.A)(t));for(var n=this._groups,e=n.length,i=new Array(e),o=0;o<e;++o)for(var a,u,s=n[o],c=s.length,f=i[o]=new Array(c),l=0;l<c;++l)(a=s[l])&&(u=t.call(a,a.__data__,l,s))&&("__data__"in a&&(u.__data__=a.__data__),f[l]=u);return new $(i,this._parents)},selectAll:function(t){"function"!=typeof t&&(t=(0,i.A)(t));for(var n=this._groups,e=n.length,r=[],o=[],a=0;a<e;++a)for(var u,s=n[a],c=s.length,f=0;f<c;++f)(u=s[f])&&(r.push(t.call(u,u.__data__,f,s)),o.push(u));return new $(r,o)},filter:function(t){"function"!=typeof t&&(t=(0,o.A)(t));for(var n=this._groups,e=n.length,r=new Array(e),i=0;i<e;++i)for(var a,u=n[i],s=u.length,c=r[i]=[],f=0;f<s;++f)(a=u[f])&&t.call(a,a.__data__,f,u)&&c.push(a);return new $(r,this._parents)},data:function(t,n){if(!t)return y=new Array(this.size()),h=-1,this.each(function(t){y[++h]=t}),y;var e,r=n?c:s,i=this._parents,o=this._groups;"function"!=typeof t&&(e=t,t=function(){return e});for(var a=o.length,u=new Array(a),f=new Array(a),l=new Array(a),h=0;h<a;++h){var d=i[h],p=o[h],g=p.length,y=t.call(d,d&&d.__data__,h,i),v=y.length,m=f[h]=new Array(v),_=u[h]=new Array(v);r(d,p,m,_,l[h]=new Array(g),y,n);for(var b,x,w=0,M=0;w<v;++w)if(b=m[w]){for(w>=M&&(M=w+1);!(x=_[M])&&++M<v;);b._next=x||null}}return(u=new $(u,i))._enter=f,u._exit=l,u},enter:function(){return new $(this._enter||this._groups.map(a),this._parents)},exit:function(){return new $(this._exit||this._groups.map(a),this._parents)},join:function(t,n,e){var r=this.enter(),i=this,o=this.exit();return r="function"==typeof t?t(r):r.append(t+""),null!=n&&(i=n(i)),null==e?o.remove():e(o),r&&i?r.merge(i).order():i},merge:function(t){for(var n=this._groups,e=t._groups,r=n.length,i=e.length,o=Math.min(r,i),a=new Array(r),u=0;u<o;++u)for(var s,c=n[u],f=e[u],l=c.length,h=a[u]=new Array(l),d=0;d<l;++d)(s=c[d]||f[d])&&(h[d]=s);for(;u<r;++u)a[u]=n[u];return new $(a,this._parents)},order:function(){for(var t=this._groups,n=-1,e=t.length;++n<e;)for(var r,i=t[n],o=i.length-1,a=i[o];--o>=0;)(r=i[o])&&(a&&4^r.compareDocumentPosition(a)&&a.parentNode.insertBefore(r,a),a=r);return this},sort:function(t){function n(n,e){return n&&e?t(n.__data__,e.__data__):!n-!e}t||(t=f);for(var e=this._groups,r=e.length,i=new Array(r),o=0;o<r;++o){for(var a,u=e[o],s=u.length,c=i[o]=new Array(s),l=0;l<s;++l)(a=u[l])&&(c[l]=a);c.sort(n)}return new $(i,this._parents).order()},call:function(){var t=arguments[0];return arguments[0]=this,t.apply(null,arguments),this},nodes:function(){var t=new Array(this.size()),n=-1;return this.each(function(){t[++n]=this}),t},node:function(){for(var t=this._groups,n=0,e=t.length;n<e;++n)for(var r=t[n],i=0,o=r.length;i<o;++i){var a=r[i];if(a)return a}return null},size:function(){var t=0;return this.each(function(){++t}),t},empty:function(){return!this.node()},each:function(t){for(var n=this._groups,e=0,r=n.length;e<r;++e)for(var i,o=n[e],a=0,u=o.length;a<u;++a)(i=o[a])&&t.call(i,i.__data__,a,o);return this},attr:function(t,n){var e=(0,l.A)(t);if(arguments.length<2){var r=this.node();return e.local?r.getAttributeNS(e.space,e.local):r.getAttribute(e)}return this.each((null==n?e.local?d:h:"function"==typeof n?e.local?v:y:e.local?g:p)(e,n))},style:m.A,property:function(t,n){return arguments.length>1?this.each((null==n?_:"function"==typeof n?x:b)(t,n)):this.node()[t]},classed:function(t,n){var e=w(t+"");if(arguments.length<2){for(var r=M(this.node()),i=-1,o=e.length;++i<o;)if(!r.contains(e[i]))return!1;return!0}return this.each(("function"==typeof n?k:n?N:T)(e,n))},text:function(t){return arguments.length?this.each(null==t?C:("function"==typeof t?z:P)(t)):this.node().textContent},html:function(t){return arguments.length?this.each(null==t?I:("function"==typeof t?D:O)(t)):this.node().innerHTML},raise:function(){return this.each(R)},lower:function(){return this.each(B)},append:function(t){var n="function"==typeof t?t:(0,L.A)(t);return this.select(function(){return this.appendChild(n.apply(this,arguments))})},insert:function(t,n){var e="function"==typeof t?t:(0,L.A)(t),i=null==n?U:"function"==typeof n?n:(0,r.A)(n);return this.select(function(){return this.insertBefore(e.apply(this,arguments),i.apply(this,arguments)||null)})},remove:function(){return this.each(V)},clone:function(t){return this.select(t?F:q)},datum:function(t){return arguments.length?this.property("__data__",t):this.node().__data__},on:Y.Ay,dispatch:function(t,n){return this.each(("function"==typeof n?X:j)(t,n))}};const Q=Z},993:(t,n,e)=>{"use strict";e.d(n,{A:()=>i});var r=e(454);function i(){for(var t,n=r.f0;t=n.sourceEvent;)n=t;return n}},996:(t,n,e)=>{"use strict";e.d(n,{A:()=>s});var r={value:function(){}};function i(){for(var t,n=0,e=arguments.length,r={};n<e;++n){if(!(t=arguments[n]+"")||t in r||/[\s.]/.test(t))throw new Error("illegal type: "+t);r[t]=[]}return new o(r)}function o(t){this._=t}function a(t,n){for(var e,r=0,i=t.length;r<i;++r)if((e=t[r]).name===n)return e.value}function u(t,n,e){for(var i=0,o=t.length;i<o;++i)if(t[i].name===n){t[i]=r,t=t.slice(0,i).concat(t.slice(i+1));break}return null!=e&&t.push({name:n,value:e}),t}o.prototype=i.prototype={constructor:o,on:function(t,n){var e,r,i=this._,o=(r=i,(t+"").trim().split(/^|\s+/).map(function(t){var n="",e=t.indexOf(".");if(e>=0&&(n=t.slice(e+1),t=t.slice(0,e)),t&&!r.hasOwnProperty(t))throw new Error("unknown type: "+t);return{type:t,name:n}})),s=-1,c=o.length;if(!(arguments.length<2)){if(null!=n&&"function"!=typeof n)throw new Error("invalid callback: "+n);for(;++s<c;)if(e=(t=o[s]).type)i[e]=u(i[e],t.name,n);else if(null==n)for(e in i)i[e]=u(i[e],t.name,null);return this}for(;++s<c;)if((e=(t=o[s]).type)&&(e=a(i[e],t.name)))return e},copy:function(){var t={},n=this._;for(var e in n)t[e]=n[e].slice();return new o(t)},call:function(t,n){if((e=arguments.length-2)>0)for(var e,r,i=new Array(e),o=0;o<e;++o)i[o]=arguments[o+2];if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(o=0,e=(r=this._[t]).length;o<e;++o)r[o].value.apply(n,i)},apply:function(t,n,e){if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(var r=this._[t],i=0,o=r.length;i<o;++i)r[i].value.apply(n,e)}};const s=i}},n={};function e(r){var i=n[r];if(void 0!==i)return i.exports;var o=n[r]={exports:{}};return t[r].call(o.exports,o,o.exports,e),o.exports}e.d=(t,n)=>{for(var r in n)e.o(n,r)&&!e.o(t,r)&&Object.defineProperty(t,r,{enumerable:!0,get:n[r]})},e.o=(t,n)=>Object.prototype.hasOwnProperty.call(t,n),e.r=t=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},(()=>{"use strict";var t={};e.r(t),e.d(t,{FormatSpecifier:()=>Ka,active:()=>Be,arc:()=>ib,area:()=>fb,areaRadial:()=>_b,ascending:()=>r,autoType:()=>yo,axisBottom:()=>ut,axisLeft:()=>st,axisRight:()=>at,axisTop:()=>ot,bisect:()=>s,bisectLeft:()=>u,bisectRight:()=>a,bisector:()=>i,blob:()=>oa,brush:()=>fr,brushSelection:()=>ur,brushX:()=>sr,brushY:()=>cr,buffer:()=>ua,chord:()=>mr,clientPoint:()=>L_.clientPoint,cluster:()=>vh,color:()=>kt,contourDensity:()=>Fi,contours:()=>Ri,create:()=>L_.create,creator:()=>L_.creator,cross:()=>l,csv:()=>ha,csvFormat:()=>eo,csvFormatBody:()=>ro,csvFormatRow:()=>oo,csvFormatRows:()=>io,csvFormatValue:()=>ao,csvParse:()=>to,csvParseRows:()=>no,cubehelix:()=>Ei,curveBasis:()=>Jb,curveBasisClosed:()=>nx,curveBasisOpen:()=>rx,curveBundle:()=>ox,curveCardinal:()=>sx,curveCardinalClosed:()=>fx,curveCardinalOpen:()=>hx,curveCatmullRom:()=>gx,curveCatmullRomClosed:()=>vx,curveCatmullRomOpen:()=>_x,curveLinear:()=>ab,curveLinearClosed:()=>xx,curveMonotoneX:()=>kx,curveMonotoneY:()=>Cx,curveNatural:()=>Ix,curveStep:()=>Dx,curveStepAfter:()=>Bx,curveStepBefore:()=>Rx,customEvent:()=>L_.customEvent,descending:()=>h,deviation:()=>g,dispatch:()=>ct.A,drag:()=>Yi.drag,dragDisable:()=>Yi.dragDisable,dragEnable:()=>Yi.dragEnable,dsv:()=>la,dsvFormat:()=>Ki,easeBack:()=>Jo,easeBackIn:()=>Qo,easeBackInOut:()=>Jo,easeBackOut:()=>Ko,easeBounce:()=>Wo,easeBounceIn:()=>Xo,easeBounceInOut:()=>$o,easeBounceOut:()=>Wo,easeCircle:()=>Ro,easeCircleIn:()=>Oo,easeCircleInOut:()=>Ro,easeCircleOut:()=>Do,easeCubic:()=>Ie,easeCubicIn:()=>Pe,easeCubicInOut:()=>Ie,easeCubicOut:()=>ze,easeElastic:()=>ea,easeElasticIn:()=>na,easeElasticInOut:()=>ra,easeElasticOut:()=>ea,easeExp:()=>Io,easeExpIn:()=>Po,easeExpInOut:()=>Io,easeExpOut:()=>zo,easeLinear:()=>mo,easePoly:()=>Ao,easePolyIn:()=>wo,easePolyInOut:()=>Ao,easePolyOut:()=>Mo,easeQuad:()=>xo,easeQuadIn:()=>_o,easeQuadInOut:()=>xo,easeQuadOut:()=>bo,easeSin:()=>ko,easeSinIn:()=>No,easeSinInOut:()=>ko,easeSinOut:()=>To,entries:()=>$r,event:()=>L_.event,extent:()=>y,forceCenter:()=>xa,forceCollide:()=>Oa,forceLink:()=>Ba,forceManyBody:()=>Ya,forceRadial:()=>Ga,forceSimulation:()=>Fa,forceX:()=>Ha,forceY:()=>ja,format:()=>ru,formatDefaultLocale:()=>su,formatLocale:()=>uu,formatPrefix:()=>iu,formatSpecifier:()=>Qa,geoAlbers:()=>zl,geoAlbersUsa:()=>Il,geoArea:()=>is,geoAzimuthalEqualArea:()=>Bl,geoAzimuthalEqualAreaRaw:()=>Rl,geoAzimuthalEquidistant:()=>Ul,geoAzimuthalEquidistantRaw:()=>Ll,geoBounds:()=>Zs,geoCentroid:()=>sc,geoCircle:()=>_c,geoClipAntimeridian:()=>Pc,geoClipCircle:()=>zc,geoClipExtent:()=>Rc,geoClipRectangle:()=>Dc,geoConicConformal:()=>Hl,geoConicConformalRaw:()=>Gl,geoConicEqualArea:()=>Pl,geoConicEqualAreaRaw:()=>Cl,geoConicEquidistant:()=>$l,geoConicEquidistantRaw:()=>Wl,geoContains:()=>rf,geoDistance:()=>Wc,geoEqualEarth:()=>eh,geoEqualEarthRaw:()=>nh,geoEquirectangular:()=>Xl,geoEquirectangularRaw:()=>jl,geoGnomonic:()=>ih,geoGnomonicRaw:()=>rh,geoGraticule:()=>uf,geoGraticule10:()=>sf,geoIdentity:()=>oh,geoInterpolate:()=>cf,geoLength:()=>Hc,geoMercator:()=>ql,geoMercatorRaw:()=>Vl,geoNaturalEarth1:()=>uh,geoNaturalEarth1Raw:()=>ah,geoOrthographic:()=>ch,geoOrthographicRaw:()=>sh,geoPath:()=>hl,geoProjection:()=>Nl,geoProjectionMutator:()=>Tl,geoRotation:()=>yc,geoStereographic:()=>lh,geoStereographicRaw:()=>fh,geoStream:()=>Hu,geoTransform:()=>dl,geoTransverseMercator:()=>dh,geoTransverseMercatorRaw:()=>hh,gray:()=>ai,hcl:()=>gi,hierarchy:()=>_h,histogram:()=>C,hsl:()=>Vt,html:()=>_a,image:()=>pa,interpolate:()=>ln,interpolateArray:()=>en,interpolateBasis:()=>Gt,interpolateBasisClosed:()=>Ht,interpolateBlues:()=>l_,interpolateBrBG:()=>Mm,interpolateBuGn:()=>qm,interpolateBuPu:()=>Ym,interpolateCividis:()=>w_,interpolateCool:()=>S_,interpolateCubehelix:()=>Od,interpolateCubehelixDefault:()=>M_,interpolateCubehelixLong:()=>Dd,interpolateDate:()=>on,interpolateDiscrete:()=>vd,interpolateGnBu:()=>Hm,interpolateGreens:()=>d_,interpolateGreys:()=>g_,interpolateHcl:()=>Pd,interpolateHclLong:()=>zd,interpolateHsl:()=>Nd,interpolateHslLong:()=>Td,interpolateHue:()=>md,interpolateInferno:()=>R_,interpolateLab:()=>kd,interpolateMagma:()=>D_,interpolateNumber:()=>an,interpolateNumberArray:()=>tn,interpolateObject:()=>un,interpolateOrRd:()=>Xm,interpolateOranges:()=>x_,interpolatePRGn:()=>Sm,interpolatePiYG:()=>Nm,interpolatePlasma:()=>B_,interpolatePuBu:()=>Qm,interpolatePuBuGn:()=>$m,interpolatePuOr:()=>km,interpolatePuRd:()=>Jm,interpolatePurples:()=>v_,interpolateRainbow:()=>N_,interpolateRdBu:()=>Pm,interpolateRdGy:()=>Im,interpolateRdPu:()=>n_,interpolateRdYlBu:()=>Dm,interpolateRdYlGn:()=>Bm,interpolateReds:()=>__,interpolateRgb:()=>Zt,interpolateRgbBasis:()=>Kt,interpolateRgbBasisClosed:()=>Jt,interpolateRound:()=>_d,interpolateSinebow:()=>P_,interpolateSpectral:()=>Um,interpolateString:()=>fn,interpolateTransformCss:()=>ne,interpolateTransformSvg:()=>ee,interpolateTurbo:()=>z_,interpolateViridis:()=>O_,interpolateWarm:()=>A_,interpolateYlGn:()=>o_,interpolateYlGnBu:()=>r_,interpolateYlOrBr:()=>u_,interpolateYlOrRd:()=>c_,interpolateZoom:()=>Sd,interrupt:()=>jn,interval:()=>iw,isoFormat:()=>nw,isoParse:()=>rw,json:()=>ya,keys:()=>Xr,lab:()=>ui,lch:()=>pi,line:()=>cb,lineRadial:()=>mb,linkHorizontal:()=>Tb,linkRadial:()=>Cb,linkVertical:()=>kb,local:()=>L_.local,map:()=>Br,matcher:()=>L_.matcher,max:()=>O,mean:()=>D,median:()=>R,merge:()=>B,min:()=>L,mouse:()=>L_.mouse,namespace:()=>L_.namespace,namespaces:()=>L_.namespaces,nest:()=>Lr,now:()=>Nn,pack:()=>Yh,packEnclose:()=>Sh,packSiblings:()=>Lh,pairs:()=>c,partition:()=>$h,path:()=>Nr,permute:()=>U,pie:()=>db,piecewise:()=>Rd,pointRadial:()=>bb,polygonArea:()=>Ld,polygonCentroid:()=>Ud,polygonContains:()=>Gd,polygonHull:()=>Yd,polygonLength:()=>Hd,precisionFixed:()=>cu,precisionPrefix:()=>fu,precisionRound:()=>lu,quadtree:()=>Ta,quantile:()=>P,quantize:()=>Bd,radialArea:()=>_b,radialLine:()=>mb,randomBates:()=>Qd,randomExponential:()=>Kd,randomIrwinHall:()=>Zd,randomLogNormal:()=>$d,randomNormal:()=>Wd,randomUniform:()=>Xd,range:()=>w,rgb:()=>It,ribbon:()=>Ir,scaleBand:()=>ap,scaleDiverging:()=>om,scaleDivergingLog:()=>am,scaleDivergingPow:()=>sm,scaleDivergingSqrt:()=>cm,scaleDivergingSymlog:()=>um,scaleIdentity:()=>wp,scaleImplicit:()=>ip,scaleLinear:()=>xp,scaleLog:()=>Pp,scaleOrdinal:()=>op,scalePoint:()=>sp,scalePow:()=>Vp,scaleQuantile:()=>Fp,scaleQuantize:()=>Yp,scaleSequential:()=>Kv,scaleSequentialLog:()=>Jv,scaleSequentialPow:()=>nm,scaleSequentialQuantile:()=>rm,scaleSequentialSqrt:()=>em,scaleSequentialSymlog:()=>tm,scaleSqrt:()=>qp,scaleSymlog:()=>Dp,scaleThreshold:()=>Gp,scaleTime:()=>Uv,scaleUtc:()=>$v,scan:()=>V,schemeAccent:()=>hm,schemeBlues:()=>f_,schemeBrBG:()=>wm,schemeBuGn:()=>Vm,schemeBuPu:()=>Fm,schemeCategory10:()=>lm,schemeDark2:()=>dm,schemeGnBu:()=>Gm,schemeGreens:()=>h_,schemeGreys:()=>p_,schemeOrRd:()=>jm,schemeOranges:()=>b_,schemePRGn:()=>Am,schemePaired:()=>pm,schemePastel1:()=>gm,schemePastel2:()=>ym,schemePiYG:()=>Em,schemePuBu:()=>Zm,schemePuBuGn:()=>Wm,schemePuOr:()=>Tm,schemePuRd:()=>Km,schemePurples:()=>y_,schemeRdBu:()=>Cm,schemeRdGy:()=>zm,schemeRdPu:()=>t_,schemeRdYlBu:()=>Om,schemeRdYlGn:()=>Rm,schemeReds:()=>m_,schemeSet1:()=>vm,schemeSet2:()=>mm,schemeSet3:()=>_m,schemeSpectral:()=>Lm,schemeTableau10:()=>bm,schemeYlGn:()=>i_,schemeYlGnBu:()=>e_,schemeYlOrBr:()=>a_,schemeYlOrRd:()=>s_,select:()=>L_.select,selectAll:()=>L_.selectAll,selection:()=>L_.selection,selector:()=>L_.selector,selectorAll:()=>L_.selectorAll,set:()=>jr,shuffle:()=>q,stack:()=>qx,stackOffsetDiverging:()=>Yx,stackOffsetExpand:()=>Fx,stackOffsetNone:()=>Lx,stackOffsetSilhouette:()=>Gx,stackOffsetWiggle:()=>Hx,stackOrderAppearance:()=>jx,stackOrderAscending:()=>Wx,stackOrderDescending:()=>Zx,stackOrderInsideOut:()=>Qx,stackOrderNone:()=>Ux,stackOrderReverse:()=>Kx,stratify:()=>nd,style:()=>L_.style,sum:()=>F,svg:()=>ba,symbol:()=>$b,symbolCircle:()=>Pb,symbolCross:()=>zb,symbolDiamond:()=>Db,symbolSquare:()=>Vb,symbolStar:()=>Ub,symbolTriangle:()=>Fb,symbolWye:()=>Xb,symbols:()=>Wb,text:()=>ca,thresholdFreedmanDiaconis:()=>z,thresholdScott:()=>I,thresholdSturges:()=>k,tickFormat:()=>_p,tickIncrement:()=>N,tickStep:()=>T,ticks:()=>E,timeDay:()=>xg,timeDays:()=>wg,timeFormat:()=>uy,timeFormatDefaultLocale:()=>Tv,timeFormatLocale:()=>oy,timeFriday:()=>lg,timeFridays:()=>mg,timeHour:()=>Ag,timeHours:()=>Sg,timeInterval:()=>Xp,timeMillisecond:()=>Ig,timeMilliseconds:()=>Og,timeMinute:()=>Ng,timeMinutes:()=>Tg,timeMonday:()=>ug,timeMondays:()=>pg,timeMonth:()=>Kp,timeMonths:()=>Jp,timeParse:()=>sy,timeSaturday:()=>hg,timeSaturdays:()=>_g,timeSecond:()=>Cg,timeSeconds:()=>Pg,timeSunday:()=>ag,timeSundays:()=>dg,timeThursday:()=>fg,timeThursdays:()=>vg,timeTuesday:()=>sg,timeTuesdays:()=>gg,timeWednesday:()=>cg,timeWednesdays:()=>yg,timeWeek:()=>ag,timeWeeks:()=>dg,timeYear:()=>$p,timeYears:()=>Zp,timeout:()=>Dn,timer:()=>Cn,timerFlush:()=>Pn,touch:()=>L_.touch,touches:()=>L_.touches,transition:()=>Te,transpose:()=>Y,tree:()=>sd,treemap:()=>dd,treemapBinary:()=>pd,treemapDice:()=>Wh,treemapResquarify:()=>yd,treemapSlice:()=>cd,treemapSliceDice:()=>gd,treemapSquarify:()=>hd,tsv:()=>da,tsvFormat:()=>fo,tsvFormatBody:()=>lo,tsvFormatRow:()=>po,tsvFormatRows:()=>ho,tsvFormatValue:()=>go,tsvParse:()=>so,tsvParseRows:()=>co,utcDay:()=>Qg,utcDays:()=>Kg,utcFormat:()=>cy,utcFriday:()=>qg,utcFridays:()=>Wg,utcHour:()=>Gv,utcHours:()=>Hv,utcMillisecond:()=>Ig,utcMilliseconds:()=>Og,utcMinute:()=>Xv,utcMinutes:()=>Wv,utcMonday:()=>Bg,utcMondays:()=>Gg,utcMonth:()=>qv,utcMonths:()=>Fv,utcParse:()=>fy,utcSaturday:()=>Fg,utcSaturdays:()=>$g,utcSecond:()=>Cg,utcSeconds:()=>Pg,utcSunday:()=>Rg,utcSundays:()=>Yg,utcThursday:()=>Vg,utcThursdays:()=>Xg,utcTuesday:()=>Lg,utcTuesdays:()=>Hg,utcWednesday:()=>Ug,utcWednesdays:()=>jg,utcWeek:()=>Rg,utcWeeks:()=>Yg,utcYear:()=>ty,utcYears:()=>ny,values:()=>Wr,variance:()=>p,version:()=>n,voronoi:()=>Gw,window:()=>L_.window,xml:()=>ma,zip:()=>H,zoom:()=>iM,zoomIdentity:()=>Ww,zoomTransform:()=>$w});var n="5.16.0";function r(t,n){return t<n?-1:t>n?1:t>=n?0:NaN}function i(t){var n;return 1===t.length&&(n=t,t=function(t,e){return r(n(t),e)}),{left:function(n,e,r,i){for(null==r&&(r=0),null==i&&(i=n.length);r<i;){var o=r+i>>>1;t(n[o],e)<0?r=o+1:i=o}return r},right:function(n,e,r,i){for(null==r&&(r=0),null==i&&(i=n.length);r<i;){var o=r+i>>>1;t(n[o],e)>0?i=o:r=o+1}return r}}}var o=i(r),a=o.right,u=o.left;const s=a;function c(t,n){null==n&&(n=f);for(var e=0,r=t.length-1,i=t[0],o=new Array(r<0?0:r);e<r;)o[e]=n(i,i=t[++e]);return o}function f(t,n){return[t,n]}function l(t,n,e){var r,i,o,a,u=t.length,s=n.length,c=new Array(u*s);for(null==e&&(e=f),r=o=0;r<u;++r)for(a=t[r],i=0;i<s;++i,++o)c[o]=e(a,n[i]);return c}function h(t,n){return n<t?-1:n>t?1:n>=t?0:NaN}function d(t){return null===t?NaN:+t}function p(t,n){var e,r,i=t.length,o=0,a=-1,u=0,s=0;if(null==n)for(;++a<i;)isNaN(e=d(t[a]))||(s+=(r=e-u)*(e-(u+=r/++o)));else for(;++a<i;)isNaN(e=d(n(t[a],a,t)))||(s+=(r=e-u)*(e-(u+=r/++o)));if(o>1)return s/(o-1)}function g(t,n){var e=p(t,n);return e?Math.sqrt(e):e}function y(t,n){var e,r,i,o=t.length,a=-1;if(null==n){for(;++a<o;)if(null!=(e=t[a])&&e>=e)for(r=i=e;++a<o;)null!=(e=t[a])&&(r>e&&(r=e),i<e&&(i=e))}else for(;++a<o;)if(null!=(e=n(t[a],a,t))&&e>=e)for(r=i=e;++a<o;)null!=(e=n(t[a],a,t))&&(r>e&&(r=e),i<e&&(i=e));return[r,i]}var v=Array.prototype,m=v.slice,_=v.map;function b(t){return function(){return t}}function x(t){return t}function w(t,n,e){t=+t,n=+n,e=(i=arguments.length)<2?(n=t,t=0,1):i<3?1:+e;for(var r=-1,i=0|Math.max(0,Math.ceil((n-t)/e)),o=new Array(i);++r<i;)o[r]=t+r*e;return o}var M=Math.sqrt(50),A=Math.sqrt(10),S=Math.sqrt(2);function E(t,n,e){var r,i,o,a,u=-1;if(e=+e,(t=+t)===(n=+n)&&e>0)return[t];if((r=n<t)&&(i=t,t=n,n=i),0===(a=N(t,n,e))||!isFinite(a))return[];if(a>0)for(t=Math.ceil(t/a),n=Math.floor(n/a),o=new Array(i=Math.ceil(n-t+1));++u<i;)o[u]=(t+u)*a;else for(t=Math.floor(t*a),n=Math.ceil(n*a),o=new Array(i=Math.ceil(t-n+1));++u<i;)o[u]=(t-u)/a;return r&&o.reverse(),o}function N(t,n,e){var r=(n-t)/Math.max(0,e),i=Math.floor(Math.log(r)/Math.LN10),o=r/Math.pow(10,i);return i>=0?(o>=M?10:o>=A?5:o>=S?2:1)*Math.pow(10,i):-Math.pow(10,-i)/(o>=M?10:o>=A?5:o>=S?2:1)}function T(t,n,e){var r=Math.abs(n-t)/Math.max(0,e),i=Math.pow(10,Math.floor(Math.log(r)/Math.LN10)),o=r/i;return o>=M?i*=10:o>=A?i*=5:o>=S&&(i*=2),n<t?-i:i}function k(t){return Math.ceil(Math.log(t.length)/Math.LN2)+1}function C(){var t=x,n=y,e=k;function r(r){var i,o,a=r.length,u=new Array(a);for(i=0;i<a;++i)u[i]=t(r[i],i,r);var c=n(u),f=c[0],l=c[1],h=e(u,f,l);Array.isArray(h)||(h=T(f,l,h),h=w(Math.ceil(f/h)*h,l,h));for(var d=h.length;h[0]<=f;)h.shift(),--d;for(;h[d-1]>l;)h.pop(),--d;var p,g=new Array(d+1);for(i=0;i<=d;++i)(p=g[i]=[]).x0=i>0?h[i-1]:f,p.x1=i<d?h[i]:l;for(i=0;i<a;++i)f<=(o=u[i])&&o<=l&&g[s(h,o,0,d)].push(r[i]);return g}return r.value=function(n){return arguments.length?(t="function"==typeof n?n:b(n),r):t},r.domain=function(t){return arguments.length?(n="function"==typeof t?t:b([t[0],t[1]]),r):n},r.thresholds=function(t){return arguments.length?(e="function"==typeof t?t:Array.isArray(t)?b(m.call(t)):b(t),r):e},r}function P(t,n,e){if(null==e&&(e=d),r=t.length){if((n=+n)<=0||r<2)return+e(t[0],0,t);if(n>=1)return+e(t[r-1],r-1,t);var r,i=(r-1)*n,o=Math.floor(i),a=+e(t[o],o,t);return a+(+e(t[o+1],o+1,t)-a)*(i-o)}}function z(t,n,e){return t=_.call(t,d).sort(r),Math.ceil((e-n)/(2*(P(t,.75)-P(t,.25))*Math.pow(t.length,-1/3)))}function I(t,n,e){return Math.ceil((e-n)/(3.5*g(t)*Math.pow(t.length,-1/3)))}function O(t,n){var e,r,i=t.length,o=-1;if(null==n){for(;++o<i;)if(null!=(e=t[o])&&e>=e)for(r=e;++o<i;)null!=(e=t[o])&&e>r&&(r=e)}else for(;++o<i;)if(null!=(e=n(t[o],o,t))&&e>=e)for(r=e;++o<i;)null!=(e=n(t[o],o,t))&&e>r&&(r=e);return r}function D(t,n){var e,r=t.length,i=r,o=-1,a=0;if(null==n)for(;++o<r;)isNaN(e=d(t[o]))?--i:a+=e;else for(;++o<r;)isNaN(e=d(n(t[o],o,t)))?--i:a+=e;if(i)return a/i}function R(t,n){var e,i=t.length,o=-1,a=[];if(null==n)for(;++o<i;)isNaN(e=d(t[o]))||a.push(e);else for(;++o<i;)isNaN(e=d(n(t[o],o,t)))||a.push(e);return P(a.sort(r),.5)}function B(t){for(var n,e,r,i=t.length,o=-1,a=0;++o<i;)a+=t[o].length;for(e=new Array(a);--i>=0;)for(n=(r=t[i]).length;--n>=0;)e[--a]=r[n];return e}function L(t,n){var e,r,i=t.length,o=-1;if(null==n){for(;++o<i;)if(null!=(e=t[o])&&e>=e)for(r=e;++o<i;)null!=(e=t[o])&&r>e&&(r=e)}else for(;++o<i;)if(null!=(e=n(t[o],o,t))&&e>=e)for(r=e;++o<i;)null!=(e=n(t[o],o,t))&&r>e&&(r=e);return r}function U(t,n){for(var e=n.length,r=new Array(e);e--;)r[e]=t[n[e]];return r}function V(t,n){if(e=t.length){var e,i,o=0,a=0,u=t[a];for(null==n&&(n=r);++o<e;)(n(i=t[o],u)<0||0!==n(u,u))&&(u=i,a=o);return 0===n(u,u)?a:void 0}}function q(t,n,e){for(var r,i,o=(null==e?t.length:e)-(n=null==n?0:+n);o;)i=Math.random()*o--|0,r=t[o+n],t[o+n]=t[i+n],t[i+n]=r;return t}function F(t,n){var e,r=t.length,i=-1,o=0;if(null==n)for(;++i<r;)(e=+t[i])&&(o+=e);else for(;++i<r;)(e=+n(t[i],i,t))&&(o+=e);return o}function Y(t){if(!(i=t.length))return[];for(var n=-1,e=L(t,G),r=new Array(e);++n<e;)for(var i,o=-1,a=r[n]=new Array(i);++o<i;)a[o]=t[o][n];return r}function G(t){return t.length}function H(){return Y(arguments)}var j=Array.prototype.slice;function X(t){return t}var W=1,$=2,Z=3,Q=4,K=1e-6;function J(t){return"translate("+(t+.5)+",0)"}function tt(t){return"translate(0,"+(t+.5)+")"}function nt(t){return function(n){return+t(n)}}function et(t){var n=Math.max(0,t.bandwidth()-1)/2;return t.round()&&(n=Math.round(n)),function(e){return+t(e)+n}}function rt(){return!this.__axis}function it(t,n){var e=[],r=null,i=null,o=6,a=6,u=3,s=t===W||t===Q?-1:1,c=t===Q||t===$?"x":"y",f=t===W||t===Z?J:tt;function l(l){var h=null==r?n.ticks?n.ticks.apply(n,e):n.domain():r,d=null==i?n.tickFormat?n.tickFormat.apply(n,e):X:i,p=Math.max(o,0)+u,g=n.range(),y=+g[0]+.5,v=+g[g.length-1]+.5,m=(n.bandwidth?et:nt)(n.copy()),_=l.selection?l.selection():l,b=_.selectAll(".domain").data([null]),x=_.selectAll(".tick").data(h,n).order(),w=x.exit(),M=x.enter().append("g").attr("class","tick"),A=x.select("line"),S=x.select("text");b=b.merge(b.enter().insert("path",".tick").attr("class","domain").attr("stroke","currentColor")),x=x.merge(M),A=A.merge(M.append("line").attr("stroke","currentColor").attr(c+"2",s*o)),S=S.merge(M.append("text").attr("fill","currentColor").attr(c,s*p).attr("dy",t===W?"0em":t===Z?"0.71em":"0.32em")),l!==_&&(b=b.transition(l),x=x.transition(l),A=A.transition(l),S=S.transition(l),w=w.transition(l).attr("opacity",K).attr("transform",function(t){return isFinite(t=m(t))?f(t):this.getAttribute("transform")}),M.attr("opacity",K).attr("transform",function(t){var n=this.parentNode.__axis;return f(n&&isFinite(n=n(t))?n:m(t))})),w.remove(),b.attr("d",t===Q||t==$?a?"M"+s*a+","+y+"H0.5V"+v+"H"+s*a:"M0.5,"+y+"V"+v:a?"M"+y+","+s*a+"V0.5H"+v+"V"+s*a:"M"+y+",0.5H"+v),x.attr("opacity",1).attr("transform",function(t){return f(m(t))}),A.attr(c+"2",s*o),S.attr(c,s*p).text(d),_.filter(rt).attr("fill","none").attr("font-size",10).attr("font-family","sans-serif").attr("text-anchor",t===$?"start":t===Q?"end":"middle"),_.each(function(){this.__axis=m})}return l.scale=function(t){return arguments.length?(n=t,l):n},l.ticks=function(){return e=j.call(arguments),l},l.tickArguments=function(t){return arguments.length?(e=null==t?[]:j.call(t),l):e.slice()},l.tickValues=function(t){return arguments.length?(r=null==t?null:j.call(t),l):r&&r.slice()},l.tickFormat=function(t){return arguments.length?(i=t,l):i},l.tickSize=function(t){return arguments.length?(o=a=+t,l):o},l.tickSizeInner=function(t){return arguments.length?(o=+t,l):o},l.tickSizeOuter=function(t){return arguments.length?(a=+t,l):a},l.tickPadding=function(t){return arguments.length?(u=+t,l):u},l}function ot(t){return it(W,t)}function at(t){return it($,t)}function ut(t){return it(Z,t)}function st(t){return it(Q,t)}var ct=e(996),ft=e(15);function lt(t,n,e){t.prototype=n.prototype=e,e.constructor=t}function ht(t,n){var e=Object.create(t.prototype);for(var r in n)e[r]=n[r];return e}function dt(){}var pt=.7,gt=1/pt,yt="\\s*([+-]?\\d+)\\s*",vt="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)\\s*",mt="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)%\\s*",_t=/^#([0-9a-f]{3,8})$/,bt=new RegExp("^rgb\\("+[yt,yt,yt]+"\\)$"),xt=new RegExp("^rgb\\("+[mt,mt,mt]+"\\)$"),wt=new RegExp("^rgba\\("+[yt,yt,yt,vt]+"\\)$"),Mt=new RegExp("^rgba\\("+[mt,mt,mt,vt]+"\\)$"),At=new RegExp("^hsl\\("+[vt,mt,mt]+"\\)$"),St=new RegExp("^hsla\\("+[vt,mt,mt,vt]+"\\)$"),Et={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};function Nt(){return this.rgb().formatHex()}function Tt(){return this.rgb().formatRgb()}function kt(t){var n,e;return t=(t+"").trim().toLowerCase(),(n=_t.exec(t))?(e=n[1].length,n=parseInt(n[1],16),6===e?Ct(n):3===e?new Ot(n>>8&15|n>>4&240,n>>4&15|240&n,(15&n)<<4|15&n,1):8===e?Pt(n>>24&255,n>>16&255,n>>8&255,(255&n)/255):4===e?Pt(n>>12&15|n>>8&240,n>>8&15|n>>4&240,n>>4&15|240&n,((15&n)<<4|15&n)/255):null):(n=bt.exec(t))?new Ot(n[1],n[2],n[3],1):(n=xt.exec(t))?new Ot(255*n[1]/100,255*n[2]/100,255*n[3]/100,1):(n=wt.exec(t))?Pt(n[1],n[2],n[3],n[4]):(n=Mt.exec(t))?Pt(255*n[1]/100,255*n[2]/100,255*n[3]/100,n[4]):(n=At.exec(t))?Lt(n[1],n[2]/100,n[3]/100,1):(n=St.exec(t))?Lt(n[1],n[2]/100,n[3]/100,n[4]):Et.hasOwnProperty(t)?Ct(Et[t]):"transparent"===t?new Ot(NaN,NaN,NaN,0):null}function Ct(t){return new Ot(t>>16&255,t>>8&255,255&t,1)}function Pt(t,n,e,r){return r<=0&&(t=n=e=NaN),new Ot(t,n,e,r)}function zt(t){return t instanceof dt||(t=kt(t)),t?new Ot((t=t.rgb()).r,t.g,t.b,t.opacity):new Ot}function It(t,n,e,r){return 1===arguments.length?zt(t):new Ot(t,n,e,null==r?1:r)}function Ot(t,n,e,r){this.r=+t,this.g=+n,this.b=+e,this.opacity=+r}function Dt(){return"#"+Bt(this.r)+Bt(this.g)+Bt(this.b)}function Rt(){var t=this.opacity;return(1===(t=isNaN(t)?1:Math.max(0,Math.min(1,t)))?"rgb(":"rgba(")+Math.max(0,Math.min(255,Math.round(this.r)||0))+", "+Math.max(0,Math.min(255,Math.round(this.g)||0))+", "+Math.max(0,Math.min(255,Math.round(this.b)||0))+(1===t?")":", "+t+")")}function Bt(t){return((t=Math.max(0,Math.min(255,Math.round(t)||0)))<16?"0":"")+t.toString(16)}function Lt(t,n,e,r){return r<=0?t=n=e=NaN:e<=0||e>=1?t=n=NaN:n<=0&&(t=NaN),new qt(t,n,e,r)}function Ut(t){if(t instanceof qt)return new qt(t.h,t.s,t.l,t.opacity);if(t instanceof dt||(t=kt(t)),!t)return new qt;if(t instanceof qt)return t;var n=(t=t.rgb()).r/255,e=t.g/255,r=t.b/255,i=Math.min(n,e,r),o=Math.max(n,e,r),a=NaN,u=o-i,s=(o+i)/2;return u?(a=n===o?(e-r)/u+6*(e<r):e===o?(r-n)/u+2:(n-e)/u+4,u/=s<.5?o+i:2-o-i,a*=60):u=s>0&&s<1?0:a,new qt(a,u,s,t.opacity)}function Vt(t,n,e,r){return 1===arguments.length?Ut(t):new qt(t,n,e,null==r?1:r)}function qt(t,n,e,r){this.h=+t,this.s=+n,this.l=+e,this.opacity=+r}function Ft(t,n,e){return 255*(t<60?n+(e-n)*t/60:t<180?e:t<240?n+(e-n)*(240-t)/60:n)}function Yt(t,n,e,r,i){var o=t*t,a=o*t;return((1-3*t+3*o-a)*n+(4-6*o+3*a)*e+(1+3*t+3*o-3*a)*r+a*i)/6}function Gt(t){var n=t.length-1;return function(e){var r=e<=0?e=0:e>=1?(e=1,n-1):Math.floor(e*n),i=t[r],o=t[r+1],a=r>0?t[r-1]:2*i-o,u=r<n-1?t[r+2]:2*o-i;return Yt((e-r/n)*n,a,i,o,u)}}function Ht(t){var n=t.length;return function(e){var r=Math.floor(((e%=1)<0?++e:e)*n),i=t[(r+n-1)%n],o=t[r%n],a=t[(r+1)%n],u=t[(r+2)%n];return Yt((e-r/n)*n,i,o,a,u)}}function jt(t){return function(){return t}}function Xt(t,n){return function(e){return t+e*n}}function Wt(t,n){var e=n-t;return e?Xt(t,e>180||e<-180?e-360*Math.round(e/360):e):jt(isNaN(t)?n:t)}function $t(t,n){var e=n-t;return e?Xt(t,e):jt(isNaN(t)?n:t)}lt(dt,kt,{copy:function(t){return Object.assign(new this.constructor,this,t)},displayable:function(){return this.rgb().displayable()},hex:Nt,formatHex:Nt,formatHsl:function(){return Ut(this).formatHsl()},formatRgb:Tt,toString:Tt}),lt(Ot,It,ht(dt,{brighter:function(t){return t=null==t?gt:Math.pow(gt,t),new Ot(this.r*t,this.g*t,this.b*t,this.opacity)},darker:function(t){return t=null==t?pt:Math.pow(pt,t),new Ot(this.r*t,this.g*t,this.b*t,this.opacity)},rgb:function(){return this},displayable:function(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:Dt,formatHex:Dt,formatRgb:Rt,toString:Rt})),lt(qt,Vt,ht(dt,{brighter:function(t){return t=null==t?gt:Math.pow(gt,t),new qt(this.h,this.s,this.l*t,this.opacity)},darker:function(t){return t=null==t?pt:Math.pow(pt,t),new qt(this.h,this.s,this.l*t,this.opacity)},rgb:function(){var t=this.h%360+360*(this.h<0),n=isNaN(t)||isNaN(this.s)?0:this.s,e=this.l,r=e+(e<.5?e:1-e)*n,i=2*e-r;return new Ot(Ft(t>=240?t-240:t+120,i,r),Ft(t,i,r),Ft(t<120?t+240:t-120,i,r),this.opacity)},displayable:function(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl:function(){var t=this.opacity;return(1===(t=isNaN(t)?1:Math.max(0,Math.min(1,t)))?"hsl(":"hsla(")+(this.h||0)+", "+100*(this.s||0)+"%, "+100*(this.l||0)+"%"+(1===t?")":", "+t+")")}}));const Zt=function t(n){var e=function(t){return 1===(t=+t)?$t:function(n,e){return e-n?function(t,n,e){return t=Math.pow(t,e),n=Math.pow(n,e)-t,e=1/e,function(r){return Math.pow(t+r*n,e)}}(n,e,t):jt(isNaN(n)?e:n)}}(n);function r(t,n){var r=e((t=It(t)).r,(n=It(n)).r),i=e(t.g,n.g),o=e(t.b,n.b),a=$t(t.opacity,n.opacity);return function(n){return t.r=r(n),t.g=i(n),t.b=o(n),t.opacity=a(n),t+""}}return r.gamma=t,r}(1);function Qt(t){return function(n){var e,r,i=n.length,o=new Array(i),a=new Array(i),u=new Array(i);for(e=0;e<i;++e)r=It(n[e]),o[e]=r.r||0,a[e]=r.g||0,u[e]=r.b||0;return o=t(o),a=t(a),u=t(u),r.opacity=1,function(t){return r.r=o(t),r.g=a(t),r.b=u(t),r+""}}}var Kt=Qt(Gt),Jt=Qt(Ht);function tn(t,n){n||(n=[]);var e,r=t?Math.min(n.length,t.length):0,i=n.slice();return function(o){for(e=0;e<r;++e)i[e]=t[e]*(1-o)+n[e]*o;return i}}function nn(t){return ArrayBuffer.isView(t)&&!(t instanceof DataView)}function en(t,n){return(nn(n)?tn:rn)(t,n)}function rn(t,n){var e,r=n?n.length:0,i=t?Math.min(r,t.length):0,o=new Array(i),a=new Array(r);for(e=0;e<i;++e)o[e]=ln(t[e],n[e]);for(;e<r;++e)a[e]=n[e];return function(t){for(e=0;e<i;++e)a[e]=o[e](t);return a}}function on(t,n){var e=new Date;return t=+t,n=+n,function(r){return e.setTime(t*(1-r)+n*r),e}}function an(t,n){return t=+t,n=+n,function(e){return t*(1-e)+n*e}}function un(t,n){var e,r={},i={};for(e in null!==t&&"object"==typeof t||(t={}),null!==n&&"object"==typeof n||(n={}),n)e in t?r[e]=ln(t[e],n[e]):i[e]=n[e];return function(t){for(e in r)i[e]=r[e](t);return i}}var sn=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,cn=new RegExp(sn.source,"g");function fn(t,n){var e,r,i,o=sn.lastIndex=cn.lastIndex=0,a=-1,u=[],s=[];for(t+="",n+="";(e=sn.exec(t))&&(r=cn.exec(n));)(i=r.index)>o&&(i=n.slice(o,i),u[a]?u[a]+=i:u[++a]=i),(e=e[0])===(r=r[0])?u[a]?u[a]+=r:u[++a]=r:(u[++a]=null,s.push({i:a,x:an(e,r)})),o=cn.lastIndex;return o<n.length&&(i=n.slice(o),u[a]?u[a]+=i:u[++a]=i),u.length<2?s[0]?function(t){return function(n){return t(n)+""}}(s[0].x):function(t){return function(){return t}}(n):(n=s.length,function(t){for(var e,r=0;r<n;++r)u[(e=s[r]).i]=e.x(t);return u.join("")})}function ln(t,n){var e,r=typeof n;return null==n||"boolean"===r?jt(n):("number"===r?an:"string"===r?(e=kt(n))?(n=e,Zt):fn:n instanceof kt?Zt:n instanceof Date?on:nn(n)?tn:Array.isArray(n)?rn:"function"!=typeof n.valueOf&&"function"!=typeof n.toString||isNaN(n)?un:an)(t,n)}var hn,dn,pn=e(897),gn=e(454),yn=e(204),vn=e(613),mn=e(906),_n=0,bn=0,xn=0,wn=0,Mn=0,An=0,Sn="object"==typeof performance&&performance.now?performance:Date,En="object"==typeof window&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(t){setTimeout(t,17)};function Nn(){return Mn||(En(Tn),Mn=Sn.now()+An)}function Tn(){Mn=0}function kn(){this._call=this._time=this._next=null}function Cn(t,n,e){var r=new kn;return r.restart(t,n,e),r}function Pn(){Nn(),++_n;for(var t,n=hn;n;)(t=Mn-n._time)>=0&&n._call.call(null,t),n=n._next;--_n}function zn(){Mn=(wn=Sn.now())+An,_n=bn=0;try{Pn()}finally{_n=0,function(){for(var t,n,e=hn,r=1/0;e;)e._call?(r>e._time&&(r=e._time),t=e,e=e._next):(n=e._next,e._next=null,e=t?t._next=n:hn=n);dn=t,On(r)}(),Mn=0}}function In(){var t=Sn.now(),n=t-wn;n>1e3&&(An-=n,wn=t)}function On(t){_n||(bn&&(bn=clearTimeout(bn)),t-Mn>24?(t<1/0&&(bn=setTimeout(zn,t-Sn.now()-An)),xn&&(xn=clearInterval(xn))):(xn||(wn=Sn.now(),xn=setInterval(In,1e3)),_n=1,En(zn)))}function Dn(t,n,e){var r=new kn;return n=null==n?0:+n,r.restart(function(e){r.stop(),t(e+n)},n,e),r}kn.prototype=Cn.prototype={constructor:kn,restart:function(t,n,e){if("function"!=typeof t)throw new TypeError("callback is not a function");e=(null==e?Nn():+e)+(null==n?0:+n),this._next||dn===this||(dn?dn._next=this:hn=this,dn=this),this._call=t,this._time=e,On()},stop:function(){this._call&&(this._call=null,this._time=1/0,On())}};var Rn=(0,ct.A)("start","end","cancel","interrupt"),Bn=[],Ln=1,Un=2,Vn=5,qn=6;function Fn(t,n,e,r,i,o){var a=t.__transition;if(a){if(e in a)return}else t.__transition={};!function(t,n,e){var r,i=t.__transition;function o(s){var c,f,l,h;if(e.state!==Ln)return u();for(c in i)if((h=i[c]).name===e.name){if(3===h.state)return Dn(o);4===h.state?(h.state=qn,h.timer.stop(),h.on.call("interrupt",t,t.__data__,h.index,h.group),delete i[c]):+c<n&&(h.state=qn,h.timer.stop(),h.on.call("cancel",t,t.__data__,h.index,h.group),delete i[c])}if(Dn(function(){3===e.state&&(e.state=4,e.timer.restart(a,e.delay,e.time),a(s))}),e.state=Un,e.on.call("start",t,t.__data__,e.index,e.group),e.state===Un){for(e.state=3,r=new Array(l=e.tween.length),c=0,f=-1;c<l;++c)(h=e.tween[c].value.call(t,t.__data__,e.index,e.group))&&(r[++f]=h);r.length=f+1}}function a(n){for(var i=n<e.duration?e.ease.call(null,n/e.duration):(e.timer.restart(u),e.state=Vn,1),o=-1,a=r.length;++o<a;)r[o].call(t,i);e.state===Vn&&(e.on.call("end",t,t.__data__,e.index,e.group),u())}function u(){for(var r in e.state=qn,e.timer.stop(),delete i[n],i)return;delete t.__transition}i[n]=e,e.timer=Cn(function(t){e.state=Ln,e.timer.restart(o,e.delay,e.time),e.delay<=t&&o(t-e.delay)},0,e.time)}(t,e,{name:n,index:r,group:i,on:Rn,tween:Bn,time:o.time,delay:o.delay,duration:o.duration,ease:o.ease,timer:null,state:0})}function Yn(t,n){var e=Hn(t,n);if(e.state>0)throw new Error("too late; already scheduled");return e}function Gn(t,n){var e=Hn(t,n);if(e.state>3)throw new Error("too late; already running");return e}function Hn(t,n){var e=t.__transition;if(!e||!(e=e[n]))throw new Error("transition not found");return e}function jn(t,n){var e,r,i,o=t.__transition,a=!0;if(o){for(i in n=null==n?null:n+"",o)(e=o[i]).name===n?(r=e.state>Un&&e.state<Vn,e.state=qn,e.timer.stop(),e.on.call(r?"interrupt":"cancel",t,t.__data__,e.index,e.group),delete o[i]):a=!1;a&&delete t.__transition}}var Xn,Wn,$n,Zn,Qn=180/Math.PI,Kn={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1};function Jn(t,n,e,r,i,o){var a,u,s;return(a=Math.sqrt(t*t+n*n))&&(t/=a,n/=a),(s=t*e+n*r)&&(e-=t*s,r-=n*s),(u=Math.sqrt(e*e+r*r))&&(e/=u,r/=u,s/=u),t*r<n*e&&(t=-t,n=-n,s=-s,a=-a),{translateX:i,translateY:o,rotate:Math.atan2(n,t)*Qn,skewX:Math.atan(s)*Qn,scaleX:a,scaleY:u}}function te(t,n,e,r){function i(t){return t.length?t.pop()+" ":""}return function(o,a){var u=[],s=[];return o=t(o),a=t(a),function(t,r,i,o,a,u){if(t!==i||r!==o){var s=a.push("translate(",null,n,null,e);u.push({i:s-4,x:an(t,i)},{i:s-2,x:an(r,o)})}else(i||o)&&a.push("translate("+i+n+o+e)}(o.translateX,o.translateY,a.translateX,a.translateY,u,s),function(t,n,e,o){t!==n?(t-n>180?n+=360:n-t>180&&(t+=360),o.push({i:e.push(i(e)+"rotate(",null,r)-2,x:an(t,n)})):n&&e.push(i(e)+"rotate("+n+r)}(o.rotate,a.rotate,u,s),function(t,n,e,o){t!==n?o.push({i:e.push(i(e)+"skewX(",null,r)-2,x:an(t,n)}):n&&e.push(i(e)+"skewX("+n+r)}(o.skewX,a.skewX,u,s),function(t,n,e,r,o,a){if(t!==e||n!==r){var u=o.push(i(o)+"scale(",null,",",null,")");a.push({i:u-4,x:an(t,e)},{i:u-2,x:an(n,r)})}else 1===e&&1===r||o.push(i(o)+"scale("+e+","+r+")")}(o.scaleX,o.scaleY,a.scaleX,a.scaleY,u,s),o=a=null,function(t){for(var n,e=-1,r=s.length;++e<r;)u[(n=s[e]).i]=n.x(t);return u.join("")}}}var ne=te(function(t){return"none"===t?Kn:(Xn||(Xn=document.createElement("DIV"),Wn=document.documentElement,$n=document.defaultView),Xn.style.transform=t,t=$n.getComputedStyle(Wn.appendChild(Xn),null).getPropertyValue("transform"),Wn.removeChild(Xn),Jn(+(t=t.slice(7,-1).split(","))[0],+t[1],+t[2],+t[3],+t[4],+t[5]))},"px, ","px)","deg)"),ee=te(function(t){return null==t?Kn:(Zn||(Zn=document.createElementNS("http://www.w3.org/2000/svg","g")),Zn.setAttribute("transform",t),(t=Zn.transform.baseVal.consolidate())?Jn((t=t.matrix).a,t.b,t.c,t.d,t.e,t.f):Kn)},", ",")",")"),re=e(357);function ie(t,n){var e,r;return function(){var i=Gn(this,t),o=i.tween;if(o!==e)for(var a=0,u=(r=e=o).length;a<u;++a)if(r[a].name===n){(r=r.slice()).splice(a,1);break}i.tween=r}}function oe(t,n,e){var r,i;if("function"!=typeof e)throw new Error;return function(){var o=Gn(this,t),a=o.tween;if(a!==r){i=(r=a).slice();for(var u={name:n,value:e},s=0,c=i.length;s<c;++s)if(i[s].name===n){i[s]=u;break}s===c&&i.push(u)}o.tween=i}}function ae(t,n,e){var r=t._id;return t.each(function(){var t=Gn(this,r);(t.value||(t.value={}))[n]=e.apply(this,arguments)}),function(t){return Hn(t,r).value[n]}}function ue(t,n){var e;return("number"==typeof n?an:n instanceof kt?Zt:(e=kt(n))?(n=e,Zt):fn)(t,n)}function se(t){return function(){this.removeAttribute(t)}}function ce(t){return function(){this.removeAttributeNS(t.space,t.local)}}function fe(t,n,e){var r,i,o=e+"";return function(){var a=this.getAttribute(t);return a===o?null:a===r?i:i=n(r=a,e)}}function le(t,n,e){var r,i,o=e+"";return function(){var a=this.getAttributeNS(t.space,t.local);return a===o?null:a===r?i:i=n(r=a,e)}}function he(t,n,e){var r,i,o;return function(){var a,u,s=e(this);if(null!=s)return(a=this.getAttribute(t))===(u=s+"")?null:a===r&&u===i?o:(i=u,o=n(r=a,s));this.removeAttribute(t)}}function de(t,n,e){var r,i,o;return function(){var a,u,s=e(this);if(null!=s)return(a=this.getAttributeNS(t.space,t.local))===(u=s+"")?null:a===r&&u===i?o:(i=u,o=n(r=a,s));this.removeAttributeNS(t.space,t.local)}}function pe(t,n){var e,r;function i(){var i=n.apply(this,arguments);return i!==r&&(e=(r=i)&&function(t,n){return function(e){this.setAttributeNS(t.space,t.local,n.call(this,e))}}(t,i)),e}return i._value=n,i}function ge(t,n){var e,r;function i(){var i=n.apply(this,arguments);return i!==r&&(e=(r=i)&&function(t,n){return function(e){this.setAttribute(t,n.call(this,e))}}(t,i)),e}return i._value=n,i}function ye(t,n){return function(){Yn(this,t).delay=+n.apply(this,arguments)}}function ve(t,n){return n=+n,function(){Yn(this,t).delay=n}}function me(t,n){return function(){Gn(this,t).duration=+n.apply(this,arguments)}}function _e(t,n){return n=+n,function(){Gn(this,t).duration=n}}var be=e(692),xe=e(729),we=e(118),Me=mn.Ay.prototype.constructor,Ae=e(626);function Se(t){return function(){this.style.removeProperty(t)}}var Ee=0;function Ne(t,n,e,r){this._groups=t,this._parents=n,this._name=e,this._id=r}function Te(t){return(0,mn.Ay)().transition(t)}function ke(){return++Ee}var Ce=mn.Ay.prototype;function Pe(t){return t*t*t}function ze(t){return--t*t*t+1}function Ie(t){return((t*=2)<=1?t*t*t:(t-=2)*t*t+2)/2}Ne.prototype=Te.prototype={constructor:Ne,select:function(t){var n=this._name,e=this._id;"function"!=typeof t&&(t=(0,xe.A)(t));for(var r=this._groups,i=r.length,o=new Array(i),a=0;a<i;++a)for(var u,s,c=r[a],f=c.length,l=o[a]=new Array(f),h=0;h<f;++h)(u=c[h])&&(s=t.call(u,u.__data__,h,c))&&("__data__"in u&&(s.__data__=u.__data__),l[h]=s,Fn(l[h],n,e,h,l,Hn(u,e)));return new Ne(o,this._parents,n,e)},selectAll:function(t){var n=this._name,e=this._id;"function"!=typeof t&&(t=(0,we.A)(t));for(var r=this._groups,i=r.length,o=[],a=[],u=0;u<i;++u)for(var s,c=r[u],f=c.length,l=0;l<f;++l)if(s=c[l]){for(var h,d=t.call(s,s.__data__,l,c),p=Hn(s,e),g=0,y=d.length;g<y;++g)(h=d[g])&&Fn(h,n,e,g,d,p);o.push(d),a.push(s)}return new Ne(o,a,n,e)},filter:function(t){"function"!=typeof t&&(t=(0,be.A)(t));for(var n=this._groups,e=n.length,r=new Array(e),i=0;i<e;++i)for(var o,a=n[i],u=a.length,s=r[i]=[],c=0;c<u;++c)(o=a[c])&&t.call(o,o.__data__,c,a)&&s.push(o);return new Ne(r,this._parents,this._name,this._id)},merge:function(t){if(t._id!==this._id)throw new Error;for(var n=this._groups,e=t._groups,r=n.length,i=e.length,o=Math.min(r,i),a=new Array(r),u=0;u<o;++u)for(var s,c=n[u],f=e[u],l=c.length,h=a[u]=new Array(l),d=0;d<l;++d)(s=c[d]||f[d])&&(h[d]=s);for(;u<r;++u)a[u]=n[u];return new Ne(a,this._parents,this._name,this._id)},selection:function(){return new Me(this._groups,this._parents)},transition:function(){for(var t=this._name,n=this._id,e=ke(),r=this._groups,i=r.length,o=0;o<i;++o)for(var a,u=r[o],s=u.length,c=0;c<s;++c)if(a=u[c]){var f=Hn(a,n);Fn(a,t,e,c,u,{time:f.time+f.delay+f.duration,delay:0,duration:f.duration,ease:f.ease})}return new Ne(r,this._parents,t,e)},call:Ce.call,nodes:Ce.nodes,node:Ce.node,size:Ce.size,empty:Ce.empty,each:Ce.each,on:function(t,n){var e=this._id;return arguments.length<2?Hn(this.node(),e).on.on(t):this.each(function(t,n,e){var r,i,o=function(t){return(t+"").trim().split(/^|\s+/).every(function(t){var n=t.indexOf(".");return n>=0&&(t=t.slice(0,n)),!t||"start"===t})}(n)?Yn:Gn;return function(){var a=o(this,t),u=a.on;u!==r&&(i=(r=u).copy()).on(n,e),a.on=i}}(e,t,n))},attr:function(t,n){var e=(0,re.A)(t),r="transform"===e?ee:ue;return this.attrTween(t,"function"==typeof n?(e.local?de:he)(e,r,ae(this,"attr."+t,n)):null==n?(e.local?ce:se)(e):(e.local?le:fe)(e,r,n))},attrTween:function(t,n){var e="attr."+t;if(arguments.length<2)return(e=this.tween(e))&&e._value;if(null==n)return this.tween(e,null);if("function"!=typeof n)throw new Error;var r=(0,re.A)(t);return this.tween(e,(r.local?pe:ge)(r,n))},style:function(t,n,e){var r="transform"==(t+="")?ne:ue;return null==n?this.styleTween(t,function(t,n){var e,r,i;return function(){var o=(0,Ae.j)(this,t),a=(this.style.removeProperty(t),(0,Ae.j)(this,t));return o===a?null:o===e&&a===r?i:i=n(e=o,r=a)}}(t,r)).on("end.style."+t,Se(t)):"function"==typeof n?this.styleTween(t,function(t,n,e){var r,i,o;return function(){var a=(0,Ae.j)(this,t),u=e(this),s=u+"";return null==u&&(this.style.removeProperty(t),s=u=(0,Ae.j)(this,t)),a===s?null:a===r&&s===i?o:(i=s,o=n(r=a,u))}}(t,r,ae(this,"style."+t,n))).each(function(t,n){var e,r,i,o,a="style."+n,u="end."+a;return function(){var s=Gn(this,t),c=s.on,f=null==s.value[a]?o||(o=Se(n)):void 0;c===e&&i===f||(r=(e=c).copy()).on(u,i=f),s.on=r}}(this._id,t)):this.styleTween(t,function(t,n,e){var r,i,o=e+"";return function(){var a=(0,Ae.j)(this,t);return a===o?null:a===r?i:i=n(r=a,e)}}(t,r,n),e).on("end.style."+t,null)},styleTween:function(t,n,e){var r="style."+(t+="");if(arguments.length<2)return(r=this.tween(r))&&r._value;if(null==n)return this.tween(r,null);if("function"!=typeof n)throw new Error;return this.tween(r,function(t,n,e){var r,i;function o(){var o=n.apply(this,arguments);return o!==i&&(r=(i=o)&&function(t,n,e){return function(r){this.style.setProperty(t,n.call(this,r),e)}}(t,o,e)),r}return o._value=n,o}(t,n,null==e?"":e))},text:function(t){return this.tween("text","function"==typeof t?function(t){return function(){var n=t(this);this.textContent=null==n?"":n}}(ae(this,"text",t)):function(t){return function(){this.textContent=t}}(null==t?"":t+""))},textTween:function(t){var n="text";if(arguments.length<1)return(n=this.tween(n))&&n._value;if(null==t)return this.tween(n,null);if("function"!=typeof t)throw new Error;return this.tween(n,function(t){var n,e;function r(){var r=t.apply(this,arguments);return r!==e&&(n=(e=r)&&function(t){return function(n){this.textContent=t.call(this,n)}}(r)),n}return r._value=t,r}(t))},remove:function(){return this.on("end.remove",function(t){return function(){var n=this.parentNode;for(var e in this.__transition)if(+e!==t)return;n&&n.removeChild(this)}}(this._id))},tween:function(t,n){var e=this._id;if(t+="",arguments.length<2){for(var r,i=Hn(this.node(),e).tween,o=0,a=i.length;o<a;++o)if((r=i[o]).name===t)return r.value;return null}return this.each((null==n?ie:oe)(e,t,n))},delay:function(t){var n=this._id;return arguments.length?this.each(("function"==typeof t?ye:ve)(n,t)):Hn(this.node(),n).delay},duration:function(t){var n=this._id;return arguments.length?this.each(("function"==typeof t?me:_e)(n,t)):Hn(this.node(),n).duration},ease:function(t){var n=this._id;return arguments.length?this.each(function(t,n){if("function"!=typeof n)throw new Error;return function(){Gn(this,t).ease=n}}(n,t)):Hn(this.node(),n).ease},end:function(){var t,n,e=this,r=e._id,i=e.size();return new Promise(function(o,a){var u={value:a},s={value:function(){0===--i&&o()}};e.each(function(){var e=Gn(this,r),i=e.on;i!==t&&((n=(t=i).copy())._.cancel.push(u),n._.interrupt.push(u),n._.end.push(s)),e.on=n})})}};var Oe={time:null,delay:0,duration:250,ease:Ie};function De(t,n){for(var e;!(e=t.__transition)||!(e=e[n]);)if(!(t=t.parentNode))return Oe.time=Nn(),Oe;return e}mn.Ay.prototype.interrupt=function(t){return this.each(function(){jn(this,t)})},mn.Ay.prototype.transition=function(t){var n,e;t instanceof Ne?(n=t._id,t=t._name):(n=ke(),(e=Oe).time=Nn(),t=null==t?null:t+"");for(var r=this._groups,i=r.length,o=0;o<i;++o)for(var a,u=r[o],s=u.length,c=0;c<s;++c)(a=u[c])&&Fn(a,t,n,c,u,e||De(a,n));return new Ne(r,this._parents,t,n)};var Re=[null];function Be(t,n){var e,r,i=t.__transition;if(i)for(r in n=null==n?null:n+"",i)if((e=i[r]).state>Ln&&e.name===n)return new Ne([[t]],Re,n,+r);return null}function Le(t){return function(){return t}}function Ue(t,n,e){this.target=t,this.type=n,this.selection=e}function Ve(){gn.f0.stopImmediatePropagation()}function qe(){gn.f0.preventDefault(),gn.f0.stopImmediatePropagation()}var Fe={name:"drag"},Ye={name:"space"},Ge={name:"handle"},He={name:"center"};function je(t){return[+t[0],+t[1]]}function Xe(t){return[je(t[0]),je(t[1])]}var We={name:"x",handles:["w","e"].map(er),input:function(t,n){return null==t?null:[[+t[0],n[0][1]],[+t[1],n[1][1]]]},output:function(t){return t&&[t[0][0],t[1][0]]}},$e={name:"y",handles:["n","s"].map(er),input:function(t,n){return null==t?null:[[n[0][0],+t[0]],[n[1][0],+t[1]]]},output:function(t){return t&&[t[0][1],t[1][1]]}},Ze={name:"xy",handles:["n","w","e","s","nw","ne","sw","se"].map(er),input:function(t){return null==t?null:Xe(t)},output:function(t){return t}},Qe={overlay:"crosshair",selection:"move",n:"ns-resize",e:"ew-resize",s:"ns-resize",w:"ew-resize",nw:"nwse-resize",ne:"nesw-resize",se:"nwse-resize",sw:"nesw-resize"},Ke={e:"w",w:"e",nw:"ne",ne:"nw",se:"sw",sw:"se"},Je={n:"s",s:"n",nw:"sw",ne:"se",se:"ne",sw:"nw"},tr={overlay:1,selection:1,n:null,e:1,s:null,w:-1,nw:-1,ne:1,se:1,sw:-1},nr={overlay:1,selection:1,n:-1,e:null,s:1,w:null,nw:-1,ne:-1,se:1,sw:1};function er(t){return{type:t}}function rr(){return!gn.f0.ctrlKey&&!gn.f0.button}function ir(){var t=this.ownerSVGElement||this;return t.hasAttribute("viewBox")?[[(t=t.viewBox.baseVal).x,t.y],[t.x+t.width,t.y+t.height]]:[[0,0],[t.width.baseVal.value,t.height.baseVal.value]]}function or(){return navigator.maxTouchPoints||"ontouchstart"in this}function ar(t){for(;!t.__brush;)if(!(t=t.parentNode))return;return t.__brush}function ur(t){var n=t.__brush;return n?n.dim.output(n.selection):null}function sr(){return lr(We)}function cr(){return lr($e)}function fr(){return lr(Ze)}function lr(t){var n,e=ir,r=rr,i=or,o=!0,a=(0,ct.A)("start","brush","end"),u=6;function s(n){var e=n.property("__brush",g).selectAll(".overlay").data([er("overlay")]);e.enter().append("rect").attr("class","overlay").attr("pointer-events","all").attr("cursor",Qe.overlay).merge(e).each(function(){var t=ar(this).extent;(0,yn.A)(this).attr("x",t[0][0]).attr("y",t[0][1]).attr("width",t[1][0]-t[0][0]).attr("height",t[1][1]-t[0][1])}),n.selectAll(".selection").data([er("selection")]).enter().append("rect").attr("class","selection").attr("cursor",Qe.selection).attr("fill","#777").attr("fill-opacity",.3).attr("stroke","#fff").attr("shape-rendering","crispEdges");var r=n.selectAll(".handle").data(t.handles,function(t){return t.type});r.exit().remove(),r.enter().append("rect").attr("class",function(t){return"handle handle--"+t.type}).attr("cursor",function(t){return Qe[t.type]}),n.each(c).attr("fill","none").attr("pointer-events","all").on("mousedown.brush",h).filter(i).on("touchstart.brush",h).on("touchmove.brush",d).on("touchend.brush touchcancel.brush",p).style("touch-action","none").style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}function c(){var t=(0,yn.A)(this),n=ar(this).selection;n?(t.selectAll(".selection").style("display",null).attr("x",n[0][0]).attr("y",n[0][1]).attr("width",n[1][0]-n[0][0]).attr("height",n[1][1]-n[0][1]),t.selectAll(".handle").style("display",null).attr("x",function(t){return"e"===t.type[t.type.length-1]?n[1][0]-u/2:n[0][0]-u/2}).attr("y",function(t){return"s"===t.type[0]?n[1][1]-u/2:n[0][1]-u/2}).attr("width",function(t){return"n"===t.type||"s"===t.type?n[1][0]-n[0][0]+u:u}).attr("height",function(t){return"e"===t.type||"w"===t.type?n[1][1]-n[0][1]+u:u})):t.selectAll(".selection,.handle").style("display","none").attr("x",null).attr("y",null).attr("width",null).attr("height",null)}function f(t,n,e){var r=t.__brush.emitter;return!r||e&&r.clean?new l(t,n,e):r}function l(t,n,e){this.that=t,this.args=n,this.state=t.__brush,this.active=0,this.clean=e}function h(){if((!n||gn.f0.touches)&&r.apply(this,arguments)){var e,i,a,u,s,l,h,d,p,g,y,v,m=this,_=gn.f0.target.__data__.type,b="selection"===(o&&gn.f0.metaKey?_="overlay":_)?Fe:o&&gn.f0.altKey?He:Ge,x=t===$e?null:tr[_],w=t===We?null:nr[_],M=ar(m),A=M.extent,S=M.selection,E=A[0][0],N=A[0][1],T=A[1][0],k=A[1][1],C=0,P=0,z=x&&w&&o&&gn.f0.shiftKey,I=gn.f0.touches?(v=gn.f0.changedTouches[0].identifier,function(t){return(0,pn.A)(t,gn.f0.touches,v)}):vn.A,O=I(m),D=O,R=f(m,arguments,!0).beforestart();"overlay"===_?(S&&(p=!0),M.selection=S=[[e=t===$e?E:O[0],a=t===We?N:O[1]],[s=t===$e?T:e,h=t===We?k:a]]):(e=S[0][0],a=S[0][1],s=S[1][0],h=S[1][1]),i=e,u=a,l=s,d=h;var B=(0,yn.A)(m).attr("pointer-events","none"),L=B.selectAll(".overlay").attr("cursor",Qe[_]);if(gn.f0.touches)R.moved=V,R.ended=F;else{var U=(0,yn.A)(gn.f0.view).on("mousemove.brush",V,!0).on("mouseup.brush",F,!0);o&&U.on("keydown.brush",function(){switch(gn.f0.keyCode){case 16:z=x&&w;break;case 18:b===Ge&&(x&&(s=l-C*x,e=i+C*x),w&&(h=d-P*w,a=u+P*w),b=He,q());break;case 32:b!==Ge&&b!==He||(x<0?s=l-C:x>0&&(e=i-C),w<0?h=d-P:w>0&&(a=u-P),b=Ye,L.attr("cursor",Qe.selection),q());break;default:return}qe()},!0).on("keyup.brush",function(){switch(gn.f0.keyCode){case 16:z&&(g=y=z=!1,q());break;case 18:b===He&&(x<0?s=l:x>0&&(e=i),w<0?h=d:w>0&&(a=u),b=Ge,q());break;case 32:b===Ye&&(gn.f0.altKey?(x&&(s=l-C*x,e=i+C*x),w&&(h=d-P*w,a=u+P*w),b=He):(x<0?s=l:x>0&&(e=i),w<0?h=d:w>0&&(a=u),b=Ge),L.attr("cursor",Qe[_]),q());break;default:return}qe()},!0),(0,ft.A)(gn.f0.view)}Ve(),jn(m),c.call(m),R.start()}function V(){var t=I(m);!z||g||y||(Math.abs(t[0]-D[0])>Math.abs(t[1]-D[1])?y=!0:g=!0),D=t,p=!0,qe(),q()}function q(){var t;switch(C=D[0]-O[0],P=D[1]-O[1],b){case Ye:case Fe:x&&(C=Math.max(E-e,Math.min(T-s,C)),i=e+C,l=s+C),w&&(P=Math.max(N-a,Math.min(k-h,P)),u=a+P,d=h+P);break;case Ge:x<0?(C=Math.max(E-e,Math.min(T-e,C)),i=e+C,l=s):x>0&&(C=Math.max(E-s,Math.min(T-s,C)),i=e,l=s+C),w<0?(P=Math.max(N-a,Math.min(k-a,P)),u=a+P,d=h):w>0&&(P=Math.max(N-h,Math.min(k-h,P)),u=a,d=h+P);break;case He:x&&(i=Math.max(E,Math.min(T,e-C*x)),l=Math.max(E,Math.min(T,s+C*x))),w&&(u=Math.max(N,Math.min(k,a-P*w)),d=Math.max(N,Math.min(k,h+P*w)))}l<i&&(x*=-1,t=e,e=s,s=t,t=i,i=l,l=t,_ in Ke&&L.attr("cursor",Qe[_=Ke[_]])),d<u&&(w*=-1,t=a,a=h,h=t,t=u,u=d,d=t,_ in Je&&L.attr("cursor",Qe[_=Je[_]])),M.selection&&(S=M.selection),g&&(i=S[0][0],l=S[1][0]),y&&(u=S[0][1],d=S[1][1]),S[0][0]===i&&S[0][1]===u&&S[1][0]===l&&S[1][1]===d||(M.selection=[[i,u],[l,d]],c.call(m),R.brush())}function F(){if(Ve(),gn.f0.touches){if(gn.f0.touches.length)return;n&&clearTimeout(n),n=setTimeout(function(){n=null},500)}else(0,ft.y)(gn.f0.view,p),U.on("keydown.brush keyup.brush mousemove.brush mouseup.brush",null);B.attr("pointer-events","all"),L.attr("cursor",Qe.overlay),M.selection&&(S=M.selection),function(t){return t[0][0]===t[1][0]||t[0][1]===t[1][1]}(S)&&(M.selection=null,c.call(m)),R.end()}}function d(){f(this,arguments).moved()}function p(){f(this,arguments).ended()}function g(){var n=this.__brush||{selection:null};return n.extent=Xe(e.apply(this,arguments)),n.dim=t,n}return s.move=function(n,e){n.selection?n.on("start.brush",function(){f(this,arguments).beforestart().start()}).on("interrupt.brush end.brush",function(){f(this,arguments).end()}).tween("brush",function(){var n=this,r=n.__brush,i=f(n,arguments),o=r.selection,a=t.input("function"==typeof e?e.apply(this,arguments):e,r.extent),u=ln(o,a);function s(t){r.selection=1===t&&null===a?null:u(t),c.call(n),i.brush()}return null!==o&&null!==a?s:s(1)}):n.each(function(){var n=this,r=arguments,i=n.__brush,o=t.input("function"==typeof e?e.apply(n,r):e,i.extent),a=f(n,r).beforestart();jn(n),i.selection=null===o?null:o,c.call(n),a.start().brush().end()})},s.clear=function(t){s.move(t,null)},l.prototype={beforestart:function(){return 1===++this.active&&(this.state.emitter=this,this.starting=!0),this},start:function(){return this.starting?(this.starting=!1,this.emit("start")):this.emit("brush"),this},brush:function(){return this.emit("brush"),this},end:function(){return 0===--this.active&&(delete this.state.emitter,this.emit("end")),this},emit:function(n){(0,gn.ex)(new Ue(s,n,t.output(this.state.selection)),a.apply,a,[n,this.that,this.args])}},s.extent=function(t){return arguments.length?(e="function"==typeof t?t:Le(Xe(t)),s):e},s.filter=function(t){return arguments.length?(r="function"==typeof t?t:Le(!!t),s):r},s.touchable=function(t){return arguments.length?(i="function"==typeof t?t:Le(!!t),s):i},s.handleSize=function(t){return arguments.length?(u=+t,s):u},s.keyModifiers=function(t){return arguments.length?(o=!!t,s):o},s.on=function(){var t=a.on.apply(a,arguments);return t===a?s:t},s}var hr=Math.cos,dr=Math.sin,pr=Math.PI,gr=pr/2,yr=2*pr,vr=Math.max;function mr(){var t=0,n=null,e=null,r=null;function i(i){var o,a,u,s,c,f,l=i.length,h=[],d=w(l),p=[],g=[],y=g.groups=new Array(l),v=new Array(l*l);for(o=0,c=-1;++c<l;){for(a=0,f=-1;++f<l;)a+=i[c][f];h.push(a),p.push(w(l)),o+=a}for(n&&d.sort(function(t,e){return n(h[t],h[e])}),e&&p.forEach(function(t,n){t.sort(function(t,r){return e(i[n][t],i[n][r])})}),s=(o=vr(0,yr-t*l)/o)?t:yr/l,a=0,c=-1;++c<l;){for(u=a,f=-1;++f<l;){var m=d[c],_=p[m][f],b=i[m][_],x=a,M=a+=b*o;v[_*l+m]={index:m,subindex:_,startAngle:x,endAngle:M,value:b}}y[m]={index:m,startAngle:u,endAngle:a,value:h[m]},a+=s}for(c=-1;++c<l;)for(f=c-1;++f<l;){var A=v[f*l+c],S=v[c*l+f];(A.value||S.value)&&g.push(A.value<S.value?{source:S,target:A}:{source:A,target:S})}return r?g.sort(r):g}return i.padAngle=function(n){return arguments.length?(t=vr(0,n),i):t},i.sortGroups=function(t){return arguments.length?(n=t,i):n},i.sortSubgroups=function(t){return arguments.length?(e=t,i):e},i.sortChords=function(t){return arguments.length?(null==t?r=null:(n=t,r=function(t,e){return n(t.source.value+t.target.value,e.source.value+e.target.value)})._=t,i):r&&r._;var n},i}var _r=Array.prototype.slice;function br(t){return function(){return t}}var xr=Math.PI,wr=2*xr,Mr=1e-6,Ar=wr-Mr;function Sr(){this._x0=this._y0=this._x1=this._y1=null,this._=""}function Er(){return new Sr}Sr.prototype=Er.prototype={constructor:Sr,moveTo:function(t,n){this._+="M"+(this._x0=this._x1=+t)+","+(this._y0=this._y1=+n)},closePath:function(){null!==this._x1&&(this._x1=this._x0,this._y1=this._y0,this._+="Z")},lineTo:function(t,n){this._+="L"+(this._x1=+t)+","+(this._y1=+n)},quadraticCurveTo:function(t,n,e,r){this._+="Q"+ +t+","+ +n+","+(this._x1=+e)+","+(this._y1=+r)},bezierCurveTo:function(t,n,e,r,i,o){this._+="C"+ +t+","+ +n+","+ +e+","+ +r+","+(this._x1=+i)+","+(this._y1=+o)},arcTo:function(t,n,e,r,i){t=+t,n=+n,e=+e,r=+r,i=+i;var o=this._x1,a=this._y1,u=e-t,s=r-n,c=o-t,f=a-n,l=c*c+f*f;if(i<0)throw new Error("negative radius: "+i);if(null===this._x1)this._+="M"+(this._x1=t)+","+(this._y1=n);else if(l>Mr)if(Math.abs(f*u-s*c)>Mr&&i){var h=e-o,d=r-a,p=u*u+s*s,g=h*h+d*d,y=Math.sqrt(p),v=Math.sqrt(l),m=i*Math.tan((xr-Math.acos((p+l-g)/(2*y*v)))/2),_=m/v,b=m/y;Math.abs(_-1)>Mr&&(this._+="L"+(t+_*c)+","+(n+_*f)),this._+="A"+i+","+i+",0,0,"+ +(f*h>c*d)+","+(this._x1=t+b*u)+","+(this._y1=n+b*s)}else this._+="L"+(this._x1=t)+","+(this._y1=n)},arc:function(t,n,e,r,i,o){t=+t,n=+n,o=!!o;var a=(e=+e)*Math.cos(r),u=e*Math.sin(r),s=t+a,c=n+u,f=1^o,l=o?r-i:i-r;if(e<0)throw new Error("negative radius: "+e);null===this._x1?this._+="M"+s+","+c:(Math.abs(this._x1-s)>Mr||Math.abs(this._y1-c)>Mr)&&(this._+="L"+s+","+c),e&&(l<0&&(l=l%wr+wr),l>Ar?this._+="A"+e+","+e+",0,1,"+f+","+(t-a)+","+(n-u)+"A"+e+","+e+",0,1,"+f+","+(this._x1=s)+","+(this._y1=c):l>Mr&&(this._+="A"+e+","+e+",0,"+ +(l>=xr)+","+f+","+(this._x1=t+e*Math.cos(i))+","+(this._y1=n+e*Math.sin(i))))},rect:function(t,n,e,r){this._+="M"+(this._x0=this._x1=+t)+","+(this._y0=this._y1=+n)+"h"+ +e+"v"+ +r+"h"+-e+"Z"},toString:function(){return this._}};const Nr=Er;function Tr(t){return t.source}function kr(t){return t.target}function Cr(t){return t.radius}function Pr(t){return t.startAngle}function zr(t){return t.endAngle}function Ir(){var t=Tr,n=kr,e=Cr,r=Pr,i=zr,o=null;function a(){var a,u=_r.call(arguments),s=t.apply(this,u),c=n.apply(this,u),f=+e.apply(this,(u[0]=s,u)),l=r.apply(this,u)-gr,h=i.apply(this,u)-gr,d=f*hr(l),p=f*dr(l),g=+e.apply(this,(u[0]=c,u)),y=r.apply(this,u)-gr,v=i.apply(this,u)-gr;if(o||(o=a=Nr()),o.moveTo(d,p),o.arc(0,0,f,l,h),l===y&&h===v||(o.quadraticCurveTo(0,0,g*hr(y),g*dr(y)),o.arc(0,0,g,y,v)),o.quadraticCurveTo(0,0,d,p),o.closePath(),a)return o=null,a+""||null}return a.radius=function(t){return arguments.length?(e="function"==typeof t?t:br(+t),a):e},a.startAngle=function(t){return arguments.length?(r="function"==typeof t?t:br(+t),a):r},a.endAngle=function(t){return arguments.length?(i="function"==typeof t?t:br(+t),a):i},a.source=function(n){return arguments.length?(t=n,a):t},a.target=function(t){return arguments.length?(n=t,a):n},a.context=function(t){return arguments.length?(o=null==t?null:t,a):o},a}var Or="$";function Dr(){}function Rr(t,n){var e=new Dr;if(t instanceof Dr)t.each(function(t,n){e.set(n,t)});else if(Array.isArray(t)){var r,i=-1,o=t.length;if(null==n)for(;++i<o;)e.set(i,t[i]);else for(;++i<o;)e.set(n(r=t[i],i,t),r)}else if(t)for(var a in t)e.set(a,t[a]);return e}Dr.prototype=Rr.prototype={constructor:Dr,has:function(t){return Or+t in this},get:function(t){return this[Or+t]},set:function(t,n){return this[Or+t]=n,this},remove:function(t){var n=Or+t;return n in this&&delete this[n]},clear:function(){for(var t in this)t[0]===Or&&delete this[t]},keys:function(){var t=[];for(var n in this)n[0]===Or&&t.push(n.slice(1));return t},values:function(){var t=[];for(var n in this)n[0]===Or&&t.push(this[n]);return t},entries:function(){var t=[];for(var n in this)n[0]===Or&&t.push({key:n.slice(1),value:this[n]});return t},size:function(){var t=0;for(var n in this)n[0]===Or&&++t;return t},empty:function(){for(var t in this)if(t[0]===Or)return!1;return!0},each:function(t){for(var n in this)n[0]===Or&&t(this[n],n.slice(1),this)}};const Br=Rr;function Lr(){var t,n,e,r=[],i=[];function o(e,i,a,u){if(i>=r.length)return null!=t&&e.sort(t),null!=n?n(e):e;for(var s,c,f,l=-1,h=e.length,d=r[i++],p=Br(),g=a();++l<h;)(f=p.get(s=d(c=e[l])+""))?f.push(c):p.set(s,[c]);return p.each(function(t,n){u(g,n,o(t,i,a,u))}),g}function a(t,e){if(++e>r.length)return t;var o,u=i[e-1];return null!=n&&e>=r.length?o=t.entries():(o=[],t.each(function(t,n){o.push({key:n,values:a(t,e)})})),null!=u?o.sort(function(t,n){return u(t.key,n.key)}):o}return e={object:function(t){return o(t,0,Ur,Vr)},map:function(t){return o(t,0,qr,Fr)},entries:function(t){return a(o(t,0,qr,Fr),0)},key:function(t){return r.push(t),e},sortKeys:function(t){return i[r.length-1]=t,e},sortValues:function(n){return t=n,e},rollup:function(t){return n=t,e}}}function Ur(){return{}}function Vr(t,n,e){t[n]=e}function qr(){return Br()}function Fr(t,n,e){t.set(n,e)}function Yr(){}var Gr=Br.prototype;function Hr(t,n){var e=new Yr;if(t instanceof Yr)t.each(function(t){e.add(t)});else if(t){var r=-1,i=t.length;if(null==n)for(;++r<i;)e.add(t[r]);else for(;++r<i;)e.add(n(t[r],r,t))}return e}Yr.prototype=Hr.prototype={constructor:Yr,has:Gr.has,add:function(t){return this[Or+(t+="")]=t,this},remove:Gr.remove,clear:Gr.clear,values:Gr.keys,size:Gr.size,empty:Gr.empty,each:Gr.each};const jr=Hr;function Xr(t){var n=[];for(var e in t)n.push(e);return n}function Wr(t){var n=[];for(var e in t)n.push(t[e]);return n}function $r(t){var n=[];for(var e in t)n.push({key:e,value:t[e]});return n}var Zr=Math.PI/180,Qr=180/Math.PI,Kr=.96422,Jr=1,ti=.82521,ni=4/29,ei=6/29,ri=3*ei*ei,ii=ei*ei*ei;function oi(t){if(t instanceof si)return new si(t.l,t.a,t.b,t.opacity);if(t instanceof yi)return vi(t);t instanceof Ot||(t=zt(t));var n,e,r=hi(t.r),i=hi(t.g),o=hi(t.b),a=ci((.2225045*r+.7168786*i+.0606169*o)/Jr);return r===i&&i===o?n=e=a:(n=ci((.4360747*r+.3850649*i+.1430804*o)/Kr),e=ci((.0139322*r+.0971045*i+.7141733*o)/ti)),new si(116*a-16,500*(n-a),200*(a-e),t.opacity)}function ai(t,n){return new si(t,0,0,null==n?1:n)}function ui(t,n,e,r){return 1===arguments.length?oi(t):new si(t,n,e,null==r?1:r)}function si(t,n,e,r){this.l=+t,this.a=+n,this.b=+e,this.opacity=+r}function ci(t){return t>ii?Math.pow(t,1/3):t/ri+ni}function fi(t){return t>ei?t*t*t:ri*(t-ni)}function li(t){return 255*(t<=.0031308?12.92*t:1.055*Math.pow(t,1/2.4)-.055)}function hi(t){return(t/=255)<=.04045?t/12.92:Math.pow((t+.055)/1.055,2.4)}function di(t){if(t instanceof yi)return new yi(t.h,t.c,t.l,t.opacity);if(t instanceof si||(t=oi(t)),0===t.a&&0===t.b)return new yi(NaN,0<t.l&&t.l<100?0:NaN,t.l,t.opacity);var n=Math.atan2(t.b,t.a)*Qr;return new yi(n<0?n+360:n,Math.sqrt(t.a*t.a+t.b*t.b),t.l,t.opacity)}function pi(t,n,e,r){return 1===arguments.length?di(t):new yi(e,n,t,null==r?1:r)}function gi(t,n,e,r){return 1===arguments.length?di(t):new yi(t,n,e,null==r?1:r)}function yi(t,n,e,r){this.h=+t,this.c=+n,this.l=+e,this.opacity=+r}function vi(t){if(isNaN(t.h))return new si(t.l,0,0,t.opacity);var n=t.h*Zr;return new si(t.l,Math.cos(n)*t.c,Math.sin(n)*t.c,t.opacity)}lt(si,ui,ht(dt,{brighter:function(t){return new si(this.l+18*(null==t?1:t),this.a,this.b,this.opacity)},darker:function(t){return new si(this.l-18*(null==t?1:t),this.a,this.b,this.opacity)},rgb:function(){var t=(this.l+16)/116,n=isNaN(this.a)?t:t+this.a/500,e=isNaN(this.b)?t:t-this.b/200;return new Ot(li(3.1338561*(n=Kr*fi(n))-1.6168667*(t=Jr*fi(t))-.4906146*(e=ti*fi(e))),li(-.9787684*n+1.9161415*t+.033454*e),li(.0719453*n-.2289914*t+1.4052427*e),this.opacity)}})),lt(yi,gi,ht(dt,{brighter:function(t){return new yi(this.h,this.c,this.l+18*(null==t?1:t),this.opacity)},darker:function(t){return new yi(this.h,this.c,this.l-18*(null==t?1:t),this.opacity)},rgb:function(){return vi(this).rgb()}}));var mi=-.14861,_i=1.78277,bi=-.29227,xi=-.90649,wi=1.97294,Mi=wi*xi,Ai=wi*_i,Si=_i*bi-xi*mi;function Ei(t,n,e,r){return 1===arguments.length?function(t){if(t instanceof Ni)return new Ni(t.h,t.s,t.l,t.opacity);t instanceof Ot||(t=zt(t));var n=t.r/255,e=t.g/255,r=t.b/255,i=(Si*r+Mi*n-Ai*e)/(Si+Mi-Ai),o=r-i,a=(wi*(e-i)-bi*o)/xi,u=Math.sqrt(a*a+o*o)/(wi*i*(1-i)),s=u?Math.atan2(a,o)*Qr-120:NaN;return new Ni(s<0?s+360:s,u,i,t.opacity)}(t):new Ni(t,n,e,null==r?1:r)}function Ni(t,n,e,r){this.h=+t,this.s=+n,this.l=+e,this.opacity=+r}lt(Ni,Ei,ht(dt,{brighter:function(t){return t=null==t?gt:Math.pow(gt,t),new Ni(this.h,this.s,this.l*t,this.opacity)},darker:function(t){return t=null==t?pt:Math.pow(pt,t),new Ni(this.h,this.s,this.l*t,this.opacity)},rgb:function(){var t=isNaN(this.h)?0:(this.h+120)*Zr,n=+this.l,e=isNaN(this.s)?0:this.s*n*(1-n),r=Math.cos(t),i=Math.sin(t);return new Ot(255*(n+e*(mi*r+_i*i)),255*(n+e*(bi*r+xi*i)),255*(n+e*(wi*r)),this.opacity)}}));var Ti=Array.prototype.slice;function ki(t,n){return t-n}function Ci(t){return function(){return t}}function Pi(t,n){for(var e,r=-1,i=n.length;++r<i;)if(e=zi(t,n[r]))return e;return 0}function zi(t,n){for(var e=n[0],r=n[1],i=-1,o=0,a=t.length,u=a-1;o<a;u=o++){var s=t[o],c=s[0],f=s[1],l=t[u],h=l[0],d=l[1];if(Ii(s,l,n))return 0;f>r!=d>r&&e<(h-c)*(r-f)/(d-f)+c&&(i=-i)}return i}function Ii(t,n,e){var r,i,o,a;return function(t,n,e){return(n[0]-t[0])*(e[1]-t[1])===(e[0]-t[0])*(n[1]-t[1])}(t,n,e)&&(i=t[r=+(t[0]===n[0])],o=e[r],a=n[r],i<=o&&o<=a||a<=o&&o<=i)}function Oi(){}var Di=[[],[[[1,1.5],[.5,1]]],[[[1.5,1],[1,1.5]]],[[[1.5,1],[.5,1]]],[[[1,.5],[1.5,1]]],[[[1,1.5],[.5,1]],[[1,.5],[1.5,1]]],[[[1,.5],[1,1.5]]],[[[1,.5],[.5,1]]],[[[.5,1],[1,.5]]],[[[1,1.5],[1,.5]]],[[[.5,1],[1,.5]],[[1.5,1],[1,1.5]]],[[[1.5,1],[1,.5]]],[[[.5,1],[1.5,1]]],[[[1,1.5],[1.5,1]]],[[[.5,1],[1,1.5]]],[]];function Ri(){var t=1,n=1,e=k,r=u;function i(t){var n=e(t);if(Array.isArray(n))n=n.slice().sort(ki);else{var r=y(t),i=r[0],a=r[1];n=T(i,a,n),n=w(Math.floor(i/n)*n,Math.floor(a/n)*n,n)}return n.map(function(n){return o(t,n)})}function o(e,i){var o=[],u=[];return function(e,r,i){var o,u,s,c,f,l,h=new Array,d=new Array;for(o=u=-1,c=e[0]>=r,Di[c<<1].forEach(p);++o<t-1;)s=c,c=e[o+1]>=r,Di[s|c<<1].forEach(p);for(Di[0|c].forEach(p);++u<n-1;){for(o=-1,c=e[u*t+t]>=r,f=e[u*t]>=r,Di[c<<1|f<<2].forEach(p);++o<t-1;)s=c,c=e[u*t+t+o+1]>=r,l=f,f=e[u*t+o+1]>=r,Di[s|c<<1|f<<2|l<<3].forEach(p);Di[c|f<<3].forEach(p)}for(o=-1,f=e[u*t]>=r,Di[f<<2].forEach(p);++o<t-1;)l=f,f=e[u*t+o+1]>=r,Di[f<<2|l<<3].forEach(p);function p(t){var n,e,r=[t[0][0]+o,t[0][1]+u],s=[t[1][0]+o,t[1][1]+u],c=a(r),f=a(s);(n=d[c])?(e=h[f])?(delete d[n.end],delete h[e.start],n===e?(n.ring.push(s),i(n.ring)):h[n.start]=d[e.end]={start:n.start,end:e.end,ring:n.ring.concat(e.ring)}):(delete d[n.end],n.ring.push(s),d[n.end=f]=n):(n=h[f])?(e=d[c])?(delete h[n.start],delete d[e.end],n===e?(n.ring.push(s),i(n.ring)):h[e.start]=d[n.end]={start:e.start,end:n.end,ring:e.ring.concat(n.ring)}):(delete h[n.start],n.ring.unshift(r),h[n.start=c]=n):h[c]=d[f]={start:c,end:f,ring:[r,s]}}Di[f<<3].forEach(p)}(e,i,function(t){r(t,e,i),function(t){for(var n=0,e=t.length,r=t[e-1][1]*t[0][0]-t[e-1][0]*t[0][1];++n<e;)r+=t[n-1][1]*t[n][0]-t[n-1][0]*t[n][1];return r}(t)>0?o.push([t]):u.push(t)}),u.forEach(function(t){for(var n,e=0,r=o.length;e<r;++e)if(-1!==Pi((n=o[e])[0],t))return void n.push(t)}),{type:"MultiPolygon",value:i,coordinates:o}}function a(n){return 2*n[0]+n[1]*(t+1)*4}function u(e,r,i){e.forEach(function(e){var o,a=e[0],u=e[1],s=0|a,c=0|u,f=r[c*t+s];a>0&&a<t&&s===a&&(o=r[c*t+s-1],e[0]=a+(i-o)/(f-o)-.5),u>0&&u<n&&c===u&&(o=r[(c-1)*t+s],e[1]=u+(i-o)/(f-o)-.5)})}return i.contour=o,i.size=function(e){if(!arguments.length)return[t,n];var r=Math.ceil(e[0]),o=Math.ceil(e[1]);if(!(r>0&&o>0))throw new Error("invalid size");return t=r,n=o,i},i.thresholds=function(t){return arguments.length?(e="function"==typeof t?t:Array.isArray(t)?Ci(Ti.call(t)):Ci(t),i):e},i.smooth=function(t){return arguments.length?(r=t?u:Oi,i):r===u},i}function Bi(t,n,e){for(var r=t.width,i=t.height,o=1+(e<<1),a=0;a<i;++a)for(var u=0,s=0;u<r+e;++u)u<r&&(s+=t.data[u+a*r]),u>=e&&(u>=o&&(s-=t.data[u-o+a*r]),n.data[u-e+a*r]=s/Math.min(u+1,r-1+o-u,o))}function Li(t,n,e){for(var r=t.width,i=t.height,o=1+(e<<1),a=0;a<r;++a)for(var u=0,s=0;u<i+e;++u)u<i&&(s+=t.data[a+u*r]),u>=e&&(u>=o&&(s-=t.data[a+(u-o)*r]),n.data[a+(u-e)*r]=s/Math.min(u+1,i-1+o-u,o))}function Ui(t){return t[0]}function Vi(t){return t[1]}function qi(){return 1}function Fi(){var t=Ui,n=Vi,e=qi,r=960,i=500,o=20,a=2,u=3*o,s=r+2*u>>a,c=i+2*u>>a,f=Ci(20);function l(r){var i=new Float32Array(s*c),l=new Float32Array(s*c);r.forEach(function(r,o,f){var l=+t(r,o,f)+u>>a,h=+n(r,o,f)+u>>a,d=+e(r,o,f);l>=0&&l<s&&h>=0&&h<c&&(i[l+h*s]+=d)}),Bi({width:s,height:c,data:i},{width:s,height:c,data:l},o>>a),Li({width:s,height:c,data:l},{width:s,height:c,data:i},o>>a),Bi({width:s,height:c,data:i},{width:s,height:c,data:l},o>>a),Li({width:s,height:c,data:l},{width:s,height:c,data:i},o>>a),Bi({width:s,height:c,data:i},{width:s,height:c,data:l},o>>a),Li({width:s,height:c,data:l},{width:s,height:c,data:i},o>>a);var d=f(i);if(!Array.isArray(d)){var p=O(i);d=T(0,p,d),(d=w(0,Math.floor(p/d)*d,d)).shift()}return Ri().thresholds(d).size([s,c])(i).map(h)}function h(t){return t.value*=Math.pow(2,-2*a),t.coordinates.forEach(d),t}function d(t){t.forEach(p)}function p(t){t.forEach(g)}function g(t){t[0]=t[0]*Math.pow(2,a)-u,t[1]=t[1]*Math.pow(2,a)-u}function y(){return s=r+2*(u=3*o)>>a,c=i+2*u>>a,l}return l.x=function(n){return arguments.length?(t="function"==typeof n?n:Ci(+n),l):t},l.y=function(t){return arguments.length?(n="function"==typeof t?t:Ci(+t),l):n},l.weight=function(t){return arguments.length?(e="function"==typeof t?t:Ci(+t),l):e},l.size=function(t){if(!arguments.length)return[r,i];var n=Math.ceil(t[0]),e=Math.ceil(t[1]);if(!(n>=0||n>=0))throw new Error("invalid size");return r=n,i=e,y()},l.cellSize=function(t){if(!arguments.length)return 1<<a;if(!((t=+t)>=1))throw new Error("invalid cell size");return a=Math.floor(Math.log(t)/Math.LN2),y()},l.thresholds=function(t){return arguments.length?(f="function"==typeof t?t:Array.isArray(t)?Ci(Ti.call(t)):Ci(t),l):f},l.bandwidth=function(t){if(!arguments.length)return Math.sqrt(o*(o+1));if(!((t=+t)>=0))throw new Error("invalid bandwidth");return o=Math.round((Math.sqrt(4*t*t+1)-1)/2),y()},l}var Yi=e(547),Gi={},Hi={},ji=34,Xi=10,Wi=13;function $i(t){return new Function("d","return {"+t.map(function(t,n){return JSON.stringify(t)+": d["+n+'] || ""'}).join(",")+"}")}function Zi(t){var n=Object.create(null),e=[];return t.forEach(function(t){for(var r in t)r in n||e.push(n[r]=r)}),e}function Qi(t,n){var e=t+"",r=e.length;return r<n?new Array(n-r+1).join(0)+e:e}function Ki(t){var n=new RegExp('["'+t+"\n\r]"),e=t.charCodeAt(0);function r(t,n){var r,i=[],o=t.length,a=0,u=0,s=o<=0,c=!1;function f(){if(s)return Hi;if(c)return c=!1,Gi;var n,r,i=a;if(t.charCodeAt(i)===ji){for(;a++<o&&t.charCodeAt(a)!==ji||t.charCodeAt(++a)===ji;);return(n=a)>=o?s=!0:(r=t.charCodeAt(a++))===Xi?c=!0:r===Wi&&(c=!0,t.charCodeAt(a)===Xi&&++a),t.slice(i+1,n-1).replace(/""/g,'"')}for(;a<o;){if((r=t.charCodeAt(n=a++))===Xi)c=!0;else if(r===Wi)c=!0,t.charCodeAt(a)===Xi&&++a;else if(r!==e)continue;return t.slice(i,n)}return s=!0,t.slice(i,o)}for(t.charCodeAt(o-1)===Xi&&--o,t.charCodeAt(o-1)===Wi&&--o;(r=f())!==Hi;){for(var l=[];r!==Gi&&r!==Hi;)l.push(r),r=f();n&&null==(l=n(l,u++))||i.push(l)}return i}function i(n,e){return n.map(function(n){return e.map(function(t){return a(n[t])}).join(t)})}function o(n){return n.map(a).join(t)}function a(t){return null==t?"":t instanceof Date?function(t){var n=t.getUTCHours(),e=t.getUTCMinutes(),r=t.getUTCSeconds(),i=t.getUTCMilliseconds();return isNaN(t)?"Invalid Date":function(t){return t<0?"-"+Qi(-t,6):t>9999?"+"+Qi(t,6):Qi(t,4)}(t.getUTCFullYear())+"-"+Qi(t.getUTCMonth()+1,2)+"-"+Qi(t.getUTCDate(),2)+(i?"T"+Qi(n,2)+":"+Qi(e,2)+":"+Qi(r,2)+"."+Qi(i,3)+"Z":r?"T"+Qi(n,2)+":"+Qi(e,2)+":"+Qi(r,2)+"Z":e||n?"T"+Qi(n,2)+":"+Qi(e,2)+"Z":"")}(t):n.test(t+="")?'"'+t.replace(/"/g,'""')+'"':t}return{parse:function(t,n){var e,i,o=r(t,function(t,r){if(e)return e(t,r-1);i=t,e=n?function(t,n){var e=$i(t);return function(r,i){return n(e(r),i,t)}}(t,n):$i(t)});return o.columns=i||[],o},parseRows:r,format:function(n,e){return null==e&&(e=Zi(n)),[e.map(a).join(t)].concat(i(n,e)).join("\n")},formatBody:function(t,n){return null==n&&(n=Zi(t)),i(t,n).join("\n")},formatRows:function(t){return t.map(o).join("\n")},formatRow:o,formatValue:a}}var Ji=Ki(","),to=Ji.parse,no=Ji.parseRows,eo=Ji.format,ro=Ji.formatBody,io=Ji.formatRows,oo=Ji.formatRow,ao=Ji.formatValue,uo=Ki("\t"),so=uo.parse,co=uo.parseRows,fo=uo.format,lo=uo.formatBody,ho=uo.formatRows,po=uo.formatRow,go=uo.formatValue;function yo(t){for(var n in t){var e,r,i=t[n].trim();if(i)if("true"===i)i=!0;else if("false"===i)i=!1;else if("NaN"===i)i=NaN;else if(isNaN(e=+i)){if(!(r=i.match(/^([-+]\d{2})?\d{4}(-\d{2}(-\d{2})?)?(T\d{2}:\d{2}(:\d{2}(\.\d{3})?)?(Z|[-+]\d{2}:\d{2})?)?$/)))continue;vo&&r[4]&&!r[7]&&(i=i.replace(/-/g,"/").replace(/T/," ")),i=new Date(i)}else i=e;else i=null;t[n]=i}return t}var vo=new Date("2019-01-01T00:00").getHours()||new Date("2019-07-01T00:00").getHours();function mo(t){return+t}function _o(t){return t*t}function bo(t){return t*(2-t)}function xo(t){return((t*=2)<=1?t*t:--t*(2-t)+1)/2}var wo=function t(n){function e(t){return Math.pow(t,n)}return n=+n,e.exponent=t,e}(3),Mo=function t(n){function e(t){return 1-Math.pow(1-t,n)}return n=+n,e.exponent=t,e}(3),Ao=function t(n){function e(t){return((t*=2)<=1?Math.pow(t,n):2-Math.pow(2-t,n))/2}return n=+n,e.exponent=t,e}(3),So=Math.PI,Eo=So/2;function No(t){return 1===+t?1:1-Math.cos(t*Eo)}function To(t){return Math.sin(t*Eo)}function ko(t){return(1-Math.cos(So*t))/2}function Co(t){return 1.0009775171065494*(Math.pow(2,-10*t)-.0009765625)}function Po(t){return Co(1-+t)}function zo(t){return 1-Co(t)}function Io(t){return((t*=2)<=1?Co(1-t):2-Co(t-1))/2}function Oo(t){return 1-Math.sqrt(1-t*t)}function Do(t){return Math.sqrt(1- --t*t)}function Ro(t){return((t*=2)<=1?1-Math.sqrt(1-t*t):Math.sqrt(1-(t-=2)*t)+1)/2}var Bo=4/11,Lo=6/11,Uo=8/11,Vo=3/4,qo=9/11,Fo=10/11,Yo=15/16,Go=21/22,Ho=63/64,jo=1/Bo/Bo;function Xo(t){return 1-Wo(1-t)}function Wo(t){return(t=+t)<Bo?jo*t*t:t<Uo?jo*(t-=Lo)*t+Vo:t<Fo?jo*(t-=qo)*t+Yo:jo*(t-=Go)*t+Ho}function $o(t){return((t*=2)<=1?1-Wo(1-t):Wo(t-1)+1)/2}var Zo=1.70158,Qo=function t(n){function e(t){return(t=+t)*t*(n*(t-1)+t)}return n=+n,e.overshoot=t,e}(Zo),Ko=function t(n){function e(t){return--t*t*((t+1)*n+t)+1}return n=+n,e.overshoot=t,e}(Zo),Jo=function t(n){function e(t){return((t*=2)<1?t*t*((n+1)*t-n):(t-=2)*t*((n+1)*t+n)+2)/2}return n=+n,e.overshoot=t,e}(Zo),ta=2*Math.PI,na=function t(n,e){var r=Math.asin(1/(n=Math.max(1,n)))*(e/=ta);function i(t){return n*Co(- --t)*Math.sin((r-t)/e)}return i.amplitude=function(n){return t(n,e*ta)},i.period=function(e){return t(n,e)},i}(1,.3),ea=function t(n,e){var r=Math.asin(1/(n=Math.max(1,n)))*(e/=ta);function i(t){return 1-n*Co(t=+t)*Math.sin((t+r)/e)}return i.amplitude=function(n){return t(n,e*ta)},i.period=function(e){return t(n,e)},i}(1,.3),ra=function t(n,e){var r=Math.asin(1/(n=Math.max(1,n)))*(e/=ta);function i(t){return((t=2*t-1)<0?n*Co(-t)*Math.sin((r-t)/e):2-n*Co(t)*Math.sin((r+t)/e))/2}return i.amplitude=function(n){return t(n,e*ta)},i.period=function(e){return t(n,e)},i}(1,.3);function ia(t){if(!t.ok)throw new Error(t.status+" "+t.statusText);return t.blob()}function oa(t,n){return fetch(t,n).then(ia)}function aa(t){if(!t.ok)throw new Error(t.status+" "+t.statusText);return t.arrayBuffer()}function ua(t,n){return fetch(t,n).then(aa)}function sa(t){if(!t.ok)throw new Error(t.status+" "+t.statusText);return t.text()}function ca(t,n){return fetch(t,n).then(sa)}function fa(t){return function(n,e,r){return 2===arguments.length&&"function"==typeof e&&(r=e,e=void 0),ca(n,e).then(function(n){return t(n,r)})}}function la(t,n,e,r){3===arguments.length&&"function"==typeof e&&(r=e,e=void 0);var i=Ki(t);return ca(n,e).then(function(t){return i.parse(t,r)})}var ha=fa(to),da=fa(so);function pa(t,n){return new Promise(function(e,r){var i=new Image;for(var o in n)i[o]=n[o];i.onerror=r,i.onload=function(){e(i)},i.src=t})}function ga(t){if(!t.ok)throw new Error(t.status+" "+t.statusText);if(204!==t.status&&205!==t.status)return t.json()}function ya(t,n){return fetch(t,n).then(ga)}function va(t){return function(n,e){return ca(n,e).then(function(n){return(new DOMParser).parseFromString(n,t)})}}const ma=va("application/xml");var _a=va("text/html"),ba=va("image/svg+xml");function xa(t,n){var e;function r(){var r,i,o=e.length,a=0,u=0;for(r=0;r<o;++r)a+=(i=e[r]).x,u+=i.y;for(a=a/o-t,u=u/o-n,r=0;r<o;++r)(i=e[r]).x-=a,i.y-=u}return null==t&&(t=0),null==n&&(n=0),r.initialize=function(t){e=t},r.x=function(n){return arguments.length?(t=+n,r):t},r.y=function(t){return arguments.length?(n=+t,r):n},r}function wa(t){return function(){return t}}function Ma(){return 1e-6*(Math.random()-.5)}function Aa(t,n,e,r){if(isNaN(n)||isNaN(e))return t;var i,o,a,u,s,c,f,l,h,d=t._root,p={data:r},g=t._x0,y=t._y0,v=t._x1,m=t._y1;if(!d)return t._root=p,t;for(;d.length;)if((c=n>=(o=(g+v)/2))?g=o:v=o,(f=e>=(a=(y+m)/2))?y=a:m=a,i=d,!(d=d[l=f<<1|c]))return i[l]=p,t;if(u=+t._x.call(null,d.data),s=+t._y.call(null,d.data),n===u&&e===s)return p.next=d,i?i[l]=p:t._root=p,t;do{i=i?i[l]=new Array(4):t._root=new Array(4),(c=n>=(o=(g+v)/2))?g=o:v=o,(f=e>=(a=(y+m)/2))?y=a:m=a}while((l=f<<1|c)==(h=(s>=a)<<1|u>=o));return i[h]=d,i[l]=p,t}function Sa(t,n,e,r,i){this.node=t,this.x0=n,this.y0=e,this.x1=r,this.y1=i}function Ea(t){return t[0]}function Na(t){return t[1]}function Ta(t,n,e){var r=new ka(null==n?Ea:n,null==e?Na:e,NaN,NaN,NaN,NaN);return null==t?r:r.addAll(t)}function ka(t,n,e,r,i,o){this._x=t,this._y=n,this._x0=e,this._y0=r,this._x1=i,this._y1=o,this._root=void 0}function Ca(t){for(var n={data:t.data},e=n;t=t.next;)e=e.next={data:t.data};return n}var Pa=Ta.prototype=ka.prototype;function za(t){return t.x+t.vx}function Ia(t){return t.y+t.vy}function Oa(t){var n,e,r=1,i=1;function o(){for(var t,o,u,s,c,f,l,h=n.length,d=0;d<i;++d)for(o=Ta(n,za,Ia).visitAfter(a),t=0;t<h;++t)u=n[t],f=e[u.index],l=f*f,s=u.x+u.vx,c=u.y+u.vy,o.visit(p);function p(t,n,e,i,o){var a=t.data,h=t.r,d=f+h;if(!a)return n>s+d||i<s-d||e>c+d||o<c-d;if(a.index>u.index){var p=s-a.x-a.vx,g=c-a.y-a.vy,y=p*p+g*g;y<d*d&&(0===p&&(y+=(p=Ma())*p),0===g&&(y+=(g=Ma())*g),y=(d-(y=Math.sqrt(y)))/y*r,u.vx+=(p*=y)*(d=(h*=h)/(l+h)),u.vy+=(g*=y)*d,a.vx-=p*(d=1-d),a.vy-=g*d)}}}function a(t){if(t.data)return t.r=e[t.data.index];for(var n=t.r=0;n<4;++n)t[n]&&t[n].r>t.r&&(t.r=t[n].r)}function u(){if(n){var r,i,o=n.length;for(e=new Array(o),r=0;r<o;++r)i=n[r],e[i.index]=+t(i,r,n)}}return"function"!=typeof t&&(t=wa(null==t?1:+t)),o.initialize=function(t){n=t,u()},o.iterations=function(t){return arguments.length?(i=+t,o):i},o.strength=function(t){return arguments.length?(r=+t,o):r},o.radius=function(n){return arguments.length?(t="function"==typeof n?n:wa(+n),u(),o):t},o}function Da(t){return t.index}function Ra(t,n){var e=t.get(n);if(!e)throw new Error("missing: "+n);return e}function Ba(t){var n,e,r,i,o,a=Da,u=function(t){return 1/Math.min(i[t.source.index],i[t.target.index])},s=wa(30),c=1;function f(r){for(var i=0,a=t.length;i<c;++i)for(var u,s,f,l,h,d,p,g=0;g<a;++g)s=(u=t[g]).source,l=(f=u.target).x+f.vx-s.x-s.vx||Ma(),h=f.y+f.vy-s.y-s.vy||Ma(),l*=d=((d=Math.sqrt(l*l+h*h))-e[g])/d*r*n[g],h*=d,f.vx-=l*(p=o[g]),f.vy-=h*p,s.vx+=l*(p=1-p),s.vy+=h*p}function l(){if(r){var u,s,c=r.length,f=t.length,l=Br(r,a);for(u=0,i=new Array(c);u<f;++u)(s=t[u]).index=u,"object"!=typeof s.source&&(s.source=Ra(l,s.source)),"object"!=typeof s.target&&(s.target=Ra(l,s.target)),i[s.source.index]=(i[s.source.index]||0)+1,i[s.target.index]=(i[s.target.index]||0)+1;for(u=0,o=new Array(f);u<f;++u)s=t[u],o[u]=i[s.source.index]/(i[s.source.index]+i[s.target.index]);n=new Array(f),h(),e=new Array(f),d()}}function h(){if(r)for(var e=0,i=t.length;e<i;++e)n[e]=+u(t[e],e,t)}function d(){if(r)for(var n=0,i=t.length;n<i;++n)e[n]=+s(t[n],n,t)}return null==t&&(t=[]),f.initialize=function(t){r=t,l()},f.links=function(n){return arguments.length?(t=n,l(),f):t},f.id=function(t){return arguments.length?(a=t,f):a},f.iterations=function(t){return arguments.length?(c=+t,f):c},f.strength=function(t){return arguments.length?(u="function"==typeof t?t:wa(+t),h(),f):u},f.distance=function(t){return arguments.length?(s="function"==typeof t?t:wa(+t),d(),f):s},f}function La(t){return t.x}function Ua(t){return t.y}Pa.copy=function(){var t,n,e=new ka(this._x,this._y,this._x0,this._y0,this._x1,this._y1),r=this._root;if(!r)return e;if(!r.length)return e._root=Ca(r),e;for(t=[{source:r,target:e._root=new Array(4)}];r=t.pop();)for(var i=0;i<4;++i)(n=r.source[i])&&(n.length?t.push({source:n,target:r.target[i]=new Array(4)}):r.target[i]=Ca(n));return e},Pa.add=function(t){var n=+this._x.call(null,t),e=+this._y.call(null,t);return Aa(this.cover(n,e),n,e,t)},Pa.addAll=function(t){var n,e,r,i,o=t.length,a=new Array(o),u=new Array(o),s=1/0,c=1/0,f=-1/0,l=-1/0;for(e=0;e<o;++e)isNaN(r=+this._x.call(null,n=t[e]))||isNaN(i=+this._y.call(null,n))||(a[e]=r,u[e]=i,r<s&&(s=r),r>f&&(f=r),i<c&&(c=i),i>l&&(l=i));if(s>f||c>l)return this;for(this.cover(s,c).cover(f,l),e=0;e<o;++e)Aa(this,a[e],u[e],t[e]);return this},Pa.cover=function(t,n){if(isNaN(t=+t)||isNaN(n=+n))return this;var e=this._x0,r=this._y0,i=this._x1,o=this._y1;if(isNaN(e))i=(e=Math.floor(t))+1,o=(r=Math.floor(n))+1;else{for(var a,u,s=i-e,c=this._root;e>t||t>=i||r>n||n>=o;)switch(u=(n<r)<<1|t<e,(a=new Array(4))[u]=c,c=a,s*=2,u){case 0:i=e+s,o=r+s;break;case 1:e=i-s,o=r+s;break;case 2:i=e+s,r=o-s;break;case 3:e=i-s,r=o-s}this._root&&this._root.length&&(this._root=c)}return this._x0=e,this._y0=r,this._x1=i,this._y1=o,this},Pa.data=function(){var t=[];return this.visit(function(n){if(!n.length)do{t.push(n.data)}while(n=n.next)}),t},Pa.extent=function(t){return arguments.length?this.cover(+t[0][0],+t[0][1]).cover(+t[1][0],+t[1][1]):isNaN(this._x0)?void 0:[[this._x0,this._y0],[this._x1,this._y1]]},Pa.find=function(t,n,e){var r,i,o,a,u,s,c,f=this._x0,l=this._y0,h=this._x1,d=this._y1,p=[],g=this._root;for(g&&p.push(new Sa(g,f,l,h,d)),null==e?e=1/0:(f=t-e,l=n-e,h=t+e,d=n+e,e*=e);s=p.pop();)if(!(!(g=s.node)||(i=s.x0)>h||(o=s.y0)>d||(a=s.x1)<f||(u=s.y1)<l))if(g.length){var y=(i+a)/2,v=(o+u)/2;p.push(new Sa(g[3],y,v,a,u),new Sa(g[2],i,v,y,u),new Sa(g[1],y,o,a,v),new Sa(g[0],i,o,y,v)),(c=(n>=v)<<1|t>=y)&&(s=p[p.length-1],p[p.length-1]=p[p.length-1-c],p[p.length-1-c]=s)}else{var m=t-+this._x.call(null,g.data),_=n-+this._y.call(null,g.data),b=m*m+_*_;if(b<e){var x=Math.sqrt(e=b);f=t-x,l=n-x,h=t+x,d=n+x,r=g.data}}return r},Pa.remove=function(t){if(isNaN(o=+this._x.call(null,t))||isNaN(a=+this._y.call(null,t)))return this;var n,e,r,i,o,a,u,s,c,f,l,h,d=this._root,p=this._x0,g=this._y0,y=this._x1,v=this._y1;if(!d)return this;if(d.length)for(;;){if((c=o>=(u=(p+y)/2))?p=u:y=u,(f=a>=(s=(g+v)/2))?g=s:v=s,n=d,!(d=d[l=f<<1|c]))return this;if(!d.length)break;(n[l+1&3]||n[l+2&3]||n[l+3&3])&&(e=n,h=l)}for(;d.data!==t;)if(r=d,!(d=d.next))return this;return(i=d.next)&&delete d.next,r?(i?r.next=i:delete r.next,this):n?(i?n[l]=i:delete n[l],(d=n[0]||n[1]||n[2]||n[3])&&d===(n[3]||n[2]||n[1]||n[0])&&!d.length&&(e?e[h]=d:this._root=d),this):(this._root=i,this)},Pa.removeAll=function(t){for(var n=0,e=t.length;n<e;++n)this.remove(t[n]);return this},Pa.root=function(){return this._root},Pa.size=function(){var t=0;return this.visit(function(n){if(!n.length)do{++t}while(n=n.next)}),t},Pa.visit=function(t){var n,e,r,i,o,a,u=[],s=this._root;for(s&&u.push(new Sa(s,this._x0,this._y0,this._x1,this._y1));n=u.pop();)if(!t(s=n.node,r=n.x0,i=n.y0,o=n.x1,a=n.y1)&&s.length){var c=(r+o)/2,f=(i+a)/2;(e=s[3])&&u.push(new Sa(e,c,f,o,a)),(e=s[2])&&u.push(new Sa(e,r,f,c,a)),(e=s[1])&&u.push(new Sa(e,c,i,o,f)),(e=s[0])&&u.push(new Sa(e,r,i,c,f))}return this},Pa.visitAfter=function(t){var n,e=[],r=[];for(this._root&&e.push(new Sa(this._root,this._x0,this._y0,this._x1,this._y1));n=e.pop();){var i=n.node;if(i.length){var o,a=n.x0,u=n.y0,s=n.x1,c=n.y1,f=(a+s)/2,l=(u+c)/2;(o=i[0])&&e.push(new Sa(o,a,u,f,l)),(o=i[1])&&e.push(new Sa(o,f,u,s,l)),(o=i[2])&&e.push(new Sa(o,a,l,f,c)),(o=i[3])&&e.push(new Sa(o,f,l,s,c))}r.push(n)}for(;n=r.pop();)t(n.node,n.x0,n.y0,n.x1,n.y1);return this},Pa.x=function(t){return arguments.length?(this._x=t,this):this._x},Pa.y=function(t){return arguments.length?(this._y=t,this):this._y};var Va=10,qa=Math.PI*(3-Math.sqrt(5));function Fa(t){var n,e=1,r=.001,i=1-Math.pow(r,1/300),o=0,a=.6,u=Br(),s=Cn(f),c=(0,ct.A)("tick","end");function f(){l(),c.call("tick",n),e<r&&(s.stop(),c.call("end",n))}function l(r){var s,c,f=t.length;void 0===r&&(r=1);for(var l=0;l<r;++l)for(e+=(o-e)*i,u.each(function(t){t(e)}),s=0;s<f;++s)null==(c=t[s]).fx?c.x+=c.vx*=a:(c.x=c.fx,c.vx=0),null==c.fy?c.y+=c.vy*=a:(c.y=c.fy,c.vy=0);return n}function h(){for(var n,e=0,r=t.length;e<r;++e){if((n=t[e]).index=e,null!=n.fx&&(n.x=n.fx),null!=n.fy&&(n.y=n.fy),isNaN(n.x)||isNaN(n.y)){var i=Va*Math.sqrt(e),o=e*qa;n.x=i*Math.cos(o),n.y=i*Math.sin(o)}(isNaN(n.vx)||isNaN(n.vy))&&(n.vx=n.vy=0)}}function d(n){return n.initialize&&n.initialize(t),n}return null==t&&(t=[]),h(),n={tick:l,restart:function(){return s.restart(f),n},stop:function(){return s.stop(),n},nodes:function(e){return arguments.length?(t=e,h(),u.each(d),n):t},alpha:function(t){return arguments.length?(e=+t,n):e},alphaMin:function(t){return arguments.length?(r=+t,n):r},alphaDecay:function(t){return arguments.length?(i=+t,n):+i},alphaTarget:function(t){return arguments.length?(o=+t,n):o},velocityDecay:function(t){return arguments.length?(a=1-t,n):1-a},force:function(t,e){return arguments.length>1?(null==e?u.remove(t):u.set(t,d(e)),n):u.get(t)},find:function(n,e,r){var i,o,a,u,s,c=0,f=t.length;for(null==r?r=1/0:r*=r,c=0;c<f;++c)(a=(i=n-(u=t[c]).x)*i+(o=e-u.y)*o)<r&&(s=u,r=a);return s},on:function(t,e){return arguments.length>1?(c.on(t,e),n):c.on(t)}}}function Ya(){var t,n,e,r,i=wa(-30),o=1,a=1/0,u=.81;function s(r){var i,o=t.length,a=Ta(t,La,Ua).visitAfter(f);for(e=r,i=0;i<o;++i)n=t[i],a.visit(l)}function c(){if(t){var n,e,o=t.length;for(r=new Array(o),n=0;n<o;++n)e=t[n],r[e.index]=+i(e,n,t)}}function f(t){var n,e,i,o,a,u=0,s=0;if(t.length){for(i=o=a=0;a<4;++a)(n=t[a])&&(e=Math.abs(n.value))&&(u+=n.value,s+=e,i+=e*n.x,o+=e*n.y);t.x=i/s,t.y=o/s}else{(n=t).x=n.data.x,n.y=n.data.y;do{u+=r[n.data.index]}while(n=n.next)}t.value=u}function l(t,i,s,c){if(!t.value)return!0;var f=t.x-n.x,l=t.y-n.y,h=c-i,d=f*f+l*l;if(h*h/u<d)return d<a&&(0===f&&(d+=(f=Ma())*f),0===l&&(d+=(l=Ma())*l),d<o&&(d=Math.sqrt(o*d)),n.vx+=f*t.value*e/d,n.vy+=l*t.value*e/d),!0;if(!(t.length||d>=a)){(t.data!==n||t.next)&&(0===f&&(d+=(f=Ma())*f),0===l&&(d+=(l=Ma())*l),d<o&&(d=Math.sqrt(o*d)));do{t.data!==n&&(h=r[t.data.index]*e/d,n.vx+=f*h,n.vy+=l*h)}while(t=t.next)}}return s.initialize=function(n){t=n,c()},s.strength=function(t){return arguments.length?(i="function"==typeof t?t:wa(+t),c(),s):i},s.distanceMin=function(t){return arguments.length?(o=t*t,s):Math.sqrt(o)},s.distanceMax=function(t){return arguments.length?(a=t*t,s):Math.sqrt(a)},s.theta=function(t){return arguments.length?(u=t*t,s):Math.sqrt(u)},s}function Ga(t,n,e){var r,i,o,a=wa(.1);function u(t){for(var a=0,u=r.length;a<u;++a){var s=r[a],c=s.x-n||1e-6,f=s.y-e||1e-6,l=Math.sqrt(c*c+f*f),h=(o[a]-l)*i[a]*t/l;s.vx+=c*h,s.vy+=f*h}}function s(){if(r){var n,e=r.length;for(i=new Array(e),o=new Array(e),n=0;n<e;++n)o[n]=+t(r[n],n,r),i[n]=isNaN(o[n])?0:+a(r[n],n,r)}}return"function"!=typeof t&&(t=wa(+t)),null==n&&(n=0),null==e&&(e=0),u.initialize=function(t){r=t,s()},u.strength=function(t){return arguments.length?(a="function"==typeof t?t:wa(+t),s(),u):a},u.radius=function(n){return arguments.length?(t="function"==typeof n?n:wa(+n),s(),u):t},u.x=function(t){return arguments.length?(n=+t,u):n},u.y=function(t){return arguments.length?(e=+t,u):e},u}function Ha(t){var n,e,r,i=wa(.1);function o(t){for(var i,o=0,a=n.length;o<a;++o)(i=n[o]).vx+=(r[o]-i.x)*e[o]*t}function a(){if(n){var o,a=n.length;for(e=new Array(a),r=new Array(a),o=0;o<a;++o)e[o]=isNaN(r[o]=+t(n[o],o,n))?0:+i(n[o],o,n)}}return"function"!=typeof t&&(t=wa(null==t?0:+t)),o.initialize=function(t){n=t,a()},o.strength=function(t){return arguments.length?(i="function"==typeof t?t:wa(+t),a(),o):i},o.x=function(n){return arguments.length?(t="function"==typeof n?n:wa(+n),a(),o):t},o}function ja(t){var n,e,r,i=wa(.1);function o(t){for(var i,o=0,a=n.length;o<a;++o)(i=n[o]).vy+=(r[o]-i.y)*e[o]*t}function a(){if(n){var o,a=n.length;for(e=new Array(a),r=new Array(a),o=0;o<a;++o)e[o]=isNaN(r[o]=+t(n[o],o,n))?0:+i(n[o],o,n)}}return"function"!=typeof t&&(t=wa(null==t?0:+t)),o.initialize=function(t){n=t,a()},o.strength=function(t){return arguments.length?(i="function"==typeof t?t:wa(+t),a(),o):i},o.y=function(n){return arguments.length?(t="function"==typeof n?n:wa(+n),a(),o):t},o}function Xa(t,n){if((e=(t=n?t.toExponential(n-1):t.toExponential()).indexOf("e"))<0)return null;var e,r=t.slice(0,e);return[r.length>1?r[0]+r.slice(2):r,+t.slice(e+1)]}function Wa(t){return(t=Xa(Math.abs(t)))?t[1]:NaN}var $a,Za=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function Qa(t){if(!(n=Za.exec(t)))throw new Error("invalid format: "+t);var n;return new Ka({fill:n[1],align:n[2],sign:n[3],symbol:n[4],zero:n[5],width:n[6],comma:n[7],precision:n[8]&&n[8].slice(1),trim:n[9],type:n[10]})}function Ka(t){this.fill=void 0===t.fill?" ":t.fill+"",this.align=void 0===t.align?">":t.align+"",this.sign=void 0===t.sign?"-":t.sign+"",this.symbol=void 0===t.symbol?"":t.symbol+"",this.zero=!!t.zero,this.width=void 0===t.width?void 0:+t.width,this.comma=!!t.comma,this.precision=void 0===t.precision?void 0:+t.precision,this.trim=!!t.trim,this.type=void 0===t.type?"":t.type+""}function Ja(t,n){var e=Xa(t,n);if(!e)return t+"";var r=e[0],i=e[1];return i<0?"0."+new Array(-i).join("0")+r:r.length>i+1?r.slice(0,i+1)+"."+r.slice(i+1):r+new Array(i-r.length+2).join("0")}Qa.prototype=Ka.prototype,Ka.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(void 0===this.width?"":Math.max(1,0|this.width))+(this.comma?",":"")+(void 0===this.precision?"":"."+Math.max(0,0|this.precision))+(this.trim?"~":"")+this.type};const tu={"%":function(t,n){return(100*t).toFixed(n)},b:function(t){return Math.round(t).toString(2)},c:function(t){return t+""},d:function(t){return Math.abs(t=Math.round(t))>=1e21?t.toLocaleString("en").replace(/,/g,""):t.toString(10)},e:function(t,n){return t.toExponential(n)},f:function(t,n){return t.toFixed(n)},g:function(t,n){return t.toPrecision(n)},o:function(t){return Math.round(t).toString(8)},p:function(t,n){return Ja(100*t,n)},r:Ja,s:function(t,n){var e=Xa(t,n);if(!e)return t+"";var r=e[0],i=e[1],o=i-($a=3*Math.max(-8,Math.min(8,Math.floor(i/3))))+1,a=r.length;return o===a?r:o>a?r+new Array(o-a+1).join("0"):o>0?r.slice(0,o)+"."+r.slice(o):"0."+new Array(1-o).join("0")+Xa(t,Math.max(0,n+o-1))[0]},X:function(t){return Math.round(t).toString(16).toUpperCase()},x:function(t){return Math.round(t).toString(16)}};function nu(t){return t}var eu,ru,iu,ou=Array.prototype.map,au=["y","z","a","f","p","n","","m","","k","M","G","T","P","E","Z","Y"];function uu(t){var n,e,r=void 0===t.grouping||void 0===t.thousands?nu:(n=ou.call(t.grouping,Number),e=t.thousands+"",function(t,r){for(var i=t.length,o=[],a=0,u=n[0],s=0;i>0&&u>0&&(s+u+1>r&&(u=Math.max(1,r-s)),o.push(t.substring(i-=u,i+u)),!((s+=u+1)>r));)u=n[a=(a+1)%n.length];return o.reverse().join(e)}),i=void 0===t.currency?"":t.currency[0]+"",o=void 0===t.currency?"":t.currency[1]+"",a=void 0===t.decimal?".":t.decimal+"",u=void 0===t.numerals?nu:function(t){return function(n){return n.replace(/[0-9]/g,function(n){return t[+n]})}}(ou.call(t.numerals,String)),s=void 0===t.percent?"%":t.percent+"",c=void 0===t.minus?"-":t.minus+"",f=void 0===t.nan?"NaN":t.nan+"";function l(t){var n=(t=Qa(t)).fill,e=t.align,l=t.sign,h=t.symbol,d=t.zero,p=t.width,g=t.comma,y=t.precision,v=t.trim,m=t.type;"n"===m?(g=!0,m="g"):tu[m]||(void 0===y&&(y=12),v=!0,m="g"),(d||"0"===n&&"="===e)&&(d=!0,n="0",e="=");var _="$"===h?i:"#"===h&&/[boxX]/.test(m)?"0"+m.toLowerCase():"",b="$"===h?o:/[%p]/.test(m)?s:"",x=tu[m],w=/[defgprs%]/.test(m);function M(t){var i,o,s,h=_,M=b;if("c"===m)M=x(t)+M,t="";else{var A=(t=+t)<0||1/t<0;if(t=isNaN(t)?f:x(Math.abs(t),y),v&&(t=function(t){t:for(var n,e=t.length,r=1,i=-1;r<e;++r)switch(t[r]){case".":i=n=r;break;case"0":0===i&&(i=r),n=r;break;default:if(!+t[r])break t;i>0&&(i=0)}return i>0?t.slice(0,i)+t.slice(n+1):t}(t)),A&&0===+t&&"+"!==l&&(A=!1),h=(A?"("===l?l:c:"-"===l||"("===l?"":l)+h,M=("s"===m?au[8+$a/3]:"")+M+(A&&"("===l?")":""),w)for(i=-1,o=t.length;++i<o;)if(48>(s=t.charCodeAt(i))||s>57){M=(46===s?a+t.slice(i+1):t.slice(i))+M,t=t.slice(0,i);break}}g&&!d&&(t=r(t,1/0));var S=h.length+t.length+M.length,E=S<p?new Array(p-S+1).join(n):"";switch(g&&d&&(t=r(E+t,E.length?p-M.length:1/0),E=""),e){case"<":t=h+t+M+E;break;case"=":t=h+E+t+M;break;case"^":t=E.slice(0,S=E.length>>1)+h+t+M+E.slice(S);break;default:t=E+h+t+M}return u(t)}return y=void 0===y?6:/[gprs]/.test(m)?Math.max(1,Math.min(21,y)):Math.max(0,Math.min(20,y)),M.toString=function(){return t+""},M}return{format:l,formatPrefix:function(t,n){var e=l(((t=Qa(t)).type="f",t)),r=3*Math.max(-8,Math.min(8,Math.floor(Wa(n)/3))),i=Math.pow(10,-r),o=au[8+r/3];return function(t){return e(i*t)+o}}}}function su(t){return eu=uu(t),ru=eu.format,iu=eu.formatPrefix,eu}function cu(t){return Math.max(0,-Wa(Math.abs(t)))}function fu(t,n){return Math.max(0,3*Math.max(-8,Math.min(8,Math.floor(Wa(n)/3)))-Wa(Math.abs(t)))}function lu(t,n){return t=Math.abs(t),n=Math.abs(n)-t,Math.max(0,Wa(n)-Wa(t))+1}function hu(){return new du}function du(){this.reset()}su({decimal:".",thousands:",",grouping:[3],currency:["$",""],minus:"-"}),du.prototype={constructor:du,reset:function(){this.s=this.t=0},add:function(t){gu(pu,t,this.t),gu(this,pu.s,this.s),this.s?this.t+=pu.t:this.s=pu.t},valueOf:function(){return this.s}};var pu=new du;function gu(t,n,e){var r=t.s=n+e,i=r-n,o=r-i;t.t=n-o+(e-i)}var yu=1e-6,vu=1e-12,mu=Math.PI,_u=mu/2,bu=mu/4,xu=2*mu,wu=180/mu,Mu=mu/180,Au=Math.abs,Su=Math.atan,Eu=Math.atan2,Nu=Math.cos,Tu=Math.ceil,ku=Math.exp,Cu=(Math.floor,Math.log),Pu=Math.pow,zu=Math.sin,Iu=Math.sign||function(t){return t>0?1:t<0?-1:0},Ou=Math.sqrt,Du=Math.tan;function Ru(t){return t>1?0:t<-1?mu:Math.acos(t)}function Bu(t){return t>1?_u:t<-1?-_u:Math.asin(t)}function Lu(t){return(t=zu(t/2))*t}function Uu(){}function Vu(t,n){t&&Fu.hasOwnProperty(t.type)&&Fu[t.type](t,n)}var qu={Feature:function(t,n){Vu(t.geometry,n)},FeatureCollection:function(t,n){for(var e=t.features,r=-1,i=e.length;++r<i;)Vu(e[r].geometry,n)}},Fu={Sphere:function(t,n){n.sphere()},Point:function(t,n){t=t.coordinates,n.point(t[0],t[1],t[2])},MultiPoint:function(t,n){for(var e=t.coordinates,r=-1,i=e.length;++r<i;)t=e[r],n.point(t[0],t[1],t[2])},LineString:function(t,n){Yu(t.coordinates,n,0)},MultiLineString:function(t,n){for(var e=t.coordinates,r=-1,i=e.length;++r<i;)Yu(e[r],n,0)},Polygon:function(t,n){Gu(t.coordinates,n)},MultiPolygon:function(t,n){for(var e=t.coordinates,r=-1,i=e.length;++r<i;)Gu(e[r],n)},GeometryCollection:function(t,n){for(var e=t.geometries,r=-1,i=e.length;++r<i;)Vu(e[r],n)}};function Yu(t,n,e){var r,i=-1,o=t.length-e;for(n.lineStart();++i<o;)r=t[i],n.point(r[0],r[1],r[2]);n.lineEnd()}function Gu(t,n){var e=-1,r=t.length;for(n.polygonStart();++e<r;)Yu(t[e],n,1);n.polygonEnd()}function Hu(t,n){t&&qu.hasOwnProperty(t.type)?qu[t.type](t,n):Vu(t,n)}var ju,Xu,Wu,$u,Zu,Qu=hu(),Ku=hu(),Ju={point:Uu,lineStart:Uu,lineEnd:Uu,polygonStart:function(){Qu.reset(),Ju.lineStart=ts,Ju.lineEnd=ns},polygonEnd:function(){var t=+Qu;Ku.add(t<0?xu+t:t),this.lineStart=this.lineEnd=this.point=Uu},sphere:function(){Ku.add(xu)}};function ts(){Ju.point=es}function ns(){rs(ju,Xu)}function es(t,n){Ju.point=rs,ju=t,Xu=n,Wu=t*=Mu,$u=Nu(n=(n*=Mu)/2+bu),Zu=zu(n)}function rs(t,n){var e=(t*=Mu)-Wu,r=e>=0?1:-1,i=r*e,o=Nu(n=(n*=Mu)/2+bu),a=zu(n),u=Zu*a,s=$u*o+u*Nu(i),c=u*r*zu(i);Qu.add(Eu(c,s)),Wu=t,$u=o,Zu=a}function is(t){return Ku.reset(),Hu(t,Ju),2*Ku}function os(t){return[Eu(t[1],t[0]),Bu(t[2])]}function as(t){var n=t[0],e=t[1],r=Nu(e);return[r*Nu(n),r*zu(n),zu(e)]}function us(t,n){return t[0]*n[0]+t[1]*n[1]+t[2]*n[2]}function ss(t,n){return[t[1]*n[2]-t[2]*n[1],t[2]*n[0]-t[0]*n[2],t[0]*n[1]-t[1]*n[0]]}function cs(t,n){t[0]+=n[0],t[1]+=n[1],t[2]+=n[2]}function fs(t,n){return[t[0]*n,t[1]*n,t[2]*n]}function ls(t){var n=Ou(t[0]*t[0]+t[1]*t[1]+t[2]*t[2]);t[0]/=n,t[1]/=n,t[2]/=n}var hs,ds,ps,gs,ys,vs,ms,_s,bs,xs,ws,Ms,As,Ss,Es,Ns,Ts,ks,Cs,Ps,zs,Is,Os,Ds,Rs,Bs,Ls=hu(),Us={point:Vs,lineStart:Fs,lineEnd:Ys,polygonStart:function(){Us.point=Gs,Us.lineStart=Hs,Us.lineEnd=js,Ls.reset(),Ju.polygonStart()},polygonEnd:function(){Ju.polygonEnd(),Us.point=Vs,Us.lineStart=Fs,Us.lineEnd=Ys,Qu<0?(hs=-(ps=180),ds=-(gs=90)):Ls>yu?gs=90:Ls<-yu&&(ds=-90),xs[0]=hs,xs[1]=ps},sphere:function(){hs=-(ps=180),ds=-(gs=90)}};function Vs(t,n){bs.push(xs=[hs=t,ps=t]),n<ds&&(ds=n),n>gs&&(gs=n)}function qs(t,n){var e=as([t*Mu,n*Mu]);if(_s){var r=ss(_s,e),i=ss([r[1],-r[0],0],r);ls(i),i=os(i);var o,a=t-ys,u=a>0?1:-1,s=i[0]*wu*u,c=Au(a)>180;c^(u*ys<s&&s<u*t)?(o=i[1]*wu)>gs&&(gs=o):c^(u*ys<(s=(s+360)%360-180)&&s<u*t)?(o=-i[1]*wu)<ds&&(ds=o):(n<ds&&(ds=n),n>gs&&(gs=n)),c?t<ys?Xs(hs,t)>Xs(hs,ps)&&(ps=t):Xs(t,ps)>Xs(hs,ps)&&(hs=t):ps>=hs?(t<hs&&(hs=t),t>ps&&(ps=t)):t>ys?Xs(hs,t)>Xs(hs,ps)&&(ps=t):Xs(t,ps)>Xs(hs,ps)&&(hs=t)}else bs.push(xs=[hs=t,ps=t]);n<ds&&(ds=n),n>gs&&(gs=n),_s=e,ys=t}function Fs(){Us.point=qs}function Ys(){xs[0]=hs,xs[1]=ps,Us.point=Vs,_s=null}function Gs(t,n){if(_s){var e=t-ys;Ls.add(Au(e)>180?e+(e>0?360:-360):e)}else vs=t,ms=n;Ju.point(t,n),qs(t,n)}function Hs(){Ju.lineStart()}function js(){Gs(vs,ms),Ju.lineEnd(),Au(Ls)>yu&&(hs=-(ps=180)),xs[0]=hs,xs[1]=ps,_s=null}function Xs(t,n){return(n-=t)<0?n+360:n}function Ws(t,n){return t[0]-n[0]}function $s(t,n){return t[0]<=t[1]?t[0]<=n&&n<=t[1]:n<t[0]||t[1]<n}function Zs(t){var n,e,r,i,o,a,u;if(gs=ps=-(hs=ds=1/0),bs=[],Hu(t,Us),e=bs.length){for(bs.sort(Ws),n=1,o=[r=bs[0]];n<e;++n)$s(r,(i=bs[n])[0])||$s(r,i[1])?(Xs(r[0],i[1])>Xs(r[0],r[1])&&(r[1]=i[1]),Xs(i[0],r[1])>Xs(r[0],r[1])&&(r[0]=i[0])):o.push(r=i);for(a=-1/0,n=0,r=o[e=o.length-1];n<=e;r=i,++n)i=o[n],(u=Xs(r[1],i[0]))>a&&(a=u,hs=i[0],ps=r[1])}return bs=xs=null,hs===1/0||ds===1/0?[[NaN,NaN],[NaN,NaN]]:[[hs,ds],[ps,gs]]}var Qs={sphere:Uu,point:Ks,lineStart:tc,lineEnd:rc,polygonStart:function(){Qs.lineStart=ic,Qs.lineEnd=oc},polygonEnd:function(){Qs.lineStart=tc,Qs.lineEnd=rc}};function Ks(t,n){t*=Mu;var e=Nu(n*=Mu);Js(e*Nu(t),e*zu(t),zu(n))}function Js(t,n,e){++ws,As+=(t-As)/ws,Ss+=(n-Ss)/ws,Es+=(e-Es)/ws}function tc(){Qs.point=nc}function nc(t,n){t*=Mu;var e=Nu(n*=Mu);Ds=e*Nu(t),Rs=e*zu(t),Bs=zu(n),Qs.point=ec,Js(Ds,Rs,Bs)}function ec(t,n){t*=Mu;var e=Nu(n*=Mu),r=e*Nu(t),i=e*zu(t),o=zu(n),a=Eu(Ou((a=Rs*o-Bs*i)*a+(a=Bs*r-Ds*o)*a+(a=Ds*i-Rs*r)*a),Ds*r+Rs*i+Bs*o);Ms+=a,Ns+=a*(Ds+(Ds=r)),Ts+=a*(Rs+(Rs=i)),ks+=a*(Bs+(Bs=o)),Js(Ds,Rs,Bs)}function rc(){Qs.point=Ks}function ic(){Qs.point=ac}function oc(){uc(Is,Os),Qs.point=Ks}function ac(t,n){Is=t,Os=n,t*=Mu,n*=Mu,Qs.point=uc;var e=Nu(n);Ds=e*Nu(t),Rs=e*zu(t),Bs=zu(n),Js(Ds,Rs,Bs)}function uc(t,n){t*=Mu;var e=Nu(n*=Mu),r=e*Nu(t),i=e*zu(t),o=zu(n),a=Rs*o-Bs*i,u=Bs*r-Ds*o,s=Ds*i-Rs*r,c=Ou(a*a+u*u+s*s),f=Bu(c),l=c&&-f/c;Cs+=l*a,Ps+=l*u,zs+=l*s,Ms+=f,Ns+=f*(Ds+(Ds=r)),Ts+=f*(Rs+(Rs=i)),ks+=f*(Bs+(Bs=o)),Js(Ds,Rs,Bs)}function sc(t){ws=Ms=As=Ss=Es=Ns=Ts=ks=Cs=Ps=zs=0,Hu(t,Qs);var n=Cs,e=Ps,r=zs,i=n*n+e*e+r*r;return i<vu&&(n=Ns,e=Ts,r=ks,Ms<yu&&(n=As,e=Ss,r=Es),(i=n*n+e*e+r*r)<vu)?[NaN,NaN]:[Eu(e,n)*wu,Bu(r/Ou(i))*wu]}function cc(t){return function(){return t}}function fc(t,n){function e(e,r){return e=t(e,r),n(e[0],e[1])}return t.invert&&n.invert&&(e.invert=function(e,r){return(e=n.invert(e,r))&&t.invert(e[0],e[1])}),e}function lc(t,n){return[Au(t)>mu?t+Math.round(-t/xu)*xu:t,n]}function hc(t,n,e){return(t%=xu)?n||e?fc(pc(t),gc(n,e)):pc(t):n||e?gc(n,e):lc}function dc(t){return function(n,e){return[(n+=t)>mu?n-xu:n<-mu?n+xu:n,e]}}function pc(t){var n=dc(t);return n.invert=dc(-t),n}function gc(t,n){var e=Nu(t),r=zu(t),i=Nu(n),o=zu(n);function a(t,n){var a=Nu(n),u=Nu(t)*a,s=zu(t)*a,c=zu(n),f=c*e+u*r;return[Eu(s*i-f*o,u*e-c*r),Bu(f*i+s*o)]}return a.invert=function(t,n){var a=Nu(n),u=Nu(t)*a,s=zu(t)*a,c=zu(n),f=c*i-s*o;return[Eu(s*i+c*o,u*e+f*r),Bu(f*e-u*r)]},a}function yc(t){function n(n){return(n=t(n[0]*Mu,n[1]*Mu))[0]*=wu,n[1]*=wu,n}return t=hc(t[0]*Mu,t[1]*Mu,t.length>2?t[2]*Mu:0),n.invert=function(n){return(n=t.invert(n[0]*Mu,n[1]*Mu))[0]*=wu,n[1]*=wu,n},n}function vc(t,n,e,r,i,o){if(e){var a=Nu(n),u=zu(n),s=r*e;null==i?(i=n+r*xu,o=n-s/2):(i=mc(a,i),o=mc(a,o),(r>0?i<o:i>o)&&(i+=r*xu));for(var c,f=i;r>0?f>o:f<o;f-=s)c=os([a,-u*Nu(f),-u*zu(f)]),t.point(c[0],c[1])}}function mc(t,n){(n=as(n))[0]-=t,ls(n);var e=Ru(-n[1]);return((-n[2]<0?-e:e)+xu-yu)%xu}function _c(){var t,n,e=cc([0,0]),r=cc(90),i=cc(6),o={point:function(e,r){t.push(e=n(e,r)),e[0]*=wu,e[1]*=wu}};function a(){var a=e.apply(this,arguments),u=r.apply(this,arguments)*Mu,s=i.apply(this,arguments)*Mu;return t=[],n=hc(-a[0]*Mu,-a[1]*Mu,0).invert,vc(o,u,s,1),a={type:"Polygon",coordinates:[t]},t=n=null,a}return a.center=function(t){return arguments.length?(e="function"==typeof t?t:cc([+t[0],+t[1]]),a):e},a.radius=function(t){return arguments.length?(r="function"==typeof t?t:cc(+t),a):r},a.precision=function(t){return arguments.length?(i="function"==typeof t?t:cc(+t),a):i},a}function bc(){var t,n=[];return{point:function(n,e,r){t.push([n,e,r])},lineStart:function(){n.push(t=[])},lineEnd:Uu,rejoin:function(){n.length>1&&n.push(n.pop().concat(n.shift()))},result:function(){var e=n;return n=[],t=null,e}}}function xc(t,n){return Au(t[0]-n[0])<yu&&Au(t[1]-n[1])<yu}function wc(t,n,e,r){this.x=t,this.z=n,this.o=e,this.e=r,this.v=!1,this.n=this.p=null}function Mc(t,n,e,r,i){var o,a,u=[],s=[];if(t.forEach(function(t){if(!((n=t.length-1)<=0)){var n,e,r=t[0],a=t[n];if(xc(r,a)){if(!r[2]&&!a[2]){for(i.lineStart(),o=0;o<n;++o)i.point((r=t[o])[0],r[1]);return void i.lineEnd()}a[0]+=2*yu}u.push(e=new wc(r,t,null,!0)),s.push(e.o=new wc(r,null,e,!1)),u.push(e=new wc(a,t,null,!1)),s.push(e.o=new wc(a,null,e,!0))}}),u.length){for(s.sort(n),Ac(u),Ac(s),o=0,a=s.length;o<a;++o)s[o].e=e=!e;for(var c,f,l=u[0];;){for(var h=l,d=!0;h.v;)if((h=h.n)===l)return;c=h.z,i.lineStart();do{if(h.v=h.o.v=!0,h.e){if(d)for(o=0,a=c.length;o<a;++o)i.point((f=c[o])[0],f[1]);else r(h.x,h.n.x,1,i);h=h.n}else{if(d)for(c=h.p.z,o=c.length-1;o>=0;--o)i.point((f=c[o])[0],f[1]);else r(h.x,h.p.x,-1,i);h=h.p}c=(h=h.o).z,d=!d}while(!h.v);i.lineEnd()}}}function Ac(t){if(n=t.length){for(var n,e,r=0,i=t[0];++r<n;)i.n=e=t[r],e.p=i,i=e;i.n=e=t[0],e.p=i}}lc.invert=lc;var Sc=hu();function Ec(t){return Au(t[0])<=mu?t[0]:Iu(t[0])*((Au(t[0])+mu)%xu-mu)}function Nc(t,n){var e=Ec(n),r=n[1],i=zu(r),o=[zu(e),-Nu(e),0],a=0,u=0;Sc.reset(),1===i?r=_u+yu:-1===i&&(r=-_u-yu);for(var s=0,c=t.length;s<c;++s)if(l=(f=t[s]).length)for(var f,l,h=f[l-1],d=Ec(h),p=h[1]/2+bu,g=zu(p),y=Nu(p),v=0;v<l;++v,d=_,g=x,y=w,h=m){var m=f[v],_=Ec(m),b=m[1]/2+bu,x=zu(b),w=Nu(b),M=_-d,A=M>=0?1:-1,S=A*M,E=S>mu,N=g*x;if(Sc.add(Eu(N*A*zu(S),y*w+N*Nu(S))),a+=E?M+A*xu:M,E^d>=e^_>=e){var T=ss(as(h),as(m));ls(T);var k=ss(o,T);ls(k);var C=(E^M>=0?-1:1)*Bu(k[2]);(r>C||r===C&&(T[0]||T[1]))&&(u+=E^M>=0?1:-1)}}return(a<-yu||a<yu&&Sc<-yu)^1&u}function Tc(t,n,e,r){return function(i){var o,a,u,s=n(i),c=bc(),f=n(c),l=!1,h={point:d,lineStart:g,lineEnd:y,polygonStart:function(){h.point=v,h.lineStart=m,h.lineEnd=_,a=[],o=[]},polygonEnd:function(){h.point=d,h.lineStart=g,h.lineEnd=y,a=B(a);var t=Nc(o,r);a.length?(l||(i.polygonStart(),l=!0),Mc(a,Cc,t,e,i)):t&&(l||(i.polygonStart(),l=!0),i.lineStart(),e(null,null,1,i),i.lineEnd()),l&&(i.polygonEnd(),l=!1),a=o=null},sphere:function(){i.polygonStart(),i.lineStart(),e(null,null,1,i),i.lineEnd(),i.polygonEnd()}};function d(n,e){t(n,e)&&i.point(n,e)}function p(t,n){s.point(t,n)}function g(){h.point=p,s.lineStart()}function y(){h.point=d,s.lineEnd()}function v(t,n){u.push([t,n]),f.point(t,n)}function m(){f.lineStart(),u=[]}function _(){v(u[0][0],u[0][1]),f.lineEnd();var t,n,e,r,s=f.clean(),h=c.result(),d=h.length;if(u.pop(),o.push(u),u=null,d)if(1&s){if((n=(e=h[0]).length-1)>0){for(l||(i.polygonStart(),l=!0),i.lineStart(),t=0;t<n;++t)i.point((r=e[t])[0],r[1]);i.lineEnd()}}else d>1&&2&s&&h.push(h.pop().concat(h.shift())),a.push(h.filter(kc))}return h}}function kc(t){return t.length>1}function Cc(t,n){return((t=t.x)[0]<0?t[1]-_u-yu:_u-t[1])-((n=n.x)[0]<0?n[1]-_u-yu:_u-n[1])}const Pc=Tc(function(){return!0},function(t){var n,e=NaN,r=NaN,i=NaN;return{lineStart:function(){t.lineStart(),n=1},point:function(o,a){var u=o>0?mu:-mu,s=Au(o-e);Au(s-mu)<yu?(t.point(e,r=(r+a)/2>0?_u:-_u),t.point(i,r),t.lineEnd(),t.lineStart(),t.point(u,r),t.point(o,r),n=0):i!==u&&s>=mu&&(Au(e-i)<yu&&(e-=i*yu),Au(o-u)<yu&&(o-=u*yu),r=function(t,n,e,r){var i,o,a=zu(t-e);return Au(a)>yu?Su((zu(n)*(o=Nu(r))*zu(e)-zu(r)*(i=Nu(n))*zu(t))/(i*o*a)):(n+r)/2}(e,r,o,a),t.point(i,r),t.lineEnd(),t.lineStart(),t.point(u,r),n=0),t.point(e=o,r=a),i=u},lineEnd:function(){t.lineEnd(),e=r=NaN},clean:function(){return 2-n}}},function(t,n,e,r){var i;if(null==t)i=e*_u,r.point(-mu,i),r.point(0,i),r.point(mu,i),r.point(mu,0),r.point(mu,-i),r.point(0,-i),r.point(-mu,-i),r.point(-mu,0),r.point(-mu,i);else if(Au(t[0]-n[0])>yu){var o=t[0]<n[0]?mu:-mu;i=e*o/2,r.point(-o,i),r.point(0,i),r.point(o,i)}else r.point(n[0],n[1])},[-mu,-_u]);function zc(t){var n=Nu(t),e=6*Mu,r=n>0,i=Au(n)>yu;function o(t,e){return Nu(t)*Nu(e)>n}function a(t,e,r){var i=[1,0,0],o=ss(as(t),as(e)),a=us(o,o),u=o[0],s=a-u*u;if(!s)return!r&&t;var c=n*a/s,f=-n*u/s,l=ss(i,o),h=fs(i,c);cs(h,fs(o,f));var d=l,p=us(h,d),g=us(d,d),y=p*p-g*(us(h,h)-1);if(!(y<0)){var v=Ou(y),m=fs(d,(-p-v)/g);if(cs(m,h),m=os(m),!r)return m;var _,b=t[0],x=e[0],w=t[1],M=e[1];x<b&&(_=b,b=x,x=_);var A=x-b,S=Au(A-mu)<yu;if(!S&&M<w&&(_=w,w=M,M=_),S||A<yu?S?w+M>0^m[1]<(Au(m[0]-b)<yu?w:M):w<=m[1]&&m[1]<=M:A>mu^(b<=m[0]&&m[0]<=x)){var E=fs(d,(-p+v)/g);return cs(E,h),[m,os(E)]}}}function u(n,e){var i=r?t:mu-t,o=0;return n<-i?o|=1:n>i&&(o|=2),e<-i?o|=4:e>i&&(o|=8),o}return Tc(o,function(t){var n,e,s,c,f;return{lineStart:function(){c=s=!1,f=1},point:function(l,h){var d,p=[l,h],g=o(l,h),y=r?g?0:u(l,h):g?u(l+(l<0?mu:-mu),h):0;if(!n&&(c=s=g)&&t.lineStart(),g!==s&&(!(d=a(n,p))||xc(n,d)||xc(p,d))&&(p[2]=1),g!==s)f=0,g?(t.lineStart(),d=a(p,n),t.point(d[0],d[1])):(d=a(n,p),t.point(d[0],d[1],2),t.lineEnd()),n=d;else if(i&&n&&r^g){var v;y&e||!(v=a(p,n,!0))||(f=0,r?(t.lineStart(),t.point(v[0][0],v[0][1]),t.point(v[1][0],v[1][1]),t.lineEnd()):(t.point(v[1][0],v[1][1]),t.lineEnd(),t.lineStart(),t.point(v[0][0],v[0][1],3)))}!g||n&&xc(n,p)||t.point(p[0],p[1]),n=p,s=g,e=y},lineEnd:function(){s&&t.lineEnd(),n=null},clean:function(){return f|(c&&s)<<1}}},function(n,r,i,o){vc(o,t,e,i,n,r)},r?[0,-t]:[-mu,t-mu])}var Ic=1e9,Oc=-Ic;function Dc(t,n,e,r){function i(i,o){return t<=i&&i<=e&&n<=o&&o<=r}function o(i,o,u,c){var f=0,l=0;if(null==i||(f=a(i,u))!==(l=a(o,u))||s(i,o)<0^u>0)do{c.point(0===f||3===f?t:e,f>1?r:n)}while((f=(f+u+4)%4)!==l);else c.point(o[0],o[1])}function a(r,i){return Au(r[0]-t)<yu?i>0?0:3:Au(r[0]-e)<yu?i>0?2:1:Au(r[1]-n)<yu?i>0?1:0:i>0?3:2}function u(t,n){return s(t.x,n.x)}function s(t,n){var e=a(t,1),r=a(n,1);return e!==r?e-r:0===e?n[1]-t[1]:1===e?t[0]-n[0]:2===e?t[1]-n[1]:n[0]-t[0]}return function(a){var s,c,f,l,h,d,p,g,y,v,m,_=a,b=bc(),x={point:w,lineStart:function(){x.point=M,c&&c.push(f=[]),v=!0,y=!1,p=g=NaN},lineEnd:function(){s&&(M(l,h),d&&y&&b.rejoin(),s.push(b.result())),x.point=w,y&&_.lineEnd()},polygonStart:function(){_=b,s=[],c=[],m=!0},polygonEnd:function(){var n=function(){for(var n=0,e=0,i=c.length;e<i;++e)for(var o,a,u=c[e],s=1,f=u.length,l=u[0],h=l[0],d=l[1];s<f;++s)o=h,a=d,h=(l=u[s])[0],d=l[1],a<=r?d>r&&(h-o)*(r-a)>(d-a)*(t-o)&&++n:d<=r&&(h-o)*(r-a)<(d-a)*(t-o)&&--n;return n}(),e=m&&n,i=(s=B(s)).length;(e||i)&&(a.polygonStart(),e&&(a.lineStart(),o(null,null,1,a),a.lineEnd()),i&&Mc(s,u,n,o,a),a.polygonEnd()),_=a,s=c=f=null}};function w(t,n){i(t,n)&&_.point(t,n)}function M(o,a){var u=i(o,a);if(c&&f.push([o,a]),v)l=o,h=a,d=u,v=!1,u&&(_.lineStart(),_.point(o,a));else if(u&&y)_.point(o,a);else{var s=[p=Math.max(Oc,Math.min(Ic,p)),g=Math.max(Oc,Math.min(Ic,g))],b=[o=Math.max(Oc,Math.min(Ic,o)),a=Math.max(Oc,Math.min(Ic,a))];!function(t,n,e,r,i,o){var a,u=t[0],s=t[1],c=0,f=1,l=n[0]-u,h=n[1]-s;if(a=e-u,l||!(a>0)){if(a/=l,l<0){if(a<c)return;a<f&&(f=a)}else if(l>0){if(a>f)return;a>c&&(c=a)}if(a=i-u,l||!(a<0)){if(a/=l,l<0){if(a>f)return;a>c&&(c=a)}else if(l>0){if(a<c)return;a<f&&(f=a)}if(a=r-s,h||!(a>0)){if(a/=h,h<0){if(a<c)return;a<f&&(f=a)}else if(h>0){if(a>f)return;a>c&&(c=a)}if(a=o-s,h||!(a<0)){if(a/=h,h<0){if(a>f)return;a>c&&(c=a)}else if(h>0){if(a<c)return;a<f&&(f=a)}return c>0&&(t[0]=u+c*l,t[1]=s+c*h),f<1&&(n[0]=u+f*l,n[1]=s+f*h),!0}}}}}(s,b,t,n,e,r)?u&&(_.lineStart(),_.point(o,a),m=!1):(y||(_.lineStart(),_.point(s[0],s[1])),_.point(b[0],b[1]),u||_.lineEnd(),m=!1)}p=o,g=a,y=u}return x}}function Rc(){var t,n,e,r=0,i=0,o=960,a=500;return e={stream:function(e){return t&&n===e?t:t=Dc(r,i,o,a)(n=e)},extent:function(u){return arguments.length?(r=+u[0][0],i=+u[0][1],o=+u[1][0],a=+u[1][1],t=n=null,e):[[r,i],[o,a]]}}}var Bc,Lc,Uc,Vc=hu(),qc={sphere:Uu,point:Uu,lineStart:function(){qc.point=Yc,qc.lineEnd=Fc},lineEnd:Uu,polygonStart:Uu,polygonEnd:Uu};function Fc(){qc.point=qc.lineEnd=Uu}function Yc(t,n){Bc=t*=Mu,Lc=zu(n*=Mu),Uc=Nu(n),qc.point=Gc}function Gc(t,n){t*=Mu;var e=zu(n*=Mu),r=Nu(n),i=Au(t-Bc),o=Nu(i),a=r*zu(i),u=Uc*e-Lc*r*o,s=Lc*e+Uc*r*o;Vc.add(Eu(Ou(a*a+u*u),s)),Bc=t,Lc=e,Uc=r}function Hc(t){return Vc.reset(),Hu(t,qc),+Vc}var jc=[null,null],Xc={type:"LineString",coordinates:jc};function Wc(t,n){return jc[0]=t,jc[1]=n,Hc(Xc)}var $c={Feature:function(t,n){return Qc(t.geometry,n)},FeatureCollection:function(t,n){for(var e=t.features,r=-1,i=e.length;++r<i;)if(Qc(e[r].geometry,n))return!0;return!1}},Zc={Sphere:function(){return!0},Point:function(t,n){return Kc(t.coordinates,n)},MultiPoint:function(t,n){for(var e=t.coordinates,r=-1,i=e.length;++r<i;)if(Kc(e[r],n))return!0;return!1},LineString:function(t,n){return Jc(t.coordinates,n)},MultiLineString:function(t,n){for(var e=t.coordinates,r=-1,i=e.length;++r<i;)if(Jc(e[r],n))return!0;return!1},Polygon:function(t,n){return tf(t.coordinates,n)},MultiPolygon:function(t,n){for(var e=t.coordinates,r=-1,i=e.length;++r<i;)if(tf(e[r],n))return!0;return!1},GeometryCollection:function(t,n){for(var e=t.geometries,r=-1,i=e.length;++r<i;)if(Qc(e[r],n))return!0;return!1}};function Qc(t,n){return!(!t||!Zc.hasOwnProperty(t.type))&&Zc[t.type](t,n)}function Kc(t,n){return 0===Wc(t,n)}function Jc(t,n){for(var e,r,i,o=0,a=t.length;o<a;o++){if(0===(r=Wc(t[o],n)))return!0;if(o>0&&(i=Wc(t[o],t[o-1]))>0&&e<=i&&r<=i&&(e+r-i)*(1-Math.pow((e-r)/i,2))<vu*i)return!0;e=r}return!1}function tf(t,n){return!!Nc(t.map(nf),ef(n))}function nf(t){return(t=t.map(ef)).pop(),t}function ef(t){return[t[0]*Mu,t[1]*Mu]}function rf(t,n){return(t&&$c.hasOwnProperty(t.type)?$c[t.type]:Qc)(t,n)}function of(t,n,e){var r=w(t,n-yu,e).concat(n);return function(t){return r.map(function(n){return[t,n]})}}function af(t,n,e){var r=w(t,n-yu,e).concat(n);return function(t){return r.map(function(n){return[n,t]})}}function uf(){var t,n,e,r,i,o,a,u,s,c,f,l,h=10,d=h,p=90,g=360,y=2.5;function v(){return{type:"MultiLineString",coordinates:m()}}function m(){return w(Tu(r/p)*p,e,p).map(f).concat(w(Tu(u/g)*g,a,g).map(l)).concat(w(Tu(n/h)*h,t,h).filter(function(t){return Au(t%p)>yu}).map(s)).concat(w(Tu(o/d)*d,i,d).filter(function(t){return Au(t%g)>yu}).map(c))}return v.lines=function(){return m().map(function(t){return{type:"LineString",coordinates:t}})},v.outline=function(){return{type:"Polygon",coordinates:[f(r).concat(l(a).slice(1),f(e).reverse().slice(1),l(u).reverse().slice(1))]}},v.extent=function(t){return arguments.length?v.extentMajor(t).extentMinor(t):v.extentMinor()},v.extentMajor=function(t){return arguments.length?(r=+t[0][0],e=+t[1][0],u=+t[0][1],a=+t[1][1],r>e&&(t=r,r=e,e=t),u>a&&(t=u,u=a,a=t),v.precision(y)):[[r,u],[e,a]]},v.extentMinor=function(e){return arguments.length?(n=+e[0][0],t=+e[1][0],o=+e[0][1],i=+e[1][1],n>t&&(e=n,n=t,t=e),o>i&&(e=o,o=i,i=e),v.precision(y)):[[n,o],[t,i]]},v.step=function(t){return arguments.length?v.stepMajor(t).stepMinor(t):v.stepMinor()},v.stepMajor=function(t){return arguments.length?(p=+t[0],g=+t[1],v):[p,g]},v.stepMinor=function(t){return arguments.length?(h=+t[0],d=+t[1],v):[h,d]},v.precision=function(h){return arguments.length?(y=+h,s=of(o,i,90),c=af(n,t,y),f=of(u,a,90),l=af(r,e,y),v):y},v.extentMajor([[-180,-90+yu],[180,90-yu]]).extentMinor([[-180,-80-yu],[180,80+yu]])}function sf(){return uf()()}function cf(t,n){var e=t[0]*Mu,r=t[1]*Mu,i=n[0]*Mu,o=n[1]*Mu,a=Nu(r),u=zu(r),s=Nu(o),c=zu(o),f=a*Nu(e),l=a*zu(e),h=s*Nu(i),d=s*zu(i),p=2*Bu(Ou(Lu(o-r)+a*s*Lu(i-e))),g=zu(p),y=p?function(t){var n=zu(t*=p)/g,e=zu(p-t)/g,r=e*f+n*h,i=e*l+n*d,o=e*u+n*c;return[Eu(i,r)*wu,Eu(o,Ou(r*r+i*i))*wu]}:function(){return[e*wu,r*wu]};return y.distance=p,y}function ff(t){return t}var lf,hf,df,pf,gf=hu(),yf=hu(),vf={point:Uu,lineStart:Uu,lineEnd:Uu,polygonStart:function(){vf.lineStart=mf,vf.lineEnd=xf},polygonEnd:function(){vf.lineStart=vf.lineEnd=vf.point=Uu,gf.add(Au(yf)),yf.reset()},result:function(){var t=gf/2;return gf.reset(),t}};function mf(){vf.point=_f}function _f(t,n){vf.point=bf,lf=df=t,hf=pf=n}function bf(t,n){yf.add(pf*t-df*n),df=t,pf=n}function xf(){bf(lf,hf)}const wf=vf;var Mf=1/0,Af=Mf,Sf=-Mf,Ef=Sf,Nf={point:function(t,n){t<Mf&&(Mf=t),t>Sf&&(Sf=t),n<Af&&(Af=n),n>Ef&&(Ef=n)},lineStart:Uu,lineEnd:Uu,polygonStart:Uu,polygonEnd:Uu,result:function(){var t=[[Mf,Af],[Sf,Ef]];return Sf=Ef=-(Af=Mf=1/0),t}};const Tf=Nf;var kf,Cf,Pf,zf,If=0,Of=0,Df=0,Rf=0,Bf=0,Lf=0,Uf=0,Vf=0,qf=0,Ff={point:Yf,lineStart:Gf,lineEnd:Xf,polygonStart:function(){Ff.lineStart=Wf,Ff.lineEnd=$f},polygonEnd:function(){Ff.point=Yf,Ff.lineStart=Gf,Ff.lineEnd=Xf},result:function(){var t=qf?[Uf/qf,Vf/qf]:Lf?[Rf/Lf,Bf/Lf]:Df?[If/Df,Of/Df]:[NaN,NaN];return If=Of=Df=Rf=Bf=Lf=Uf=Vf=qf=0,t}};function Yf(t,n){If+=t,Of+=n,++Df}function Gf(){Ff.point=Hf}function Hf(t,n){Ff.point=jf,Yf(Pf=t,zf=n)}function jf(t,n){var e=t-Pf,r=n-zf,i=Ou(e*e+r*r);Rf+=i*(Pf+t)/2,Bf+=i*(zf+n)/2,Lf+=i,Yf(Pf=t,zf=n)}function Xf(){Ff.point=Yf}function Wf(){Ff.point=Zf}function $f(){Qf(kf,Cf)}function Zf(t,n){Ff.point=Qf,Yf(kf=Pf=t,Cf=zf=n)}function Qf(t,n){var e=t-Pf,r=n-zf,i=Ou(e*e+r*r);Rf+=i*(Pf+t)/2,Bf+=i*(zf+n)/2,Lf+=i,Uf+=(i=zf*t-Pf*n)*(Pf+t),Vf+=i*(zf+n),qf+=3*i,Yf(Pf=t,zf=n)}const Kf=Ff;function Jf(t){this._context=t}Jf.prototype={_radius:4.5,pointRadius:function(t){return this._radius=t,this},polygonStart:function(){this._line=0},polygonEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){0===this._line&&this._context.closePath(),this._point=NaN},point:function(t,n){switch(this._point){case 0:this._context.moveTo(t,n),this._point=1;break;case 1:this._context.lineTo(t,n);break;default:this._context.moveTo(t+this._radius,n),this._context.arc(t,n,this._radius,0,xu)}},result:Uu};var tl,nl,el,rl,il,ol=hu(),al={point:Uu,lineStart:function(){al.point=ul},lineEnd:function(){tl&&sl(nl,el),al.point=Uu},polygonStart:function(){tl=!0},polygonEnd:function(){tl=null},result:function(){var t=+ol;return ol.reset(),t}};function ul(t,n){al.point=sl,nl=rl=t,el=il=n}function sl(t,n){rl-=t,il-=n,ol.add(Ou(rl*rl+il*il)),rl=t,il=n}const cl=al;function fl(){this._string=[]}function ll(t){return"m0,"+t+"a"+t+","+t+" 0 1,1 0,"+-2*t+"a"+t+","+t+" 0 1,1 0,"+2*t+"z"}function hl(t,n){var e,r,i=4.5;function o(t){return t&&("function"==typeof i&&r.pointRadius(+i.apply(this,arguments)),Hu(t,e(r))),r.result()}return o.area=function(t){return Hu(t,e(wf)),wf.result()},o.measure=function(t){return Hu(t,e(cl)),cl.result()},o.bounds=function(t){return Hu(t,e(Tf)),Tf.result()},o.centroid=function(t){return Hu(t,e(Kf)),Kf.result()},o.projection=function(n){return arguments.length?(e=null==n?(t=null,ff):(t=n).stream,o):t},o.context=function(t){return arguments.length?(r=null==t?(n=null,new fl):new Jf(n=t),"function"!=typeof i&&r.pointRadius(i),o):n},o.pointRadius=function(t){return arguments.length?(i="function"==typeof t?t:(r.pointRadius(+t),+t),o):i},o.projection(t).context(n)}function dl(t){return{stream:pl(t)}}function pl(t){return function(n){var e=new gl;for(var r in t)e[r]=t[r];return e.stream=n,e}}function gl(){}function yl(t,n,e){var r=t.clipExtent&&t.clipExtent();return t.scale(150).translate([0,0]),null!=r&&t.clipExtent(null),Hu(e,t.stream(Tf)),n(Tf.result()),null!=r&&t.clipExtent(r),t}function vl(t,n,e){return yl(t,function(e){var r=n[1][0]-n[0][0],i=n[1][1]-n[0][1],o=Math.min(r/(e[1][0]-e[0][0]),i/(e[1][1]-e[0][1])),a=+n[0][0]+(r-o*(e[1][0]+e[0][0]))/2,u=+n[0][1]+(i-o*(e[1][1]+e[0][1]))/2;t.scale(150*o).translate([a,u])},e)}function ml(t,n,e){return vl(t,[[0,0],n],e)}function _l(t,n,e){return yl(t,function(e){var r=+n,i=r/(e[1][0]-e[0][0]),o=(r-i*(e[1][0]+e[0][0]))/2,a=-i*e[0][1];t.scale(150*i).translate([o,a])},e)}function bl(t,n,e){return yl(t,function(e){var r=+n,i=r/(e[1][1]-e[0][1]),o=-i*e[0][0],a=(r-i*(e[1][1]+e[0][1]))/2;t.scale(150*i).translate([o,a])},e)}fl.prototype={_radius:4.5,_circle:ll(4.5),pointRadius:function(t){return(t=+t)!==this._radius&&(this._radius=t,this._circle=null),this},polygonStart:function(){this._line=0},polygonEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){0===this._line&&this._string.push("Z"),this._point=NaN},point:function(t,n){switch(this._point){case 0:this._string.push("M",t,",",n),this._point=1;break;case 1:this._string.push("L",t,",",n);break;default:null==this._circle&&(this._circle=ll(this._radius)),this._string.push("M",t,",",n,this._circle)}},result:function(){if(this._string.length){var t=this._string.join("");return this._string=[],t}return null}},gl.prototype={constructor:gl,point:function(t,n){this.stream.point(t,n)},sphere:function(){this.stream.sphere()},lineStart:function(){this.stream.lineStart()},lineEnd:function(){this.stream.lineEnd()},polygonStart:function(){this.stream.polygonStart()},polygonEnd:function(){this.stream.polygonEnd()}};var xl=16,wl=Nu(30*Mu);function Ml(t,n){return+n?function(t,n){function e(r,i,o,a,u,s,c,f,l,h,d,p,g,y){var v=c-r,m=f-i,_=v*v+m*m;if(_>4*n&&g--){var b=a+h,x=u+d,w=s+p,M=Ou(b*b+x*x+w*w),A=Bu(w/=M),S=Au(Au(w)-1)<yu||Au(o-l)<yu?(o+l)/2:Eu(x,b),E=t(S,A),N=E[0],T=E[1],k=N-r,C=T-i,P=m*k-v*C;(P*P/_>n||Au((v*k+m*C)/_-.5)>.3||a*h+u*d+s*p<wl)&&(e(r,i,o,a,u,s,N,T,S,b/=M,x/=M,w,g,y),y.point(N,T),e(N,T,S,b,x,w,c,f,l,h,d,p,g,y))}}return function(n){var r,i,o,a,u,s,c,f,l,h,d,p,g={point:y,lineStart:v,lineEnd:_,polygonStart:function(){n.polygonStart(),g.lineStart=b},polygonEnd:function(){n.polygonEnd(),g.lineStart=v}};function y(e,r){e=t(e,r),n.point(e[0],e[1])}function v(){f=NaN,g.point=m,n.lineStart()}function m(r,i){var o=as([r,i]),a=t(r,i);e(f,l,c,h,d,p,f=a[0],l=a[1],c=r,h=o[0],d=o[1],p=o[2],xl,n),n.point(f,l)}function _(){g.point=y,n.lineEnd()}function b(){v(),g.point=x,g.lineEnd=w}function x(t,n){m(r=t,n),i=f,o=l,a=h,u=d,s=p,g.point=m}function w(){e(f,l,c,h,d,p,i,o,r,a,u,s,xl,n),g.lineEnd=_,_()}return g}}(t,n):function(t){return pl({point:function(n,e){n=t(n,e),this.stream.point(n[0],n[1])}})}(t)}var Al=pl({point:function(t,n){this.stream.point(t*Mu,n*Mu)}});function Sl(t,n,e,r,i){function o(o,a){return[n+t*(o*=r),e-t*(a*=i)]}return o.invert=function(o,a){return[(o-n)/t*r,(e-a)/t*i]},o}function El(t,n,e,r,i,o){var a=Nu(o),u=zu(o),s=a*t,c=u*t,f=a/t,l=u/t,h=(u*e-a*n)/t,d=(u*n+a*e)/t;function p(t,o){return[s*(t*=r)-c*(o*=i)+n,e-c*t-s*o]}return p.invert=function(t,n){return[r*(f*t-l*n+h),i*(d-l*t-f*n)]},p}function Nl(t){return Tl(function(){return t})()}function Tl(t){var n,e,r,i,o,a,u,s,c,f,l=150,h=480,d=250,p=0,g=0,y=0,v=0,m=0,_=0,b=1,x=1,w=null,M=Pc,A=null,S=ff,E=.5;function N(t){return s(t[0]*Mu,t[1]*Mu)}function T(t){return(t=s.invert(t[0],t[1]))&&[t[0]*wu,t[1]*wu]}function k(){var t=El(l,0,0,b,x,_).apply(null,n(p,g)),r=(_?El:Sl)(l,h-t[0],d-t[1],b,x,_);return e=hc(y,v,m),u=fc(n,r),s=fc(e,u),a=Ml(u,E),C()}function C(){return c=f=null,N}return N.stream=function(t){return c&&f===t?c:c=Al(function(t){return pl({point:function(n,e){var r=t(n,e);return this.stream.point(r[0],r[1])}})}(e)(M(a(S(f=t)))))},N.preclip=function(t){return arguments.length?(M=t,w=void 0,C()):M},N.postclip=function(t){return arguments.length?(S=t,A=r=i=o=null,C()):S},N.clipAngle=function(t){return arguments.length?(M=+t?zc(w=t*Mu):(w=null,Pc),C()):w*wu},N.clipExtent=function(t){return arguments.length?(S=null==t?(A=r=i=o=null,ff):Dc(A=+t[0][0],r=+t[0][1],i=+t[1][0],o=+t[1][1]),C()):null==A?null:[[A,r],[i,o]]},N.scale=function(t){return arguments.length?(l=+t,k()):l},N.translate=function(t){return arguments.length?(h=+t[0],d=+t[1],k()):[h,d]},N.center=function(t){return arguments.length?(p=t[0]%360*Mu,g=t[1]%360*Mu,k()):[p*wu,g*wu]},N.rotate=function(t){return arguments.length?(y=t[0]%360*Mu,v=t[1]%360*Mu,m=t.length>2?t[2]%360*Mu:0,k()):[y*wu,v*wu,m*wu]},N.angle=function(t){return arguments.length?(_=t%360*Mu,k()):_*wu},N.reflectX=function(t){return arguments.length?(b=t?-1:1,k()):b<0},N.reflectY=function(t){return arguments.length?(x=t?-1:1,k()):x<0},N.precision=function(t){return arguments.length?(a=Ml(u,E=t*t),C()):Ou(E)},N.fitExtent=function(t,n){return vl(N,t,n)},N.fitSize=function(t,n){return ml(N,t,n)},N.fitWidth=function(t,n){return _l(N,t,n)},N.fitHeight=function(t,n){return bl(N,t,n)},function(){return n=t.apply(this,arguments),N.invert=n.invert&&T,k()}}function kl(t){var n=0,e=mu/3,r=Tl(t),i=r(n,e);return i.parallels=function(t){return arguments.length?r(n=t[0]*Mu,e=t[1]*Mu):[n*wu,e*wu]},i}function Cl(t,n){var e=zu(t),r=(e+zu(n))/2;if(Au(r)<yu)return function(t){var n=Nu(t);function e(t,e){return[t*n,zu(e)/n]}return e.invert=function(t,e){return[t/n,Bu(e*n)]},e}(t);var i=1+e*(2*r-e),o=Ou(i)/r;function a(t,n){var e=Ou(i-2*r*zu(n))/r;return[e*zu(t*=r),o-e*Nu(t)]}return a.invert=function(t,n){var e=o-n,a=Eu(t,Au(e))*Iu(e);return e*r<0&&(a-=mu*Iu(t)*Iu(e)),[a/r,Bu((i-(t*t+e*e)*r*r)/(2*r))]},a}function Pl(){return kl(Cl).scale(155.424).center([0,33.6442])}function zl(){return Pl().parallels([29.5,45.5]).scale(1070).translate([480,250]).rotate([96,0]).center([-.6,38.7])}function Il(){var t,n,e,r,i,o,a=zl(),u=Pl().rotate([154,0]).center([-2,58.5]).parallels([55,65]),s=Pl().rotate([157,0]).center([-3,19.9]).parallels([8,18]),c={point:function(t,n){o=[t,n]}};function f(t){var n=t[0],a=t[1];return o=null,e.point(n,a),o||(r.point(n,a),o)||(i.point(n,a),o)}function l(){return t=n=null,f}return f.invert=function(t){var n=a.scale(),e=a.translate(),r=(t[0]-e[0])/n,i=(t[1]-e[1])/n;return(i>=.12&&i<.234&&r>=-.425&&r<-.214?u:i>=.166&&i<.234&&r>=-.214&&r<-.115?s:a).invert(t)},f.stream=function(e){return t&&n===e?t:(r=[a.stream(n=e),u.stream(e),s.stream(e)],i=r.length,t={point:function(t,n){for(var e=-1;++e<i;)r[e].point(t,n)},sphere:function(){for(var t=-1;++t<i;)r[t].sphere()},lineStart:function(){for(var t=-1;++t<i;)r[t].lineStart()},lineEnd:function(){for(var t=-1;++t<i;)r[t].lineEnd()},polygonStart:function(){for(var t=-1;++t<i;)r[t].polygonStart()},polygonEnd:function(){for(var t=-1;++t<i;)r[t].polygonEnd()}});var r,i},f.precision=function(t){return arguments.length?(a.precision(t),u.precision(t),s.precision(t),l()):a.precision()},f.scale=function(t){return arguments.length?(a.scale(t),u.scale(.35*t),s.scale(t),f.translate(a.translate())):a.scale()},f.translate=function(t){if(!arguments.length)return a.translate();var n=a.scale(),o=+t[0],f=+t[1];return e=a.translate(t).clipExtent([[o-.455*n,f-.238*n],[o+.455*n,f+.238*n]]).stream(c),r=u.translate([o-.307*n,f+.201*n]).clipExtent([[o-.425*n+yu,f+.12*n+yu],[o-.214*n-yu,f+.234*n-yu]]).stream(c),i=s.translate([o-.205*n,f+.212*n]).clipExtent([[o-.214*n+yu,f+.166*n+yu],[o-.115*n-yu,f+.234*n-yu]]).stream(c),l()},f.fitExtent=function(t,n){return vl(f,t,n)},f.fitSize=function(t,n){return ml(f,t,n)},f.fitWidth=function(t,n){return _l(f,t,n)},f.fitHeight=function(t,n){return bl(f,t,n)},f.scale(1070)}function Ol(t){return function(n,e){var r=Nu(n),i=Nu(e),o=t(r*i);return[o*i*zu(n),o*zu(e)]}}function Dl(t){return function(n,e){var r=Ou(n*n+e*e),i=t(r),o=zu(i),a=Nu(i);return[Eu(n*o,r*a),Bu(r&&e*o/r)]}}var Rl=Ol(function(t){return Ou(2/(1+t))});function Bl(){return Nl(Rl).scale(124.75).clipAngle(179.999)}Rl.invert=Dl(function(t){return 2*Bu(t/2)});var Ll=Ol(function(t){return(t=Ru(t))&&t/zu(t)});function Ul(){return Nl(Ll).scale(79.4188).clipAngle(179.999)}function Vl(t,n){return[t,Cu(Du((_u+n)/2))]}function ql(){return Fl(Vl).scale(961/xu)}function Fl(t){var n,e,r,i=Nl(t),o=i.center,a=i.scale,u=i.translate,s=i.clipExtent,c=null;function f(){var o=mu*a(),u=i(yc(i.rotate()).invert([0,0]));return s(null==c?[[u[0]-o,u[1]-o],[u[0]+o,u[1]+o]]:t===Vl?[[Math.max(u[0]-o,c),n],[Math.min(u[0]+o,e),r]]:[[c,Math.max(u[1]-o,n)],[e,Math.min(u[1]+o,r)]])}return i.scale=function(t){return arguments.length?(a(t),f()):a()},i.translate=function(t){return arguments.length?(u(t),f()):u()},i.center=function(t){return arguments.length?(o(t),f()):o()},i.clipExtent=function(t){return arguments.length?(null==t?c=n=e=r=null:(c=+t[0][0],n=+t[0][1],e=+t[1][0],r=+t[1][1]),f()):null==c?null:[[c,n],[e,r]]},f()}function Yl(t){return Du((_u+t)/2)}function Gl(t,n){var e=Nu(t),r=t===n?zu(t):Cu(e/Nu(n))/Cu(Yl(n)/Yl(t)),i=e*Pu(Yl(t),r)/r;if(!r)return Vl;function o(t,n){i>0?n<-_u+yu&&(n=-_u+yu):n>_u-yu&&(n=_u-yu);var e=i/Pu(Yl(n),r);return[e*zu(r*t),i-e*Nu(r*t)]}return o.invert=function(t,n){var e=i-n,o=Iu(r)*Ou(t*t+e*e),a=Eu(t,Au(e))*Iu(e);return e*r<0&&(a-=mu*Iu(t)*Iu(e)),[a/r,2*Su(Pu(i/o,1/r))-_u]},o}function Hl(){return kl(Gl).scale(109.5).parallels([30,30])}function jl(t,n){return[t,n]}function Xl(){return Nl(jl).scale(152.63)}function Wl(t,n){var e=Nu(t),r=t===n?zu(t):(e-Nu(n))/(n-t),i=e/r+t;if(Au(r)<yu)return jl;function o(t,n){var e=i-n,o=r*t;return[e*zu(o),i-e*Nu(o)]}return o.invert=function(t,n){var e=i-n,o=Eu(t,Au(e))*Iu(e);return e*r<0&&(o-=mu*Iu(t)*Iu(e)),[o/r,i-Iu(r)*Ou(t*t+e*e)]},o}function $l(){return kl(Wl).scale(131.154).center([0,13.9389])}Ll.invert=Dl(function(t){return t}),Vl.invert=function(t,n){return[t,2*Su(ku(n))-_u]},jl.invert=jl;var Zl=1.340264,Ql=-.081106,Kl=893e-6,Jl=.003796,th=Ou(3)/2;function nh(t,n){var e=Bu(th*zu(n)),r=e*e,i=r*r*r;return[t*Nu(e)/(th*(Zl+3*Ql*r+i*(7*Kl+9*Jl*r))),e*(Zl+Ql*r+i*(Kl+Jl*r))]}function eh(){return Nl(nh).scale(177.158)}function rh(t,n){var e=Nu(n),r=Nu(t)*e;return[e*zu(t)/r,zu(n)/r]}function ih(){return Nl(rh).scale(144.049).clipAngle(60)}function oh(){var t,n,e,r,i,o,a,u=1,s=0,c=0,f=1,l=1,h=0,d=null,p=1,g=1,y=pl({point:function(t,n){var e=_([t,n]);this.stream.point(e[0],e[1])}}),v=ff;function m(){return p=u*f,g=u*l,o=a=null,_}function _(e){var r=e[0]*p,i=e[1]*g;if(h){var o=i*t-r*n;r=r*t+i*n,i=o}return[r+s,i+c]}return _.invert=function(e){var r=e[0]-s,i=e[1]-c;if(h){var o=i*t+r*n;r=r*t-i*n,i=o}return[r/p,i/g]},_.stream=function(t){return o&&a===t?o:o=y(v(a=t))},_.postclip=function(t){return arguments.length?(v=t,d=e=r=i=null,m()):v},_.clipExtent=function(t){return arguments.length?(v=null==t?(d=e=r=i=null,ff):Dc(d=+t[0][0],e=+t[0][1],r=+t[1][0],i=+t[1][1]),m()):null==d?null:[[d,e],[r,i]]},_.scale=function(t){return arguments.length?(u=+t,m()):u},_.translate=function(t){return arguments.length?(s=+t[0],c=+t[1],m()):[s,c]},_.angle=function(e){return arguments.length?(n=zu(h=e%360*Mu),t=Nu(h),m()):h*wu},_.reflectX=function(t){return arguments.length?(f=t?-1:1,m()):f<0},_.reflectY=function(t){return arguments.length?(l=t?-1:1,m()):l<0},_.fitExtent=function(t,n){return vl(_,t,n)},_.fitSize=function(t,n){return ml(_,t,n)},_.fitWidth=function(t,n){return _l(_,t,n)},_.fitHeight=function(t,n){return bl(_,t,n)},_}function ah(t,n){var e=n*n,r=e*e;return[t*(.8707-.131979*e+r*(r*(.003971*e-.001529*r)-.013791)),n*(1.007226+e*(.015085+r*(.028874*e-.044475-.005916*r)))]}function uh(){return Nl(ah).scale(175.295)}function sh(t,n){return[Nu(n)*zu(t),zu(n)]}function ch(){return Nl(sh).scale(249.5).clipAngle(90+yu)}function fh(t,n){var e=Nu(n),r=1+Nu(t)*e;return[e*zu(t)/r,zu(n)/r]}function lh(){return Nl(fh).scale(250).clipAngle(142)}function hh(t,n){return[Cu(Du((_u+n)/2)),-t]}function dh(){var t=Fl(hh),n=t.center,e=t.rotate;return t.center=function(t){return arguments.length?n([-t[1],t[0]]):[(t=n())[1],-t[0]]},t.rotate=function(t){return arguments.length?e([t[0],t[1],t.length>2?t[2]+90:90]):[(t=e())[0],t[1],t[2]-90]},e([0,0,90]).scale(159.155)}function ph(t,n){return t.parent===n.parent?1:2}function gh(t,n){return t+n.x}function yh(t,n){return Math.max(t,n.y)}function vh(){var t=ph,n=1,e=1,r=!1;function i(i){var o,a=0;i.eachAfter(function(n){var e=n.children;e?(n.x=function(t){return t.reduce(gh,0)/t.length}(e),n.y=function(t){return 1+t.reduce(yh,0)}(e)):(n.x=o?a+=t(n,o):0,n.y=0,o=n)});var u=function(t){for(var n;n=t.children;)t=n[0];return t}(i),s=function(t){for(var n;n=t.children;)t=n[n.length-1];return t}(i),c=u.x-t(u,s)/2,f=s.x+t(s,u)/2;return i.eachAfter(r?function(t){t.x=(t.x-i.x)*n,t.y=(i.y-t.y)*e}:function(t){t.x=(t.x-c)/(f-c)*n,t.y=(1-(i.y?t.y/i.y:1))*e})}return i.separation=function(n){return arguments.length?(t=n,i):t},i.size=function(t){return arguments.length?(r=!1,n=+t[0],e=+t[1],i):r?null:[n,e]},i.nodeSize=function(t){return arguments.length?(r=!0,n=+t[0],e=+t[1],i):r?[n,e]:null},i}function mh(t){var n=0,e=t.children,r=e&&e.length;if(r)for(;--r>=0;)n+=e[r].value;else n=1;t.value=n}function _h(t,n){var e,r,i,o,a,u=new Mh(t),s=+t.value&&(u.value=t.value),c=[u];for(null==n&&(n=bh);e=c.pop();)if(s&&(e.value=+e.data.value),(i=n(e.data))&&(a=i.length))for(e.children=new Array(a),o=a-1;o>=0;--o)c.push(r=e.children[o]=new Mh(i[o])),r.parent=e,r.depth=e.depth+1;return u.eachBefore(wh)}function bh(t){return t.children}function xh(t){t.data=t.data.data}function wh(t){var n=0;do{t.height=n}while((t=t.parent)&&t.height<++n)}function Mh(t){this.data=t,this.depth=this.height=0,this.parent=null}nh.invert=function(t,n){for(var e,r=n,i=r*r,o=i*i*i,a=0;a<12&&(o=(i=(r-=e=(r*(Zl+Ql*i+o*(Kl+Jl*i))-n)/(Zl+3*Ql*i+o*(7*Kl+9*Jl*i)))*r)*i*i,!(Au(e)<vu));++a);return[th*t*(Zl+3*Ql*i+o*(7*Kl+9*Jl*i))/Nu(r),Bu(zu(r)/th)]},rh.invert=Dl(Su),ah.invert=function(t,n){var e,r=n,i=25;do{var o=r*r,a=o*o;r-=e=(r*(1.007226+o*(.015085+a*(.028874*o-.044475-.005916*a)))-n)/(1.007226+o*(.045255+a*(.259866*o-.311325-.005916*11*a)))}while(Au(e)>yu&&--i>0);return[t/(.8707+(o=r*r)*(o*(o*o*o*(.003971-.001529*o)-.013791)-.131979)),r]},sh.invert=Dl(Bu),fh.invert=Dl(function(t){return 2*Su(t)}),hh.invert=function(t,n){return[-n,2*Su(ku(t))-_u]},Mh.prototype=_h.prototype={constructor:Mh,count:function(){return this.eachAfter(mh)},each:function(t){var n,e,r,i,o=this,a=[o];do{for(n=a.reverse(),a=[];o=n.pop();)if(t(o),e=o.children)for(r=0,i=e.length;r<i;++r)a.push(e[r])}while(a.length);return this},eachAfter:function(t){for(var n,e,r,i=this,o=[i],a=[];i=o.pop();)if(a.push(i),n=i.children)for(e=0,r=n.length;e<r;++e)o.push(n[e]);for(;i=a.pop();)t(i);return this},eachBefore:function(t){for(var n,e,r=this,i=[r];r=i.pop();)if(t(r),n=r.children)for(e=n.length-1;e>=0;--e)i.push(n[e]);return this},sum:function(t){return this.eachAfter(function(n){for(var e=+t(n.data)||0,r=n.children,i=r&&r.length;--i>=0;)e+=r[i].value;n.value=e})},sort:function(t){return this.eachBefore(function(n){n.children&&n.children.sort(t)})},path:function(t){for(var n=this,e=function(t,n){if(t===n)return t;var e=t.ancestors(),r=n.ancestors(),i=null;for(t=e.pop(),n=r.pop();t===n;)i=t,t=e.pop(),n=r.pop();return i}(n,t),r=[n];n!==e;)n=n.parent,r.push(n);for(var i=r.length;t!==e;)r.splice(i,0,t),t=t.parent;return r},ancestors:function(){for(var t=this,n=[t];t=t.parent;)n.push(t);return n},descendants:function(){var t=[];return this.each(function(n){t.push(n)}),t},leaves:function(){var t=[];return this.eachBefore(function(n){n.children||t.push(n)}),t},links:function(){var t=this,n=[];return t.each(function(e){e!==t&&n.push({source:e.parent,target:e})}),n},copy:function(){return _h(this).eachBefore(xh)}};var Ah=Array.prototype.slice;function Sh(t){for(var n,e,r=0,i=(t=function(t){for(var n,e,r=t.length;r;)e=Math.random()*r--|0,n=t[r],t[r]=t[e],t[e]=n;return t}(Ah.call(t))).length,o=[];r<i;)n=t[r],e&&Th(e,n)?++r:(e=Ch(o=Eh(o,n)),r=0);return e}function Eh(t,n){var e,r;if(kh(n,t))return[n];for(e=0;e<t.length;++e)if(Nh(n,t[e])&&kh(Ph(t[e],n),t))return[t[e],n];for(e=0;e<t.length-1;++e)for(r=e+1;r<t.length;++r)if(Nh(Ph(t[e],t[r]),n)&&Nh(Ph(t[e],n),t[r])&&Nh(Ph(t[r],n),t[e])&&kh(zh(t[e],t[r],n),t))return[t[e],t[r],n];throw new Error}function Nh(t,n){var e=t.r-n.r,r=n.x-t.x,i=n.y-t.y;return e<0||e*e<r*r+i*i}function Th(t,n){var e=t.r-n.r+1e-6,r=n.x-t.x,i=n.y-t.y;return e>0&&e*e>r*r+i*i}function kh(t,n){for(var e=0;e<n.length;++e)if(!Th(t,n[e]))return!1;return!0}function Ch(t){switch(t.length){case 1:return function(t){return{x:t.x,y:t.y,r:t.r}}(t[0]);case 2:return Ph(t[0],t[1]);case 3:return zh(t[0],t[1],t[2])}}function Ph(t,n){var e=t.x,r=t.y,i=t.r,o=n.x,a=n.y,u=n.r,s=o-e,c=a-r,f=u-i,l=Math.sqrt(s*s+c*c);return{x:(e+o+s/l*f)/2,y:(r+a+c/l*f)/2,r:(l+i+u)/2}}function zh(t,n,e){var r=t.x,i=t.y,o=t.r,a=n.x,u=n.y,s=n.r,c=e.x,f=e.y,l=e.r,h=r-a,d=r-c,p=i-u,g=i-f,y=s-o,v=l-o,m=r*r+i*i-o*o,_=m-a*a-u*u+s*s,b=m-c*c-f*f+l*l,x=d*p-h*g,w=(p*b-g*_)/(2*x)-r,M=(g*y-p*v)/x,A=(d*_-h*b)/(2*x)-i,S=(h*v-d*y)/x,E=M*M+S*S-1,N=2*(o+w*M+A*S),T=w*w+A*A-o*o,k=-(E?(N+Math.sqrt(N*N-4*E*T))/(2*E):T/N);return{x:r+w+M*k,y:i+A+S*k,r:k}}function Ih(t,n,e){var r,i,o,a,u=t.x-n.x,s=t.y-n.y,c=u*u+s*s;c?(i=n.r+e.r,i*=i,a=t.r+e.r,i>(a*=a)?(r=(c+a-i)/(2*c),o=Math.sqrt(Math.max(0,a/c-r*r)),e.x=t.x-r*u-o*s,e.y=t.y-r*s+o*u):(r=(c+i-a)/(2*c),o=Math.sqrt(Math.max(0,i/c-r*r)),e.x=n.x+r*u-o*s,e.y=n.y+r*s+o*u)):(e.x=n.x+e.r,e.y=n.y)}function Oh(t,n){var e=t.r+n.r-1e-6,r=n.x-t.x,i=n.y-t.y;return e>0&&e*e>r*r+i*i}function Dh(t){var n=t._,e=t.next._,r=n.r+e.r,i=(n.x*e.r+e.x*n.r)/r,o=(n.y*e.r+e.y*n.r)/r;return i*i+o*o}function Rh(t){this._=t,this.next=null,this.previous=null}function Bh(t){if(!(i=t.length))return 0;var n,e,r,i,o,a,u,s,c,f,l;if((n=t[0]).x=0,n.y=0,!(i>1))return n.r;if(e=t[1],n.x=-e.r,e.x=n.r,e.y=0,!(i>2))return n.r+e.r;Ih(e,n,r=t[2]),n=new Rh(n),e=new Rh(e),r=new Rh(r),n.next=r.previous=e,e.next=n.previous=r,r.next=e.previous=n;t:for(u=3;u<i;++u){Ih(n._,e._,r=t[u]),r=new Rh(r),s=e.next,c=n.previous,f=e._.r,l=n._.r;do{if(f<=l){if(Oh(s._,r._)){e=s,n.next=e,e.previous=n,--u;continue t}f+=s._.r,s=s.next}else{if(Oh(c._,r._)){(n=c).next=e,e.previous=n,--u;continue t}l+=c._.r,c=c.previous}}while(s!==c.next);for(r.previous=n,r.next=e,n.next=e.previous=e=r,o=Dh(n);(r=r.next)!==e;)(a=Dh(r))<o&&(n=r,o=a);e=n.next}for(n=[e._],r=e;(r=r.next)!==e;)n.push(r._);for(r=Sh(n),u=0;u<i;++u)(n=t[u]).x-=r.x,n.y-=r.y;return r.r}function Lh(t){return Bh(t),t}function Uh(t){if("function"!=typeof t)throw new Error;return t}function Vh(){return 0}function qh(t){return function(){return t}}function Fh(t){return Math.sqrt(t.value)}function Yh(){var t=null,n=1,e=1,r=Vh;function i(i){return i.x=n/2,i.y=e/2,t?i.eachBefore(Gh(t)).eachAfter(Hh(r,.5)).eachBefore(jh(1)):i.eachBefore(Gh(Fh)).eachAfter(Hh(Vh,1)).eachAfter(Hh(r,i.r/Math.min(n,e))).eachBefore(jh(Math.min(n,e)/(2*i.r))),i}return i.radius=function(n){return arguments.length?(t=null==(e=n)?null:Uh(e),i):t;var e},i.size=function(t){return arguments.length?(n=+t[0],e=+t[1],i):[n,e]},i.padding=function(t){return arguments.length?(r="function"==typeof t?t:qh(+t),i):r},i}function Gh(t){return function(n){n.children||(n.r=Math.max(0,+t(n)||0))}}function Hh(t,n){return function(e){if(r=e.children){var r,i,o,a=r.length,u=t(e)*n||0;if(u)for(i=0;i<a;++i)r[i].r+=u;if(o=Bh(r),u)for(i=0;i<a;++i)r[i].r-=u;e.r=o+u}}}function jh(t){return function(n){var e=n.parent;n.r*=t,e&&(n.x=e.x+t*n.x,n.y=e.y+t*n.y)}}function Xh(t){t.x0=Math.round(t.x0),t.y0=Math.round(t.y0),t.x1=Math.round(t.x1),t.y1=Math.round(t.y1)}function Wh(t,n,e,r,i){for(var o,a=t.children,u=-1,s=a.length,c=t.value&&(r-n)/t.value;++u<s;)(o=a[u]).y0=e,o.y1=i,o.x0=n,o.x1=n+=o.value*c}function $h(){var t=1,n=1,e=0,r=!1;function i(i){var o=i.height+1;return i.x0=i.y0=e,i.x1=t,i.y1=n/o,i.eachBefore(function(t,n){return function(r){r.children&&Wh(r,r.x0,t*(r.depth+1)/n,r.x1,t*(r.depth+2)/n);var i=r.x0,o=r.y0,a=r.x1-e,u=r.y1-e;a<i&&(i=a=(i+a)/2),u<o&&(o=u=(o+u)/2),r.x0=i,r.y0=o,r.x1=a,r.y1=u}}(n,o)),r&&i.eachBefore(Xh),i}return i.round=function(t){return arguments.length?(r=!!t,i):r},i.size=function(e){return arguments.length?(t=+e[0],n=+e[1],i):[t,n]},i.padding=function(t){return arguments.length?(e=+t,i):e},i}var Zh="$",Qh={depth:-1},Kh={};function Jh(t){return t.id}function td(t){return t.parentId}function nd(){var t=Jh,n=td;function e(e){var r,i,o,a,u,s,c,f=e.length,l=new Array(f),h={};for(i=0;i<f;++i)r=e[i],u=l[i]=new Mh(r),null!=(s=t(r,i,e))&&(s+="")&&(h[c=Zh+(u.id=s)]=c in h?Kh:u);for(i=0;i<f;++i)if(u=l[i],null!=(s=n(e[i],i,e))&&(s+="")){if(!(a=h[Zh+s]))throw new Error("missing: "+s);if(a===Kh)throw new Error("ambiguous: "+s);a.children?a.children.push(u):a.children=[u],u.parent=a}else{if(o)throw new Error("multiple roots");o=u}if(!o)throw new Error("no root");if(o.parent=Qh,o.eachBefore(function(t){t.depth=t.parent.depth+1,--f}).eachBefore(wh),o.parent=null,f>0)throw new Error("cycle");return o}return e.id=function(n){return arguments.length?(t=Uh(n),e):t},e.parentId=function(t){return arguments.length?(n=Uh(t),e):n},e}function ed(t,n){return t.parent===n.parent?1:2}function rd(t){var n=t.children;return n?n[0]:t.t}function id(t){var n=t.children;return n?n[n.length-1]:t.t}function od(t,n,e){var r=e/(n.i-t.i);n.c-=r,n.s+=e,t.c+=r,n.z+=e,n.m+=e}function ad(t,n,e){return t.a.parent===n.parent?t.a:e}function ud(t,n){this._=t,this.parent=null,this.children=null,this.A=null,this.a=this,this.z=0,this.m=0,this.c=0,this.s=0,this.t=null,this.i=n}function sd(){var t=ed,n=1,e=1,r=null;function i(i){var s=function(t){for(var n,e,r,i,o,a=new ud(t,0),u=[a];n=u.pop();)if(r=n._.children)for(n.children=new Array(o=r.length),i=o-1;i>=0;--i)u.push(e=n.children[i]=new ud(r[i],i)),e.parent=n;return(a.parent=new ud(null,0)).children=[a],a}(i);if(s.eachAfter(o),s.parent.m=-s.z,s.eachBefore(a),r)i.eachBefore(u);else{var c=i,f=i,l=i;i.eachBefore(function(t){t.x<c.x&&(c=t),t.x>f.x&&(f=t),t.depth>l.depth&&(l=t)});var h=c===f?1:t(c,f)/2,d=h-c.x,p=n/(f.x+h+d),g=e/(l.depth||1);i.eachBefore(function(t){t.x=(t.x+d)*p,t.y=t.depth*g})}return i}function o(n){var e=n.children,r=n.parent.children,i=n.i?r[n.i-1]:null;if(e){!function(t){for(var n,e=0,r=0,i=t.children,o=i.length;--o>=0;)(n=i[o]).z+=e,n.m+=e,e+=n.s+(r+=n.c)}(n);var o=(e[0].z+e[e.length-1].z)/2;i?(n.z=i.z+t(n._,i._),n.m=n.z-o):n.z=o}else i&&(n.z=i.z+t(n._,i._));n.parent.A=function(n,e,r){if(e){for(var i,o=n,a=n,u=e,s=o.parent.children[0],c=o.m,f=a.m,l=u.m,h=s.m;u=id(u),o=rd(o),u&&o;)s=rd(s),(a=id(a)).a=n,(i=u.z+l-o.z-c+t(u._,o._))>0&&(od(ad(u,n,r),n,i),c+=i,f+=i),l+=u.m,c+=o.m,h+=s.m,f+=a.m;u&&!id(a)&&(a.t=u,a.m+=l-f),o&&!rd(s)&&(s.t=o,s.m+=c-h,r=n)}return r}(n,i,n.parent.A||r[0])}function a(t){t._.x=t.z+t.parent.m,t.m+=t.parent.m}function u(t){t.x*=n,t.y=t.depth*e}return i.separation=function(n){return arguments.length?(t=n,i):t},i.size=function(t){return arguments.length?(r=!1,n=+t[0],e=+t[1],i):r?null:[n,e]},i.nodeSize=function(t){return arguments.length?(r=!0,n=+t[0],e=+t[1],i):r?[n,e]:null},i}function cd(t,n,e,r,i){for(var o,a=t.children,u=-1,s=a.length,c=t.value&&(i-e)/t.value;++u<s;)(o=a[u]).x0=n,o.x1=r,o.y0=e,o.y1=e+=o.value*c}ud.prototype=Object.create(Mh.prototype);var fd=(1+Math.sqrt(5))/2;function ld(t,n,e,r,i,o){for(var a,u,s,c,f,l,h,d,p,g,y,v=[],m=n.children,_=0,b=0,x=m.length,w=n.value;_<x;){s=i-e,c=o-r;do{f=m[b++].value}while(!f&&b<x);for(l=h=f,y=f*f*(g=Math.max(c/s,s/c)/(w*t)),p=Math.max(h/y,y/l);b<x;++b){if(f+=u=m[b].value,u<l&&(l=u),u>h&&(h=u),y=f*f*g,(d=Math.max(h/y,y/l))>p){f-=u;break}p=d}v.push(a={value:f,dice:s<c,children:m.slice(_,b)}),a.dice?Wh(a,e,r,i,w?r+=c*f/w:o):cd(a,e,r,w?e+=s*f/w:i,o),w-=f,_=b}return v}const hd=function t(n){function e(t,e,r,i,o){ld(n,t,e,r,i,o)}return e.ratio=function(n){return t((n=+n)>1?n:1)},e}(fd);function dd(){var t=hd,n=!1,e=1,r=1,i=[0],o=Vh,a=Vh,u=Vh,s=Vh,c=Vh;function f(t){return t.x0=t.y0=0,t.x1=e,t.y1=r,t.eachBefore(l),i=[0],n&&t.eachBefore(Xh),t}function l(n){var e=i[n.depth],r=n.x0+e,f=n.y0+e,l=n.x1-e,h=n.y1-e;l<r&&(r=l=(r+l)/2),h<f&&(f=h=(f+h)/2),n.x0=r,n.y0=f,n.x1=l,n.y1=h,n.children&&(e=i[n.depth+1]=o(n)/2,r+=c(n)-e,f+=a(n)-e,(l-=u(n)-e)<r&&(r=l=(r+l)/2),(h-=s(n)-e)<f&&(f=h=(f+h)/2),t(n,r,f,l,h))}return f.round=function(t){return arguments.length?(n=!!t,f):n},f.size=function(t){return arguments.length?(e=+t[0],r=+t[1],f):[e,r]},f.tile=function(n){return arguments.length?(t=Uh(n),f):t},f.padding=function(t){return arguments.length?f.paddingInner(t).paddingOuter(t):f.paddingInner()},f.paddingInner=function(t){return arguments.length?(o="function"==typeof t?t:qh(+t),f):o},f.paddingOuter=function(t){return arguments.length?f.paddingTop(t).paddingRight(t).paddingBottom(t).paddingLeft(t):f.paddingTop()},f.paddingTop=function(t){return arguments.length?(a="function"==typeof t?t:qh(+t),f):a},f.paddingRight=function(t){return arguments.length?(u="function"==typeof t?t:qh(+t),f):u},f.paddingBottom=function(t){return arguments.length?(s="function"==typeof t?t:qh(+t),f):s},f.paddingLeft=function(t){return arguments.length?(c="function"==typeof t?t:qh(+t),f):c},f}function pd(t,n,e,r,i){var o,a,u=t.children,s=u.length,c=new Array(s+1);for(c[0]=a=o=0;o<s;++o)c[o+1]=a+=u[o].value;!function t(n,e,r,i,o,a,s){if(n>=e-1){var f=u[n];return f.x0=i,f.y0=o,f.x1=a,void(f.y1=s)}for(var l=c[n],h=r/2+l,d=n+1,p=e-1;d<p;){var g=d+p>>>1;c[g]<h?d=g+1:p=g}h-c[d-1]<c[d]-h&&n+1<d&&--d;var y=c[d]-l,v=r-y;if(a-i>s-o){var m=(i*v+a*y)/r;t(n,d,y,i,o,m,s),t(d,e,v,m,o,a,s)}else{var _=(o*v+s*y)/r;t(n,d,y,i,o,a,_),t(d,e,v,i,_,a,s)}}(0,s,t.value,n,e,r,i)}function gd(t,n,e,r,i){(1&t.depth?cd:Wh)(t,n,e,r,i)}const yd=function t(n){function e(t,e,r,i,o){if((a=t._squarify)&&a.ratio===n)for(var a,u,s,c,f,l=-1,h=a.length,d=t.value;++l<h;){for(s=(u=a[l]).children,c=u.value=0,f=s.length;c<f;++c)u.value+=s[c].value;u.dice?Wh(u,e,r,i,r+=(o-r)*u.value/d):cd(u,e,r,e+=(i-e)*u.value/d,o),d-=u.value}else t._squarify=a=ld(n,t,e,r,i,o),a.ratio=n}return e.ratio=function(n){return t((n=+n)>1?n:1)},e}(fd);function vd(t){var n=t.length;return function(e){return t[Math.max(0,Math.min(n-1,Math.floor(e*n)))]}}function md(t,n){var e=Wt(+t,+n);return function(t){var n=e(t);return n-360*Math.floor(n/360)}}function _d(t,n){return t=+t,n=+n,function(e){return Math.round(t*(1-e)+n*e)}}var bd=Math.SQRT2,xd=2,wd=4,Md=1e-12;function Ad(t){return((t=Math.exp(t))+1/t)/2}function Sd(t,n){var e,r,i=t[0],o=t[1],a=t[2],u=n[0],s=n[1],c=n[2],f=u-i,l=s-o,h=f*f+l*l;if(h<Md)r=Math.log(c/a)/bd,e=function(t){return[i+t*f,o+t*l,a*Math.exp(bd*t*r)]};else{var d=Math.sqrt(h),p=(c*c-a*a+wd*h)/(2*a*xd*d),g=(c*c-a*a-wd*h)/(2*c*xd*d),y=Math.log(Math.sqrt(p*p+1)-p),v=Math.log(Math.sqrt(g*g+1)-g);r=(v-y)/bd,e=function(t){var n,e=t*r,u=Ad(y),s=a/(xd*d)*(u*(n=bd*e+y,((n=Math.exp(2*n))-1)/(n+1))-function(t){return((t=Math.exp(t))-1/t)/2}(y));return[i+s*f,o+s*l,a*u/Ad(bd*e+y)]}}return e.duration=1e3*r,e}function Ed(t){return function(n,e){var r=t((n=Vt(n)).h,(e=Vt(e)).h),i=$t(n.s,e.s),o=$t(n.l,e.l),a=$t(n.opacity,e.opacity);return function(t){return n.h=r(t),n.s=i(t),n.l=o(t),n.opacity=a(t),n+""}}}const Nd=Ed(Wt);var Td=Ed($t);function kd(t,n){var e=$t((t=ui(t)).l,(n=ui(n)).l),r=$t(t.a,n.a),i=$t(t.b,n.b),o=$t(t.opacity,n.opacity);return function(n){return t.l=e(n),t.a=r(n),t.b=i(n),t.opacity=o(n),t+""}}function Cd(t){return function(n,e){var r=t((n=gi(n)).h,(e=gi(e)).h),i=$t(n.c,e.c),o=$t(n.l,e.l),a=$t(n.opacity,e.opacity);return function(t){return n.h=r(t),n.c=i(t),n.l=o(t),n.opacity=a(t),n+""}}}const Pd=Cd(Wt);var zd=Cd($t);function Id(t){return function n(e){function r(n,r){var i=t((n=Ei(n)).h,(r=Ei(r)).h),o=$t(n.s,r.s),a=$t(n.l,r.l),u=$t(n.opacity,r.opacity);return function(t){return n.h=i(t),n.s=o(t),n.l=a(Math.pow(t,e)),n.opacity=u(t),n+""}}return e=+e,r.gamma=n,r}(1)}const Od=Id(Wt);var Dd=Id($t);function Rd(t,n){for(var e=0,r=n.length-1,i=n[0],o=new Array(r<0?0:r);e<r;)o[e]=t(i,i=n[++e]);return function(t){var n=Math.max(0,Math.min(r-1,Math.floor(t*=r)));return o[n](t-n)}}function Bd(t,n){for(var e=new Array(n),r=0;r<n;++r)e[r]=t(r/(n-1));return e}function Ld(t){for(var n,e=-1,r=t.length,i=t[r-1],o=0;++e<r;)n=i,i=t[e],o+=n[1]*i[0]-n[0]*i[1];return o/2}function Ud(t){for(var n,e,r=-1,i=t.length,o=0,a=0,u=t[i-1],s=0;++r<i;)n=u,u=t[r],s+=e=n[0]*u[1]-u[0]*n[1],o+=(n[0]+u[0])*e,a+=(n[1]+u[1])*e;return[o/(s*=3),a/s]}function Vd(t,n,e){return(n[0]-t[0])*(e[1]-t[1])-(n[1]-t[1])*(e[0]-t[0])}function qd(t,n){return t[0]-n[0]||t[1]-n[1]}function Fd(t){for(var n=t.length,e=[0,1],r=2,i=2;i<n;++i){for(;r>1&&Vd(t[e[r-2]],t[e[r-1]],t[i])<=0;)--r;e[r++]=i}return e.slice(0,r)}function Yd(t){if((e=t.length)<3)return null;var n,e,r=new Array(e),i=new Array(e);for(n=0;n<e;++n)r[n]=[+t[n][0],+t[n][1],n];for(r.sort(qd),n=0;n<e;++n)i[n]=[r[n][0],-r[n][1]];var o=Fd(r),a=Fd(i),u=a[0]===o[0],s=a[a.length-1]===o[o.length-1],c=[];for(n=o.length-1;n>=0;--n)c.push(t[r[o[n]][2]]);for(n=+u;n<a.length-s;++n)c.push(t[r[a[n]][2]]);return c}function Gd(t,n){for(var e,r,i=t.length,o=t[i-1],a=n[0],u=n[1],s=o[0],c=o[1],f=!1,l=0;l<i;++l)e=(o=t[l])[0],(r=o[1])>u!=c>u&&a<(s-e)*(u-r)/(c-r)+e&&(f=!f),s=e,c=r;return f}function Hd(t){for(var n,e,r=-1,i=t.length,o=t[i-1],a=o[0],u=o[1],s=0;++r<i;)n=a,e=u,n-=a=(o=t[r])[0],e-=u=o[1],s+=Math.sqrt(n*n+e*e);return s}function jd(){return Math.random()}const Xd=function t(n){function e(t,e){return t=null==t?0:+t,e=null==e?1:+e,1===arguments.length?(e=t,t=0):e-=t,function(){return n()*e+t}}return e.source=t,e}(jd),Wd=function t(n){function e(t,e){var r,i;return t=null==t?0:+t,e=null==e?1:+e,function(){var o;if(null!=r)o=r,r=null;else do{r=2*n()-1,o=2*n()-1,i=r*r+o*o}while(!i||i>1);return t+e*o*Math.sqrt(-2*Math.log(i)/i)}}return e.source=t,e}(jd),$d=function t(n){function e(){var t=Wd.source(n).apply(this,arguments);return function(){return Math.exp(t())}}return e.source=t,e}(jd),Zd=function t(n){function e(t){return function(){for(var e=0,r=0;r<t;++r)e+=n();return e}}return e.source=t,e}(jd),Qd=function t(n){function e(t){var e=Zd.source(n)(t);return function(){return e()/t}}return e.source=t,e}(jd),Kd=function t(n){function e(t){return function(){return-Math.log(1-n())/t}}return e.source=t,e}(jd);function Jd(t,n){switch(arguments.length){case 0:break;case 1:this.range(t);break;default:this.range(n).domain(t)}return this}function tp(t,n){switch(arguments.length){case 0:break;case 1:this.interpolator(t);break;default:this.interpolator(n).domain(t)}return this}var np=Array.prototype,ep=np.map,rp=np.slice,ip={name:"implicit"};function op(){var t=Br(),n=[],e=[],r=ip;function i(i){var o=i+"",a=t.get(o);if(!a){if(r!==ip)return r;t.set(o,a=n.push(i))}return e[(a-1)%e.length]}return i.domain=function(e){if(!arguments.length)return n.slice();n=[],t=Br();for(var r,o,a=-1,u=e.length;++a<u;)t.has(o=(r=e[a])+"")||t.set(o,n.push(r));return i},i.range=function(t){return arguments.length?(e=rp.call(t),i):e.slice()},i.unknown=function(t){return arguments.length?(r=t,i):r},i.copy=function(){return op(n,e).unknown(r)},Jd.apply(i,arguments),i}function ap(){var t,n,e=op().unknown(void 0),r=e.domain,i=e.range,o=[0,1],a=!1,u=0,s=0,c=.5;function f(){var e=r().length,f=o[1]<o[0],l=o[f-0],h=o[1-f];t=(h-l)/Math.max(1,e-u+2*s),a&&(t=Math.floor(t)),l+=(h-l-t*(e-u))*c,n=t*(1-u),a&&(l=Math.round(l),n=Math.round(n));var d=w(e).map(function(n){return l+t*n});return i(f?d.reverse():d)}return delete e.unknown,e.domain=function(t){return arguments.length?(r(t),f()):r()},e.range=function(t){return arguments.length?(o=[+t[0],+t[1]],f()):o.slice()},e.rangeRound=function(t){return o=[+t[0],+t[1]],a=!0,f()},e.bandwidth=function(){return n},e.step=function(){return t},e.round=function(t){return arguments.length?(a=!!t,f()):a},e.padding=function(t){return arguments.length?(u=Math.min(1,s=+t),f()):u},e.paddingInner=function(t){return arguments.length?(u=Math.min(1,t),f()):u},e.paddingOuter=function(t){return arguments.length?(s=+t,f()):s},e.align=function(t){return arguments.length?(c=Math.max(0,Math.min(1,t)),f()):c},e.copy=function(){return ap(r(),o).round(a).paddingInner(u).paddingOuter(s).align(c)},Jd.apply(f(),arguments)}function up(t){var n=t.copy;return t.padding=t.paddingOuter,delete t.paddingInner,delete t.paddingOuter,t.copy=function(){return up(n())},t}function sp(){return up(ap.apply(null,arguments).paddingInner(1))}function cp(t){return+t}var fp=[0,1];function lp(t){return t}function hp(t,n){return(n-=t=+t)?function(e){return(e-t)/n}:(e=isNaN(n)?NaN:.5,function(){return e});var e}function dp(t){var n,e=t[0],r=t[t.length-1];return e>r&&(n=e,e=r,r=n),function(t){return Math.max(e,Math.min(r,t))}}function pp(t,n,e){var r=t[0],i=t[1],o=n[0],a=n[1];return i<r?(r=hp(i,r),o=e(a,o)):(r=hp(r,i),o=e(o,a)),function(t){return o(r(t))}}function gp(t,n,e){var r=Math.min(t.length,n.length)-1,i=new Array(r),o=new Array(r),a=-1;for(t[r]<t[0]&&(t=t.slice().reverse(),n=n.slice().reverse());++a<r;)i[a]=hp(t[a],t[a+1]),o[a]=e(n[a],n[a+1]);return function(n){var e=s(t,n,1,r)-1;return o[e](i[e](n))}}function yp(t,n){return n.domain(t.domain()).range(t.range()).interpolate(t.interpolate()).clamp(t.clamp()).unknown(t.unknown())}function vp(){var t,n,e,r,i,o,a=fp,u=fp,s=ln,c=lp;function f(){return r=Math.min(a.length,u.length)>2?gp:pp,i=o=null,l}function l(n){return isNaN(n=+n)?e:(i||(i=r(a.map(t),u,s)))(t(c(n)))}return l.invert=function(e){return c(n((o||(o=r(u,a.map(t),an)))(e)))},l.domain=function(t){return arguments.length?(a=ep.call(t,cp),c===lp||(c=dp(a)),f()):a.slice()},l.range=function(t){return arguments.length?(u=rp.call(t),f()):u.slice()},l.rangeRound=function(t){return u=rp.call(t),s=_d,f()},l.clamp=function(t){return arguments.length?(c=t?dp(a):lp,l):c!==lp},l.interpolate=function(t){return arguments.length?(s=t,f()):s},l.unknown=function(t){return arguments.length?(e=t,l):e},function(e,r){return t=e,n=r,f()}}function mp(t,n){return vp()(t,n)}function _p(t,n,e,r){var i,o=T(t,n,e);switch((r=Qa(null==r?",f":r)).type){case"s":var a=Math.max(Math.abs(t),Math.abs(n));return null!=r.precision||isNaN(i=fu(o,a))||(r.precision=i),iu(r,a);case"":case"e":case"g":case"p":case"r":null!=r.precision||isNaN(i=lu(o,Math.max(Math.abs(t),Math.abs(n))))||(r.precision=i-("e"===r.type));break;case"f":case"%":null!=r.precision||isNaN(i=cu(o))||(r.precision=i-2*("%"===r.type))}return ru(r)}function bp(t){var n=t.domain;return t.ticks=function(t){var e=n();return E(e[0],e[e.length-1],null==t?10:t)},t.tickFormat=function(t,e){var r=n();return _p(r[0],r[r.length-1],null==t?10:t,e)},t.nice=function(e){null==e&&(e=10);var r,i=n(),o=0,a=i.length-1,u=i[o],s=i[a];return s<u&&(r=u,u=s,s=r,r=o,o=a,a=r),(r=N(u,s,e))>0?r=N(u=Math.floor(u/r)*r,s=Math.ceil(s/r)*r,e):r<0&&(r=N(u=Math.ceil(u*r)/r,s=Math.floor(s*r)/r,e)),r>0?(i[o]=Math.floor(u/r)*r,i[a]=Math.ceil(s/r)*r,n(i)):r<0&&(i[o]=Math.ceil(u*r)/r,i[a]=Math.floor(s*r)/r,n(i)),t},t}function xp(){var t=mp(lp,lp);return t.copy=function(){return yp(t,xp())},Jd.apply(t,arguments),bp(t)}function wp(t){var n;function e(t){return isNaN(t=+t)?n:t}return e.invert=e,e.domain=e.range=function(n){return arguments.length?(t=ep.call(n,cp),e):t.slice()},e.unknown=function(t){return arguments.length?(n=t,e):n},e.copy=function(){return wp(t).unknown(n)},t=arguments.length?ep.call(t,cp):[0,1],bp(e)}function Mp(t,n){var e,r=0,i=(t=t.slice()).length-1,o=t[r],a=t[i];return a<o&&(e=r,r=i,i=e,e=o,o=a,a=e),t[r]=n.floor(o),t[i]=n.ceil(a),t}function Ap(t){return Math.log(t)}function Sp(t){return Math.exp(t)}function Ep(t){return-Math.log(-t)}function Np(t){return-Math.exp(-t)}function Tp(t){return isFinite(t)?+("1e"+t):t<0?0:t}function kp(t){return function(n){return-t(-n)}}function Cp(t){var n,e,r=t(Ap,Sp),i=r.domain,o=10;function a(){return n=function(t){return t===Math.E?Math.log:10===t&&Math.log10||2===t&&Math.log2||(t=Math.log(t),function(n){return Math.log(n)/t})}(o),e=function(t){return 10===t?Tp:t===Math.E?Math.exp:function(n){return Math.pow(t,n)}}(o),i()[0]<0?(n=kp(n),e=kp(e),t(Ep,Np)):t(Ap,Sp),r}return r.base=function(t){return arguments.length?(o=+t,a()):o},r.domain=function(t){return arguments.length?(i(t),a()):i()},r.ticks=function(t){var r,a=i(),u=a[0],s=a[a.length-1];(r=s<u)&&(h=u,u=s,s=h);var c,f,l,h=n(u),d=n(s),p=null==t?10:+t,g=[];if(!(o%1)&&d-h<p){if(h=Math.round(h)-1,d=Math.round(d)+1,u>0){for(;h<d;++h)for(f=1,c=e(h);f<o;++f)if(!((l=c*f)<u)){if(l>s)break;g.push(l)}}else for(;h<d;++h)for(f=o-1,c=e(h);f>=1;--f)if(!((l=c*f)<u)){if(l>s)break;g.push(l)}}else g=E(h,d,Math.min(d-h,p)).map(e);return r?g.reverse():g},r.tickFormat=function(t,i){if(null==i&&(i=10===o?".0e":","),"function"!=typeof i&&(i=ru(i)),t===1/0)return i;null==t&&(t=10);var a=Math.max(1,o*t/r.ticks().length);return function(t){var r=t/e(Math.round(n(t)));return r*o<o-.5&&(r*=o),r<=a?i(t):""}},r.nice=function(){return i(Mp(i(),{floor:function(t){return e(Math.floor(n(t)))},ceil:function(t){return e(Math.ceil(n(t)))}}))},r}function Pp(){var t=Cp(vp()).domain([1,10]);return t.copy=function(){return yp(t,Pp()).base(t.base())},Jd.apply(t,arguments),t}function zp(t){return function(n){return Math.sign(n)*Math.log1p(Math.abs(n/t))}}function Ip(t){return function(n){return Math.sign(n)*Math.expm1(Math.abs(n))*t}}function Op(t){var n=1,e=t(zp(n),Ip(n));return e.constant=function(e){return arguments.length?t(zp(n=+e),Ip(n)):n},bp(e)}function Dp(){var t=Op(vp());return t.copy=function(){return yp(t,Dp()).constant(t.constant())},Jd.apply(t,arguments)}function Rp(t){return function(n){return n<0?-Math.pow(-n,t):Math.pow(n,t)}}function Bp(t){return t<0?-Math.sqrt(-t):Math.sqrt(t)}function Lp(t){return t<0?-t*t:t*t}function Up(t){var n=t(lp,lp),e=1;return n.exponent=function(n){return arguments.length?1===(e=+n)?t(lp,lp):.5===e?t(Bp,Lp):t(Rp(e),Rp(1/e)):e},bp(n)}function Vp(){var t=Up(vp());return t.copy=function(){return yp(t,Vp()).exponent(t.exponent())},Jd.apply(t,arguments),t}function qp(){return Vp.apply(null,arguments).exponent(.5)}function Fp(){var t,n=[],e=[],i=[];function o(){var t=0,r=Math.max(1,e.length);for(i=new Array(r-1);++t<r;)i[t-1]=P(n,t/r);return a}function a(n){return isNaN(n=+n)?t:e[s(i,n)]}return a.invertExtent=function(t){var r=e.indexOf(t);return r<0?[NaN,NaN]:[r>0?i[r-1]:n[0],r<i.length?i[r]:n[n.length-1]]},a.domain=function(t){if(!arguments.length)return n.slice();n=[];for(var e,i=0,a=t.length;i<a;++i)null==(e=t[i])||isNaN(e=+e)||n.push(e);return n.sort(r),o()},a.range=function(t){return arguments.length?(e=rp.call(t),o()):e.slice()},a.unknown=function(n){return arguments.length?(t=n,a):t},a.quantiles=function(){return i.slice()},a.copy=function(){return Fp().domain(n).range(e).unknown(t)},Jd.apply(a,arguments)}function Yp(){var t,n=0,e=1,r=1,i=[.5],o=[0,1];function a(n){return n<=n?o[s(i,n,0,r)]:t}function u(){var t=-1;for(i=new Array(r);++t<r;)i[t]=((t+1)*e-(t-r)*n)/(r+1);return a}return a.domain=function(t){return arguments.length?(n=+t[0],e=+t[1],u()):[n,e]},a.range=function(t){return arguments.length?(r=(o=rp.call(t)).length-1,u()):o.slice()},a.invertExtent=function(t){var a=o.indexOf(t);return a<0?[NaN,NaN]:a<1?[n,i[0]]:a>=r?[i[r-1],e]:[i[a-1],i[a]]},a.unknown=function(n){return arguments.length?(t=n,a):a},a.thresholds=function(){return i.slice()},a.copy=function(){return Yp().domain([n,e]).range(o).unknown(t)},Jd.apply(bp(a),arguments)}function Gp(){var t,n=[.5],e=[0,1],r=1;function i(i){return i<=i?e[s(n,i,0,r)]:t}return i.domain=function(t){return arguments.length?(n=rp.call(t),r=Math.min(n.length,e.length-1),i):n.slice()},i.range=function(t){return arguments.length?(e=rp.call(t),r=Math.min(n.length,e.length-1),i):e.slice()},i.invertExtent=function(t){var r=e.indexOf(t);return[n[r-1],n[r]]},i.unknown=function(n){return arguments.length?(t=n,i):t},i.copy=function(){return Gp().domain(n).range(e).unknown(t)},Jd.apply(i,arguments)}var Hp=new Date,jp=new Date;function Xp(t,n,e,r){function i(n){return t(n=0===arguments.length?new Date:new Date(+n)),n}return i.floor=function(n){return t(n=new Date(+n)),n},i.ceil=function(e){return t(e=new Date(e-1)),n(e,1),t(e),e},i.round=function(t){var n=i(t),e=i.ceil(t);return t-n<e-t?n:e},i.offset=function(t,e){return n(t=new Date(+t),null==e?1:Math.floor(e)),t},i.range=function(e,r,o){var a,u=[];if(e=i.ceil(e),o=null==o?1:Math.floor(o),!(e<r&&o>0))return u;do{u.push(a=new Date(+e)),n(e,o),t(e)}while(a<e&&e<r);return u},i.filter=function(e){return Xp(function(n){if(n>=n)for(;t(n),!e(n);)n.setTime(n-1)},function(t,r){if(t>=t)if(r<0)for(;++r<=0;)for(;n(t,-1),!e(t););else for(;--r>=0;)for(;n(t,1),!e(t););})},e&&(i.count=function(n,r){return Hp.setTime(+n),jp.setTime(+r),t(Hp),t(jp),Math.floor(e(Hp,jp))},i.every=function(t){return t=Math.floor(t),isFinite(t)&&t>0?t>1?i.filter(r?function(n){return r(n)%t===0}:function(n){return i.count(0,n)%t===0}):i:null}),i}var Wp=Xp(function(t){t.setMonth(0,1),t.setHours(0,0,0,0)},function(t,n){t.setFullYear(t.getFullYear()+n)},function(t,n){return n.getFullYear()-t.getFullYear()},function(t){return t.getFullYear()});Wp.every=function(t){return isFinite(t=Math.floor(t))&&t>0?Xp(function(n){n.setFullYear(Math.floor(n.getFullYear()/t)*t),n.setMonth(0,1),n.setHours(0,0,0,0)},function(n,e){n.setFullYear(n.getFullYear()+e*t)}):null};const $p=Wp;var Zp=Wp.range,Qp=Xp(function(t){t.setDate(1),t.setHours(0,0,0,0)},function(t,n){t.setMonth(t.getMonth()+n)},function(t,n){return n.getMonth()-t.getMonth()+12*(n.getFullYear()-t.getFullYear())},function(t){return t.getMonth()});const Kp=Qp;var Jp=Qp.range,tg=1e3,ng=6e4,eg=36e5,rg=864e5,ig=6048e5;function og(t){return Xp(function(n){n.setDate(n.getDate()-(n.getDay()+7-t)%7),n.setHours(0,0,0,0)},function(t,n){t.setDate(t.getDate()+7*n)},function(t,n){return(n-t-(n.getTimezoneOffset()-t.getTimezoneOffset())*ng)/ig})}var ag=og(0),ug=og(1),sg=og(2),cg=og(3),fg=og(4),lg=og(5),hg=og(6),dg=ag.range,pg=ug.range,gg=sg.range,yg=cg.range,vg=fg.range,mg=lg.range,_g=hg.range,bg=Xp(function(t){t.setHours(0,0,0,0)},function(t,n){t.setDate(t.getDate()+n)},function(t,n){return(n-t-(n.getTimezoneOffset()-t.getTimezoneOffset())*ng)/rg},function(t){return t.getDate()-1});const xg=bg;var wg=bg.range,Mg=Xp(function(t){t.setTime(t-t.getMilliseconds()-t.getSeconds()*tg-t.getMinutes()*ng)},function(t,n){t.setTime(+t+n*eg)},function(t,n){return(n-t)/eg},function(t){return t.getHours()});const Ag=Mg;var Sg=Mg.range,Eg=Xp(function(t){t.setTime(t-t.getMilliseconds()-t.getSeconds()*tg)},function(t,n){t.setTime(+t+n*ng)},function(t,n){return(n-t)/ng},function(t){return t.getMinutes()});const Ng=Eg;var Tg=Eg.range,kg=Xp(function(t){t.setTime(t-t.getMilliseconds())},function(t,n){t.setTime(+t+n*tg)},function(t,n){return(n-t)/tg},function(t){return t.getUTCSeconds()});const Cg=kg;var Pg=kg.range,zg=Xp(function(){},function(t,n){t.setTime(+t+n)},function(t,n){return n-t});zg.every=function(t){return t=Math.floor(t),isFinite(t)&&t>0?t>1?Xp(function(n){n.setTime(Math.floor(n/t)*t)},function(n,e){n.setTime(+n+e*t)},function(n,e){return(e-n)/t}):zg:null};const Ig=zg;var Og=zg.range;function Dg(t){return Xp(function(n){n.setUTCDate(n.getUTCDate()-(n.getUTCDay()+7-t)%7),n.setUTCHours(0,0,0,0)},function(t,n){t.setUTCDate(t.getUTCDate()+7*n)},function(t,n){return(n-t)/ig})}var Rg=Dg(0),Bg=Dg(1),Lg=Dg(2),Ug=Dg(3),Vg=Dg(4),qg=Dg(5),Fg=Dg(6),Yg=Rg.range,Gg=Bg.range,Hg=Lg.range,jg=Ug.range,Xg=Vg.range,Wg=qg.range,$g=Fg.range,Zg=Xp(function(t){t.setUTCHours(0,0,0,0)},function(t,n){t.setUTCDate(t.getUTCDate()+n)},function(t,n){return(n-t)/rg},function(t){return t.getUTCDate()-1});const Qg=Zg;var Kg=Zg.range,Jg=Xp(function(t){t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},function(t,n){t.setUTCFullYear(t.getUTCFullYear()+n)},function(t,n){return n.getUTCFullYear()-t.getUTCFullYear()},function(t){return t.getUTCFullYear()});Jg.every=function(t){return isFinite(t=Math.floor(t))&&t>0?Xp(function(n){n.setUTCFullYear(Math.floor(n.getUTCFullYear()/t)*t),n.setUTCMonth(0,1),n.setUTCHours(0,0,0,0)},function(n,e){n.setUTCFullYear(n.getUTCFullYear()+e*t)}):null};const ty=Jg;var ny=Jg.range;function ey(t){if(0<=t.y&&t.y<100){var n=new Date(-1,t.m,t.d,t.H,t.M,t.S,t.L);return n.setFullYear(t.y),n}return new Date(t.y,t.m,t.d,t.H,t.M,t.S,t.L)}function ry(t){if(0<=t.y&&t.y<100){var n=new Date(Date.UTC(-1,t.m,t.d,t.H,t.M,t.S,t.L));return n.setUTCFullYear(t.y),n}return new Date(Date.UTC(t.y,t.m,t.d,t.H,t.M,t.S,t.L))}function iy(t,n,e){return{y:t,m:n,d:e,H:0,M:0,S:0,L:0}}function oy(t){var n=t.dateTime,e=t.date,r=t.time,i=t.periods,o=t.days,a=t.shortDays,u=t.months,s=t.shortMonths,c=vy(i),f=my(i),l=vy(o),h=my(o),d=vy(a),p=my(a),g=vy(u),y=my(u),v=vy(s),m=my(s),_={a:function(t){return a[t.getDay()]},A:function(t){return o[t.getDay()]},b:function(t){return s[t.getMonth()]},B:function(t){return u[t.getMonth()]},c:null,d:Uy,e:Uy,f:Gy,g:nv,G:rv,H:Vy,I:qy,j:Fy,L:Yy,m:Hy,M:jy,p:function(t){return i[+(t.getHours()>=12)]},q:function(t){return 1+~~(t.getMonth()/3)},Q:Ev,s:Nv,S:Xy,u:Wy,U:$y,V:Qy,w:Ky,W:Jy,x:null,X:null,y:tv,Y:ev,Z:iv,"%":Sv},b={a:function(t){return a[t.getUTCDay()]},A:function(t){return o[t.getUTCDay()]},b:function(t){return s[t.getUTCMonth()]},B:function(t){return u[t.getUTCMonth()]},c:null,d:ov,e:ov,f:fv,g:xv,G:Mv,H:av,I:uv,j:sv,L:cv,m:lv,M:hv,p:function(t){return i[+(t.getUTCHours()>=12)]},q:function(t){return 1+~~(t.getUTCMonth()/3)},Q:Ev,s:Nv,S:dv,u:pv,U:gv,V:vv,w:mv,W:_v,x:null,X:null,y:bv,Y:wv,Z:Av,"%":Sv},x={a:function(t,n,e){var r=d.exec(n.slice(e));return r?(t.w=p[r[0].toLowerCase()],e+r[0].length):-1},A:function(t,n,e){var r=l.exec(n.slice(e));return r?(t.w=h[r[0].toLowerCase()],e+r[0].length):-1},b:function(t,n,e){var r=v.exec(n.slice(e));return r?(t.m=m[r[0].toLowerCase()],e+r[0].length):-1},B:function(t,n,e){var r=g.exec(n.slice(e));return r?(t.m=y[r[0].toLowerCase()],e+r[0].length):-1},c:function(t,e,r){return A(t,n,e,r)},d:ky,e:ky,f:Dy,g:Sy,G:Ay,H:Py,I:Py,j:Cy,L:Oy,m:Ty,M:zy,p:function(t,n,e){var r=c.exec(n.slice(e));return r?(t.p=f[r[0].toLowerCase()],e+r[0].length):-1},q:Ny,Q:By,s:Ly,S:Iy,u:by,U:xy,V:wy,w:_y,W:My,x:function(t,n,r){return A(t,e,n,r)},X:function(t,n,e){return A(t,r,n,e)},y:Sy,Y:Ay,Z:Ey,"%":Ry};function w(t,n){return function(e){var r,i,o,a=[],u=-1,s=0,c=t.length;for(e instanceof Date||(e=new Date(+e));++u<c;)37===t.charCodeAt(u)&&(a.push(t.slice(s,u)),null!=(i=ly[r=t.charAt(++u)])?r=t.charAt(++u):i="e"===r?" ":"0",(o=n[r])&&(r=o(e,i)),a.push(r),s=u+1);return a.push(t.slice(s,u)),a.join("")}}function M(t,n){return function(e){var r,i,o=iy(1900,void 0,1);if(A(o,t,e+="",0)!=e.length)return null;if("Q"in o)return new Date(o.Q);if("s"in o)return new Date(1e3*o.s+("L"in o?o.L:0));if(n&&!("Z"in o)&&(o.Z=0),"p"in o&&(o.H=o.H%12+12*o.p),void 0===o.m&&(o.m="q"in o?o.q:0),"V"in o){if(o.V<1||o.V>53)return null;"w"in o||(o.w=1),"Z"in o?(i=(r=ry(iy(o.y,0,1))).getUTCDay(),r=i>4||0===i?Bg.ceil(r):Bg(r),r=Qg.offset(r,7*(o.V-1)),o.y=r.getUTCFullYear(),o.m=r.getUTCMonth(),o.d=r.getUTCDate()+(o.w+6)%7):(i=(r=ey(iy(o.y,0,1))).getDay(),r=i>4||0===i?ug.ceil(r):ug(r),r=xg.offset(r,7*(o.V-1)),o.y=r.getFullYear(),o.m=r.getMonth(),o.d=r.getDate()+(o.w+6)%7)}else("W"in o||"U"in o)&&("w"in o||(o.w="u"in o?o.u%7:"W"in o?1:0),i="Z"in o?ry(iy(o.y,0,1)).getUTCDay():ey(iy(o.y,0,1)).getDay(),o.m=0,o.d="W"in o?(o.w+6)%7+7*o.W-(i+5)%7:o.w+7*o.U-(i+6)%7);return"Z"in o?(o.H+=o.Z/100|0,o.M+=o.Z%100,ry(o)):ey(o)}}function A(t,n,e,r){for(var i,o,a=0,u=n.length,s=e.length;a<u;){if(r>=s)return-1;if(37===(i=n.charCodeAt(a++))){if(i=n.charAt(a++),!(o=x[i in ly?n.charAt(a++):i])||(r=o(t,e,r))<0)return-1}else if(i!=e.charCodeAt(r++))return-1}return r}return _.x=w(e,_),_.X=w(r,_),_.c=w(n,_),b.x=w(e,b),b.X=w(r,b),b.c=w(n,b),{format:function(t){var n=w(t+="",_);return n.toString=function(){return t},n},parse:function(t){var n=M(t+="",!1);return n.toString=function(){return t},n},utcFormat:function(t){var n=w(t+="",b);return n.toString=function(){return t},n},utcParse:function(t){var n=M(t+="",!0);return n.toString=function(){return t},n}}}var ay,uy,sy,cy,fy,ly={"-":"",_:" ",0:"0"},hy=/^\s*\d+/,dy=/^%/,py=/[\\^$*+?|[\]().{}]/g;function gy(t,n,e){var r=t<0?"-":"",i=(r?-t:t)+"",o=i.length;return r+(o<e?new Array(e-o+1).join(n)+i:i)}function yy(t){return t.replace(py,"\\$&")}function vy(t){return new RegExp("^(?:"+t.map(yy).join("|")+")","i")}function my(t){for(var n={},e=-1,r=t.length;++e<r;)n[t[e].toLowerCase()]=e;return n}function _y(t,n,e){var r=hy.exec(n.slice(e,e+1));return r?(t.w=+r[0],e+r[0].length):-1}function by(t,n,e){var r=hy.exec(n.slice(e,e+1));return r?(t.u=+r[0],e+r[0].length):-1}function xy(t,n,e){var r=hy.exec(n.slice(e,e+2));return r?(t.U=+r[0],e+r[0].length):-1}function wy(t,n,e){var r=hy.exec(n.slice(e,e+2));return r?(t.V=+r[0],e+r[0].length):-1}function My(t,n,e){var r=hy.exec(n.slice(e,e+2));return r?(t.W=+r[0],e+r[0].length):-1}function Ay(t,n,e){var r=hy.exec(n.slice(e,e+4));return r?(t.y=+r[0],e+r[0].length):-1}function Sy(t,n,e){var r=hy.exec(n.slice(e,e+2));return r?(t.y=+r[0]+(+r[0]>68?1900:2e3),e+r[0].length):-1}function Ey(t,n,e){var r=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(n.slice(e,e+6));return r?(t.Z=r[1]?0:-(r[2]+(r[3]||"00")),e+r[0].length):-1}function Ny(t,n,e){var r=hy.exec(n.slice(e,e+1));return r?(t.q=3*r[0]-3,e+r[0].length):-1}function Ty(t,n,e){var r=hy.exec(n.slice(e,e+2));return r?(t.m=r[0]-1,e+r[0].length):-1}function ky(t,n,e){var r=hy.exec(n.slice(e,e+2));return r?(t.d=+r[0],e+r[0].length):-1}function Cy(t,n,e){var r=hy.exec(n.slice(e,e+3));return r?(t.m=0,t.d=+r[0],e+r[0].length):-1}function Py(t,n,e){var r=hy.exec(n.slice(e,e+2));return r?(t.H=+r[0],e+r[0].length):-1}function zy(t,n,e){var r=hy.exec(n.slice(e,e+2));return r?(t.M=+r[0],e+r[0].length):-1}function Iy(t,n,e){var r=hy.exec(n.slice(e,e+2));return r?(t.S=+r[0],e+r[0].length):-1}function Oy(t,n,e){var r=hy.exec(n.slice(e,e+3));return r?(t.L=+r[0],e+r[0].length):-1}function Dy(t,n,e){var r=hy.exec(n.slice(e,e+6));return r?(t.L=Math.floor(r[0]/1e3),e+r[0].length):-1}function Ry(t,n,e){var r=dy.exec(n.slice(e,e+1));return r?e+r[0].length:-1}function By(t,n,e){var r=hy.exec(n.slice(e));return r?(t.Q=+r[0],e+r[0].length):-1}function Ly(t,n,e){var r=hy.exec(n.slice(e));return r?(t.s=+r[0],e+r[0].length):-1}function Uy(t,n){return gy(t.getDate(),n,2)}function Vy(t,n){return gy(t.getHours(),n,2)}function qy(t,n){return gy(t.getHours()%12||12,n,2)}function Fy(t,n){return gy(1+xg.count($p(t),t),n,3)}function Yy(t,n){return gy(t.getMilliseconds(),n,3)}function Gy(t,n){return Yy(t,n)+"000"}function Hy(t,n){return gy(t.getMonth()+1,n,2)}function jy(t,n){return gy(t.getMinutes(),n,2)}function Xy(t,n){return gy(t.getSeconds(),n,2)}function Wy(t){var n=t.getDay();return 0===n?7:n}function $y(t,n){return gy(ag.count($p(t)-1,t),n,2)}function Zy(t){var n=t.getDay();return n>=4||0===n?fg(t):fg.ceil(t)}function Qy(t,n){return t=Zy(t),gy(fg.count($p(t),t)+(4===$p(t).getDay()),n,2)}function Ky(t){return t.getDay()}function Jy(t,n){return gy(ug.count($p(t)-1,t),n,2)}function tv(t,n){return gy(t.getFullYear()%100,n,2)}function nv(t,n){return gy((t=Zy(t)).getFullYear()%100,n,2)}function ev(t,n){return gy(t.getFullYear()%1e4,n,4)}function rv(t,n){var e=t.getDay();return gy((t=e>=4||0===e?fg(t):fg.ceil(t)).getFullYear()%1e4,n,4)}function iv(t){var n=t.getTimezoneOffset();return(n>0?"-":(n*=-1,"+"))+gy(n/60|0,"0",2)+gy(n%60,"0",2)}function ov(t,n){return gy(t.getUTCDate(),n,2)}function av(t,n){return gy(t.getUTCHours(),n,2)}function uv(t,n){return gy(t.getUTCHours()%12||12,n,2)}function sv(t,n){return gy(1+Qg.count(ty(t),t),n,3)}function cv(t,n){return gy(t.getUTCMilliseconds(),n,3)}function fv(t,n){return cv(t,n)+"000"}function lv(t,n){return gy(t.getUTCMonth()+1,n,2)}function hv(t,n){return gy(t.getUTCMinutes(),n,2)}function dv(t,n){return gy(t.getUTCSeconds(),n,2)}function pv(t){var n=t.getUTCDay();return 0===n?7:n}function gv(t,n){return gy(Rg.count(ty(t)-1,t),n,2)}function yv(t){var n=t.getUTCDay();return n>=4||0===n?Vg(t):Vg.ceil(t)}function vv(t,n){return t=yv(t),gy(Vg.count(ty(t),t)+(4===ty(t).getUTCDay()),n,2)}function mv(t){return t.getUTCDay()}function _v(t,n){return gy(Bg.count(ty(t)-1,t),n,2)}function bv(t,n){return gy(t.getUTCFullYear()%100,n,2)}function xv(t,n){return gy((t=yv(t)).getUTCFullYear()%100,n,2)}function wv(t,n){return gy(t.getUTCFullYear()%1e4,n,4)}function Mv(t,n){var e=t.getUTCDay();return gy((t=e>=4||0===e?Vg(t):Vg.ceil(t)).getUTCFullYear()%1e4,n,4)}function Av(){return"+0000"}function Sv(){return"%"}function Ev(t){return+t}function Nv(t){return Math.floor(+t/1e3)}function Tv(t){return ay=oy(t),uy=ay.format,sy=ay.parse,cy=ay.utcFormat,fy=ay.utcParse,ay}Tv({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});var kv=1e3,Cv=60*kv,Pv=60*Cv,zv=24*Pv,Iv=7*zv,Ov=30*zv,Dv=365*zv;function Rv(t){return new Date(t)}function Bv(t){return t instanceof Date?+t:+new Date(+t)}function Lv(t,n,e,r,o,a,u,s,c){var f=mp(lp,lp),l=f.invert,h=f.domain,d=c(".%L"),p=c(":%S"),g=c("%I:%M"),y=c("%I %p"),v=c("%a %d"),m=c("%b %d"),_=c("%B"),b=c("%Y"),x=[[u,1,kv],[u,5,5*kv],[u,15,15*kv],[u,30,30*kv],[a,1,Cv],[a,5,5*Cv],[a,15,15*Cv],[a,30,30*Cv],[o,1,Pv],[o,3,3*Pv],[o,6,6*Pv],[o,12,12*Pv],[r,1,zv],[r,2,2*zv],[e,1,Iv],[n,1,Ov],[n,3,3*Ov],[t,1,Dv]];function w(i){return(u(i)<i?d:a(i)<i?p:o(i)<i?g:r(i)<i?y:n(i)<i?e(i)<i?v:m:t(i)<i?_:b)(i)}function M(n,e,r,o){if(null==n&&(n=10),"number"==typeof n){var a=Math.abs(r-e)/n,u=i(function(t){return t[2]}).right(x,a);u===x.length?(o=T(e/Dv,r/Dv,n),n=t):u?(o=(u=x[a/x[u-1][2]<x[u][2]/a?u-1:u])[1],n=u[0]):(o=Math.max(T(e,r,n),1),n=s)}return null==o?n:n.every(o)}return f.invert=function(t){return new Date(l(t))},f.domain=function(t){return arguments.length?h(ep.call(t,Bv)):h().map(Rv)},f.ticks=function(t,n){var e,r=h(),i=r[0],o=r[r.length-1],a=o<i;return a&&(e=i,i=o,o=e),e=(e=M(t,i,o,n))?e.range(i,o+1):[],a?e.reverse():e},f.tickFormat=function(t,n){return null==n?w:c(n)},f.nice=function(t,n){var e=h();return(t=M(t,e[0],e[e.length-1],n))?h(Mp(e,t)):f},f.copy=function(){return yp(f,Lv(t,n,e,r,o,a,u,s,c))},f}function Uv(){return Jd.apply(Lv($p,Kp,ag,xg,Ag,Ng,Cg,Ig,uy).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}var Vv=Xp(function(t){t.setUTCDate(1),t.setUTCHours(0,0,0,0)},function(t,n){t.setUTCMonth(t.getUTCMonth()+n)},function(t,n){return n.getUTCMonth()-t.getUTCMonth()+12*(n.getUTCFullYear()-t.getUTCFullYear())},function(t){return t.getUTCMonth()});const qv=Vv;var Fv=Vv.range,Yv=Xp(function(t){t.setUTCMinutes(0,0,0)},function(t,n){t.setTime(+t+n*eg)},function(t,n){return(n-t)/eg},function(t){return t.getUTCHours()});const Gv=Yv;var Hv=Yv.range,jv=Xp(function(t){t.setUTCSeconds(0,0)},function(t,n){t.setTime(+t+n*ng)},function(t,n){return(n-t)/ng},function(t){return t.getUTCMinutes()});const Xv=jv;var Wv=jv.range;function $v(){return Jd.apply(Lv(ty,qv,Rg,Qg,Gv,Xv,Cg,Ig,cy).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function Zv(){var t,n,e,r,i,o=0,a=1,u=lp,s=!1;function c(n){return isNaN(n=+n)?i:u(0===e?.5:(n=(r(n)-t)*e,s?Math.max(0,Math.min(1,n)):n))}return c.domain=function(i){return arguments.length?(t=r(o=+i[0]),n=r(a=+i[1]),e=t===n?0:1/(n-t),c):[o,a]},c.clamp=function(t){return arguments.length?(s=!!t,c):s},c.interpolator=function(t){return arguments.length?(u=t,c):u},c.unknown=function(t){return arguments.length?(i=t,c):i},function(i){return r=i,t=i(o),n=i(a),e=t===n?0:1/(n-t),c}}function Qv(t,n){return n.domain(t.domain()).interpolator(t.interpolator()).clamp(t.clamp()).unknown(t.unknown())}function Kv(){var t=bp(Zv()(lp));return t.copy=function(){return Qv(t,Kv())},tp.apply(t,arguments)}function Jv(){var t=Cp(Zv()).domain([1,10]);return t.copy=function(){return Qv(t,Jv()).base(t.base())},tp.apply(t,arguments)}function tm(){var t=Op(Zv());return t.copy=function(){return Qv(t,tm()).constant(t.constant())},tp.apply(t,arguments)}function nm(){var t=Up(Zv());return t.copy=function(){return Qv(t,nm()).exponent(t.exponent())},tp.apply(t,arguments)}function em(){return nm.apply(null,arguments).exponent(.5)}function rm(){var t=[],n=lp;function e(e){if(!isNaN(e=+e))return n((s(t,e)-1)/(t.length-1))}return e.domain=function(n){if(!arguments.length)return t.slice();t=[];for(var i,o=0,a=n.length;o<a;++o)null==(i=n[o])||isNaN(i=+i)||t.push(i);return t.sort(r),e},e.interpolator=function(t){return arguments.length?(n=t,e):n},e.copy=function(){return rm(n).domain(t)},tp.apply(e,arguments)}function im(){var t,n,e,r,i,o,a,u=0,s=.5,c=1,f=lp,l=!1;function h(t){return isNaN(t=+t)?a:(t=.5+((t=+o(t))-n)*(t<n?r:i),f(l?Math.max(0,Math.min(1,t)):t))}return h.domain=function(a){return arguments.length?(t=o(u=+a[0]),n=o(s=+a[1]),e=o(c=+a[2]),r=t===n?0:.5/(n-t),i=n===e?0:.5/(e-n),h):[u,s,c]},h.clamp=function(t){return arguments.length?(l=!!t,h):l},h.interpolator=function(t){return arguments.length?(f=t,h):f},h.unknown=function(t){return arguments.length?(a=t,h):a},function(a){return o=a,t=a(u),n=a(s),e=a(c),r=t===n?0:.5/(n-t),i=n===e?0:.5/(e-n),h}}function om(){var t=bp(im()(lp));return t.copy=function(){return Qv(t,om())},tp.apply(t,arguments)}function am(){var t=Cp(im()).domain([.1,1,10]);return t.copy=function(){return Qv(t,am()).base(t.base())},tp.apply(t,arguments)}function um(){var t=Op(im());return t.copy=function(){return Qv(t,um()).constant(t.constant())},tp.apply(t,arguments)}function sm(){var t=Up(im());return t.copy=function(){return Qv(t,sm()).exponent(t.exponent())},tp.apply(t,arguments)}function cm(){return sm.apply(null,arguments).exponent(.5)}function fm(t){for(var n=t.length/6|0,e=new Array(n),r=0;r<n;)e[r]="#"+t.slice(6*r,6*++r);return e}const lm=fm("1f77b4ff7f0e2ca02cd627289467bd8c564be377c27f7f7fbcbd2217becf"),hm=fm("7fc97fbeaed4fdc086ffff99386cb0f0027fbf5b17666666"),dm=fm("1b9e77d95f027570b3e7298a66a61ee6ab02a6761d666666"),pm=fm("a6cee31f78b4b2df8a33a02cfb9a99e31a1cfdbf6fff7f00cab2d66a3d9affff99b15928"),gm=fm("fbb4aeb3cde3ccebc5decbe4fed9a6ffffcce5d8bdfddaecf2f2f2"),ym=fm("b3e2cdfdcdaccbd5e8f4cae4e6f5c9fff2aef1e2cccccccc"),vm=fm("e41a1c377eb84daf4a984ea3ff7f00ffff33a65628f781bf999999"),mm=fm("66c2a5fc8d628da0cbe78ac3a6d854ffd92fe5c494b3b3b3"),_m=fm("8dd3c7ffffb3bebadafb807280b1d3fdb462b3de69fccde5d9d9d9bc80bdccebc5ffed6f"),bm=fm("4e79a7f28e2ce1575976b7b259a14fedc949af7aa1ff9da79c755fbab0ab");function xm(t){return Kt(t[t.length-1])}var wm=new Array(3).concat("d8b365f5f5f55ab4ac","a6611adfc27d80cdc1018571","a6611adfc27df5f5f580cdc1018571","8c510ad8b365f6e8c3c7eae55ab4ac01665e","8c510ad8b365f6e8c3f5f5f5c7eae55ab4ac01665e","8c510abf812ddfc27df6e8c3c7eae580cdc135978f01665e","8c510abf812ddfc27df6e8c3f5f5f5c7eae580cdc135978f01665e","5430058c510abf812ddfc27df6e8c3c7eae580cdc135978f01665e003c30","5430058c510abf812ddfc27df6e8c3f5f5f5c7eae580cdc135978f01665e003c30").map(fm);const Mm=xm(wm);var Am=new Array(3).concat("af8dc3f7f7f77fbf7b","7b3294c2a5cfa6dba0008837","7b3294c2a5cff7f7f7a6dba0008837","762a83af8dc3e7d4e8d9f0d37fbf7b1b7837","762a83af8dc3e7d4e8f7f7f7d9f0d37fbf7b1b7837","762a839970abc2a5cfe7d4e8d9f0d3a6dba05aae611b7837","762a839970abc2a5cfe7d4e8f7f7f7d9f0d3a6dba05aae611b7837","40004b762a839970abc2a5cfe7d4e8d9f0d3a6dba05aae611b783700441b","40004b762a839970abc2a5cfe7d4e8f7f7f7d9f0d3a6dba05aae611b783700441b").map(fm);const Sm=xm(Am);var Em=new Array(3).concat("e9a3c9f7f7f7a1d76a","d01c8bf1b6dab8e1864dac26","d01c8bf1b6daf7f7f7b8e1864dac26","c51b7de9a3c9fde0efe6f5d0a1d76a4d9221","c51b7de9a3c9fde0eff7f7f7e6f5d0a1d76a4d9221","c51b7dde77aef1b6dafde0efe6f5d0b8e1867fbc414d9221","c51b7dde77aef1b6dafde0eff7f7f7e6f5d0b8e1867fbc414d9221","8e0152c51b7dde77aef1b6dafde0efe6f5d0b8e1867fbc414d9221276419","8e0152c51b7dde77aef1b6dafde0eff7f7f7e6f5d0b8e1867fbc414d9221276419").map(fm);const Nm=xm(Em);var Tm=new Array(3).concat("998ec3f7f7f7f1a340","5e3c99b2abd2fdb863e66101","5e3c99b2abd2f7f7f7fdb863e66101","542788998ec3d8daebfee0b6f1a340b35806","542788998ec3d8daebf7f7f7fee0b6f1a340b35806","5427888073acb2abd2d8daebfee0b6fdb863e08214b35806","5427888073acb2abd2d8daebf7f7f7fee0b6fdb863e08214b35806","2d004b5427888073acb2abd2d8daebfee0b6fdb863e08214b358067f3b08","2d004b5427888073acb2abd2d8daebf7f7f7fee0b6fdb863e08214b358067f3b08").map(fm);const km=xm(Tm);var Cm=new Array(3).concat("ef8a62f7f7f767a9cf","ca0020f4a58292c5de0571b0","ca0020f4a582f7f7f792c5de0571b0","b2182bef8a62fddbc7d1e5f067a9cf2166ac","b2182bef8a62fddbc7f7f7f7d1e5f067a9cf2166ac","b2182bd6604df4a582fddbc7d1e5f092c5de4393c32166ac","b2182bd6604df4a582fddbc7f7f7f7d1e5f092c5de4393c32166ac","67001fb2182bd6604df4a582fddbc7d1e5f092c5de4393c32166ac053061","67001fb2182bd6604df4a582fddbc7f7f7f7d1e5f092c5de4393c32166ac053061").map(fm);const Pm=xm(Cm);var zm=new Array(3).concat("ef8a62ffffff999999","ca0020f4a582bababa404040","ca0020f4a582ffffffbababa404040","b2182bef8a62fddbc7e0e0e09999994d4d4d","b2182bef8a62fddbc7ffffffe0e0e09999994d4d4d","b2182bd6604df4a582fddbc7e0e0e0bababa8787874d4d4d","b2182bd6604df4a582fddbc7ffffffe0e0e0bababa8787874d4d4d","67001fb2182bd6604df4a582fddbc7e0e0e0bababa8787874d4d4d1a1a1a","67001fb2182bd6604df4a582fddbc7ffffffe0e0e0bababa8787874d4d4d1a1a1a").map(fm);const Im=xm(zm);var Om=new Array(3).concat("fc8d59ffffbf91bfdb","d7191cfdae61abd9e92c7bb6","d7191cfdae61ffffbfabd9e92c7bb6","d73027fc8d59fee090e0f3f891bfdb4575b4","d73027fc8d59fee090ffffbfe0f3f891bfdb4575b4","d73027f46d43fdae61fee090e0f3f8abd9e974add14575b4","d73027f46d43fdae61fee090ffffbfe0f3f8abd9e974add14575b4","a50026d73027f46d43fdae61fee090e0f3f8abd9e974add14575b4313695","a50026d73027f46d43fdae61fee090ffffbfe0f3f8abd9e974add14575b4313695").map(fm);const Dm=xm(Om);var Rm=new Array(3).concat("fc8d59ffffbf91cf60","d7191cfdae61a6d96a1a9641","d7191cfdae61ffffbfa6d96a1a9641","d73027fc8d59fee08bd9ef8b91cf601a9850","d73027fc8d59fee08bffffbfd9ef8b91cf601a9850","d73027f46d43fdae61fee08bd9ef8ba6d96a66bd631a9850","d73027f46d43fdae61fee08bffffbfd9ef8ba6d96a66bd631a9850","a50026d73027f46d43fdae61fee08bd9ef8ba6d96a66bd631a9850006837","a50026d73027f46d43fdae61fee08bffffbfd9ef8ba6d96a66bd631a9850006837").map(fm);const Bm=xm(Rm);var Lm=new Array(3).concat("fc8d59ffffbf99d594","d7191cfdae61abdda42b83ba","d7191cfdae61ffffbfabdda42b83ba","d53e4ffc8d59fee08be6f59899d5943288bd","d53e4ffc8d59fee08bffffbfe6f59899d5943288bd","d53e4ff46d43fdae61fee08be6f598abdda466c2a53288bd","d53e4ff46d43fdae61fee08bffffbfe6f598abdda466c2a53288bd","9e0142d53e4ff46d43fdae61fee08be6f598abdda466c2a53288bd5e4fa2","9e0142d53e4ff46d43fdae61fee08bffffbfe6f598abdda466c2a53288bd5e4fa2").map(fm);const Um=xm(Lm);var Vm=new Array(3).concat("e5f5f999d8c92ca25f","edf8fbb2e2e266c2a4238b45","edf8fbb2e2e266c2a42ca25f006d2c","edf8fbccece699d8c966c2a42ca25f006d2c","edf8fbccece699d8c966c2a441ae76238b45005824","f7fcfde5f5f9ccece699d8c966c2a441ae76238b45005824","f7fcfde5f5f9ccece699d8c966c2a441ae76238b45006d2c00441b").map(fm);const qm=xm(Vm);var Fm=new Array(3).concat("e0ecf49ebcda8856a7","edf8fbb3cde38c96c688419d","edf8fbb3cde38c96c68856a7810f7c","edf8fbbfd3e69ebcda8c96c68856a7810f7c","edf8fbbfd3e69ebcda8c96c68c6bb188419d6e016b","f7fcfde0ecf4bfd3e69ebcda8c96c68c6bb188419d6e016b","f7fcfde0ecf4bfd3e69ebcda8c96c68c6bb188419d810f7c4d004b").map(fm);const Ym=xm(Fm);var Gm=new Array(3).concat("e0f3dba8ddb543a2ca","f0f9e8bae4bc7bccc42b8cbe","f0f9e8bae4bc7bccc443a2ca0868ac","f0f9e8ccebc5a8ddb57bccc443a2ca0868ac","f0f9e8ccebc5a8ddb57bccc44eb3d32b8cbe08589e","f7fcf0e0f3dbccebc5a8ddb57bccc44eb3d32b8cbe08589e","f7fcf0e0f3dbccebc5a8ddb57bccc44eb3d32b8cbe0868ac084081").map(fm);const Hm=xm(Gm);var jm=new Array(3).concat("fee8c8fdbb84e34a33","fef0d9fdcc8afc8d59d7301f","fef0d9fdcc8afc8d59e34a33b30000","fef0d9fdd49efdbb84fc8d59e34a33b30000","fef0d9fdd49efdbb84fc8d59ef6548d7301f990000","fff7ecfee8c8fdd49efdbb84fc8d59ef6548d7301f990000","fff7ecfee8c8fdd49efdbb84fc8d59ef6548d7301fb300007f0000").map(fm);const Xm=xm(jm);var Wm=new Array(3).concat("ece2f0a6bddb1c9099","f6eff7bdc9e167a9cf02818a","f6eff7bdc9e167a9cf1c9099016c59","f6eff7d0d1e6a6bddb67a9cf1c9099016c59","f6eff7d0d1e6a6bddb67a9cf3690c002818a016450","fff7fbece2f0d0d1e6a6bddb67a9cf3690c002818a016450","fff7fbece2f0d0d1e6a6bddb67a9cf3690c002818a016c59014636").map(fm);const $m=xm(Wm);var Zm=new Array(3).concat("ece7f2a6bddb2b8cbe","f1eef6bdc9e174a9cf0570b0","f1eef6bdc9e174a9cf2b8cbe045a8d","f1eef6d0d1e6a6bddb74a9cf2b8cbe045a8d","f1eef6d0d1e6a6bddb74a9cf3690c00570b0034e7b","fff7fbece7f2d0d1e6a6bddb74a9cf3690c00570b0034e7b","fff7fbece7f2d0d1e6a6bddb74a9cf3690c00570b0045a8d023858").map(fm);const Qm=xm(Zm);var Km=new Array(3).concat("e7e1efc994c7dd1c77","f1eef6d7b5d8df65b0ce1256","f1eef6d7b5d8df65b0dd1c77980043","f1eef6d4b9dac994c7df65b0dd1c77980043","f1eef6d4b9dac994c7df65b0e7298ace125691003f","f7f4f9e7e1efd4b9dac994c7df65b0e7298ace125691003f","f7f4f9e7e1efd4b9dac994c7df65b0e7298ace125698004367001f").map(fm);const Jm=xm(Km);var t_=new Array(3).concat("fde0ddfa9fb5c51b8a","feebe2fbb4b9f768a1ae017e","feebe2fbb4b9f768a1c51b8a7a0177","feebe2fcc5c0fa9fb5f768a1c51b8a7a0177","feebe2fcc5c0fa9fb5f768a1dd3497ae017e7a0177","fff7f3fde0ddfcc5c0fa9fb5f768a1dd3497ae017e7a0177","fff7f3fde0ddfcc5c0fa9fb5f768a1dd3497ae017e7a017749006a").map(fm);const n_=xm(t_);var e_=new Array(3).concat("edf8b17fcdbb2c7fb8","ffffcca1dab441b6c4225ea8","ffffcca1dab441b6c42c7fb8253494","ffffccc7e9b47fcdbb41b6c42c7fb8253494","ffffccc7e9b47fcdbb41b6c41d91c0225ea80c2c84","ffffd9edf8b1c7e9b47fcdbb41b6c41d91c0225ea80c2c84","ffffd9edf8b1c7e9b47fcdbb41b6c41d91c0225ea8253494081d58").map(fm);const r_=xm(e_);var i_=new Array(3).concat("f7fcb9addd8e31a354","ffffccc2e69978c679238443","ffffccc2e69978c67931a354006837","ffffccd9f0a3addd8e78c67931a354006837","ffffccd9f0a3addd8e78c67941ab5d238443005a32","ffffe5f7fcb9d9f0a3addd8e78c67941ab5d238443005a32","ffffe5f7fcb9d9f0a3addd8e78c67941ab5d238443006837004529").map(fm);const o_=xm(i_);var a_=new Array(3).concat("fff7bcfec44fd95f0e","ffffd4fed98efe9929cc4c02","ffffd4fed98efe9929d95f0e993404","ffffd4fee391fec44ffe9929d95f0e993404","ffffd4fee391fec44ffe9929ec7014cc4c028c2d04","ffffe5fff7bcfee391fec44ffe9929ec7014cc4c028c2d04","ffffe5fff7bcfee391fec44ffe9929ec7014cc4c02993404662506").map(fm);const u_=xm(a_);var s_=new Array(3).concat("ffeda0feb24cf03b20","ffffb2fecc5cfd8d3ce31a1c","ffffb2fecc5cfd8d3cf03b20bd0026","ffffb2fed976feb24cfd8d3cf03b20bd0026","ffffb2fed976feb24cfd8d3cfc4e2ae31a1cb10026","ffffccffeda0fed976feb24cfd8d3cfc4e2ae31a1cb10026","ffffccffeda0fed976feb24cfd8d3cfc4e2ae31a1cbd0026800026").map(fm);const c_=xm(s_);var f_=new Array(3).concat("deebf79ecae13182bd","eff3ffbdd7e76baed62171b5","eff3ffbdd7e76baed63182bd08519c","eff3ffc6dbef9ecae16baed63182bd08519c","eff3ffc6dbef9ecae16baed64292c62171b5084594","f7fbffdeebf7c6dbef9ecae16baed64292c62171b5084594","f7fbffdeebf7c6dbef9ecae16baed64292c62171b508519c08306b").map(fm);const l_=xm(f_);var h_=new Array(3).concat("e5f5e0a1d99b31a354","edf8e9bae4b374c476238b45","edf8e9bae4b374c47631a354006d2c","edf8e9c7e9c0a1d99b74c47631a354006d2c","edf8e9c7e9c0a1d99b74c47641ab5d238b45005a32","f7fcf5e5f5e0c7e9c0a1d99b74c47641ab5d238b45005a32","f7fcf5e5f5e0c7e9c0a1d99b74c47641ab5d238b45006d2c00441b").map(fm);const d_=xm(h_);var p_=new Array(3).concat("f0f0f0bdbdbd636363","f7f7f7cccccc969696525252","f7f7f7cccccc969696636363252525","f7f7f7d9d9d9bdbdbd969696636363252525","f7f7f7d9d9d9bdbdbd969696737373525252252525","fffffff0f0f0d9d9d9bdbdbd969696737373525252252525","fffffff0f0f0d9d9d9bdbdbd969696737373525252252525000000").map(fm);const g_=xm(p_);var y_=new Array(3).concat("efedf5bcbddc756bb1","f2f0f7cbc9e29e9ac86a51a3","f2f0f7cbc9e29e9ac8756bb154278f","f2f0f7dadaebbcbddc9e9ac8756bb154278f","f2f0f7dadaebbcbddc9e9ac8807dba6a51a34a1486","fcfbfdefedf5dadaebbcbddc9e9ac8807dba6a51a34a1486","fcfbfdefedf5dadaebbcbddc9e9ac8807dba6a51a354278f3f007d").map(fm);const v_=xm(y_);var m_=new Array(3).concat("fee0d2fc9272de2d26","fee5d9fcae91fb6a4acb181d","fee5d9fcae91fb6a4ade2d26a50f15","fee5d9fcbba1fc9272fb6a4ade2d26a50f15","fee5d9fcbba1fc9272fb6a4aef3b2ccb181d99000d","fff5f0fee0d2fcbba1fc9272fb6a4aef3b2ccb181d99000d","fff5f0fee0d2fcbba1fc9272fb6a4aef3b2ccb181da50f1567000d").map(fm);const __=xm(m_);var b_=new Array(3).concat("fee6cefdae6be6550d","feeddefdbe85fd8d3cd94701","feeddefdbe85fd8d3ce6550da63603","feeddefdd0a2fdae6bfd8d3ce6550da63603","feeddefdd0a2fdae6bfd8d3cf16913d948018c2d04","fff5ebfee6cefdd0a2fdae6bfd8d3cf16913d948018c2d04","fff5ebfee6cefdd0a2fdae6bfd8d3cf16913d94801a636037f2704").map(fm);const x_=xm(b_);function w_(t){return t=Math.max(0,Math.min(1,t)),"rgb("+Math.max(0,Math.min(255,Math.round(-4.54-t*(35.34-t*(2381.73-t*(6402.7-t*(7024.72-2710.57*t)))))))+", "+Math.max(0,Math.min(255,Math.round(32.49+t*(170.73+t*(52.82-t*(131.46-t*(176.58-67.37*t)))))))+", "+Math.max(0,Math.min(255,Math.round(81.24+t*(442.36-t*(2482.43-t*(6167.24-t*(6614.94-2475.67*t)))))))+")"}const M_=Dd(Ei(300,.5,0),Ei(-240,.5,1));var A_=Dd(Ei(-100,.75,.35),Ei(80,1.5,.8)),S_=Dd(Ei(260,.75,.35),Ei(80,1.5,.8)),E_=Ei();function N_(t){(t<0||t>1)&&(t-=Math.floor(t));var n=Math.abs(t-.5);return E_.h=360*t-100,E_.s=1.5-1.5*n,E_.l=.8-.9*n,E_+""}var T_=It(),k_=Math.PI/3,C_=2*Math.PI/3;function P_(t){var n;return t=(.5-t)*Math.PI,T_.r=255*(n=Math.sin(t))*n,T_.g=255*(n=Math.sin(t+k_))*n,T_.b=255*(n=Math.sin(t+C_))*n,T_+""}function z_(t){return t=Math.max(0,Math.min(1,t)),"rgb("+Math.max(0,Math.min(255,Math.round(34.61+t*(1172.33-t*(10793.56-t*(33300.12-t*(38394.49-14825.05*t)))))))+", "+Math.max(0,Math.min(255,Math.round(23.31+t*(557.33+t*(1225.33-t*(3574.96-t*(1073.77+707.56*t)))))))+", "+Math.max(0,Math.min(255,Math.round(27.2+t*(3211.1-t*(15327.97-t*(27814-t*(22569.18-6838.66*t)))))))+")"}function I_(t){var n=t.length;return function(e){return t[Math.max(0,Math.min(n-1,Math.floor(e*n)))]}}const O_=I_(fm("44015444025645045745055946075a46085c460a5d460b5e470d60470e6147106347116447136548146748166848176948186a481a6c481b6d481c6e481d6f481f70482071482173482374482475482576482677482878482979472a7a472c7a472d7b472e7c472f7d46307e46327e46337f463480453581453781453882443983443a83443b84433d84433e85423f854240864241864142874144874045884046883f47883f48893e49893e4a893e4c8a3d4d8a3d4e8a3c4f8a3c508b3b518b3b528b3a538b3a548c39558c39568c38588c38598c375a8c375b8d365c8d365d8d355e8d355f8d34608d34618d33628d33638d32648e32658e31668e31678e31688e30698e306a8e2f6b8e2f6c8e2e6d8e2e6e8e2e6f8e2d708e2d718e2c718e2c728e2c738e2b748e2b758e2a768e2a778e2a788e29798e297a8e297b8e287c8e287d8e277e8e277f8e27808e26818e26828e26828e25838e25848e25858e24868e24878e23888e23898e238a8d228b8d228c8d228d8d218e8d218f8d21908d21918c20928c20928c20938c1f948c1f958b1f968b1f978b1f988b1f998a1f9a8a1e9b8a1e9c891e9d891f9e891f9f881fa0881fa1881fa1871fa28720a38620a48621a58521a68522a78522a88423a98324aa8325ab8225ac8226ad8127ad8128ae8029af7f2ab07f2cb17e2db27d2eb37c2fb47c31b57b32b67a34b67935b77937b87838b9773aba763bbb753dbc743fbc7340bd7242be7144bf7046c06f48c16e4ac16d4cc26c4ec36b50c46a52c56954c56856c66758c7655ac8645cc8635ec96260ca6063cb5f65cb5e67cc5c69cd5b6ccd5a6ece5870cf5773d05675d05477d1537ad1517cd2507fd34e81d34d84d44b86d54989d5488bd6468ed64590d74393d74195d84098d83e9bd93c9dd93ba0da39a2da37a5db36a8db34aadc32addc30b0dd2fb2dd2db5de2bb8de29bade28bddf26c0df25c2df23c5e021c8e020cae11fcde11dd0e11cd2e21bd5e21ad8e219dae319dde318dfe318e2e418e5e419e7e419eae51aece51befe51cf1e51df4e61ef6e620f8e621fbe723fde725"));var D_=I_(fm("00000401000501010601010802010902020b02020d03030f03031204041405041606051806051a07061c08071e0907200a08220b09240c09260d0a290e0b2b100b2d110c2f120d31130d34140e36150e38160f3b180f3d19103f1a10421c10441d11471e114920114b21114e22115024125325125527125829115a2a115c2c115f2d11612f116331116533106734106936106b38106c390f6e3b0f703d0f713f0f72400f74420f75440f764510774710784910784a10794c117a4e117b4f127b51127c52137c54137d56147d57157e59157e5a167e5c167f5d177f5f187f601880621980641a80651a80671b80681c816a1c816b1d816d1d816e1e81701f81721f817320817521817621817822817922827b23827c23827e24828025828125818326818426818627818827818928818b29818c29818e2a81902a81912b81932b80942c80962c80982d80992d809b2e7f9c2e7f9e2f7fa02f7fa1307ea3307ea5317ea6317da8327daa337dab337cad347cae347bb0357bb2357bb3367ab5367ab73779b83779ba3878bc3978bd3977bf3a77c03a76c23b75c43c75c53c74c73d73c83e73ca3e72cc3f71cd4071cf4070d0416fd2426fd3436ed5446dd6456cd8456cd9466bdb476adc4869de4968df4a68e04c67e24d66e34e65e44f64e55064e75263e85362e95462ea5661eb5760ec5860ed5a5fee5b5eef5d5ef05f5ef1605df2625df2645cf3655cf4675cf4695cf56b5cf66c5cf66e5cf7705cf7725cf8745cf8765cf9785df9795df97b5dfa7d5efa7f5efa815ffb835ffb8560fb8761fc8961fc8a62fc8c63fc8e64fc9065fd9266fd9467fd9668fd9869fd9a6afd9b6bfe9d6cfe9f6dfea16efea36ffea571fea772fea973feaa74feac76feae77feb078feb27afeb47bfeb67cfeb77efeb97ffebb81febd82febf84fec185fec287fec488fec68afec88cfeca8dfecc8ffecd90fecf92fed194fed395fed597fed799fed89afdda9cfddc9efddea0fde0a1fde2a3fde3a5fde5a7fde7a9fde9aafdebacfcecaefceeb0fcf0b2fcf2b4fcf4b6fcf6b8fcf7b9fcf9bbfcfbbdfcfdbf")),R_=I_(fm("00000401000501010601010802010a02020c02020e03021004031204031405041706041907051b08051d09061f0a07220b07240c08260d08290e092b10092d110a30120a32140b34150b37160b39180c3c190c3e1b0c411c0c431e0c451f0c48210c4a230c4c240c4f260c51280b53290b552b0b572d0b592f0a5b310a5c320a5e340a5f3609613809623909633b09643d09653e0966400a67420a68440a68450a69470b6a490b6a4a0c6b4c0c6b4d0d6c4f0d6c510e6c520e6d540f6d550f6d57106e59106e5a116e5c126e5d126e5f136e61136e62146e64156e65156e67166e69166e6a176e6c186e6d186e6f196e71196e721a6e741a6e751b6e771c6d781c6d7a1d6d7c1d6d7d1e6d7f1e6c801f6c82206c84206b85216b87216b88226a8a226a8c23698d23698f24699025689225689326679526679727669827669a28659b29649d29649f2a63a02a63a22b62a32c61a52c60a62d60a82e5fa92e5eab2f5ead305dae305cb0315bb1325ab3325ab43359b63458b73557b93556ba3655bc3754bd3853bf3952c03a51c13a50c33b4fc43c4ec63d4dc73e4cc83f4bca404acb4149cc4248ce4347cf4446d04545d24644d34743d44842d54a41d74b3fd84c3ed94d3dda4e3cdb503bdd513ade5238df5337e05536e15635e25734e35933e45a31e55c30e65d2fe75e2ee8602de9612bea632aeb6429eb6628ec6726ed6925ee6a24ef6c23ef6e21f06f20f1711ff1731df2741cf3761bf37819f47918f57b17f57d15f67e14f68013f78212f78410f8850ff8870ef8890cf98b0bf98c0af98e09fa9008fa9207fa9407fb9606fb9706fb9906fb9b06fb9d07fc9f07fca108fca309fca50afca60cfca80dfcaa0ffcac11fcae12fcb014fcb216fcb418fbb61afbb81dfbba1ffbbc21fbbe23fac026fac228fac42afac62df9c72ff9c932f9cb35f8cd37f8cf3af7d13df7d340f6d543f6d746f5d949f5db4cf4dd4ff4df53f4e156f3e35af3e55df2e661f2e865f2ea69f1ec6df1ed71f1ef75f1f179f2f27df2f482f3f586f3f68af4f88ef5f992f6fa96f8fb9af9fc9dfafda1fcffa4")),B_=I_(fm("0d088710078813078916078a19068c1b068d1d068e20068f2206902406912605912805922a05932c05942e05952f059631059733059735049837049938049a3a049a3c049b3e049c3f049c41049d43039e44039e46039f48039f4903a04b03a14c02a14e02a25002a25102a35302a35502a45601a45801a45901a55b01a55c01a65e01a66001a66100a76300a76400a76600a76700a86900a86a00a86c00a86e00a86f00a87100a87201a87401a87501a87701a87801a87a02a87b02a87d03a87e03a88004a88104a78305a78405a78606a68707a68808a68a09a58b0aa58d0ba58e0ca48f0da4910ea3920fa39410a29511a19613a19814a099159f9a169f9c179e9d189d9e199da01a9ca11b9ba21d9aa31e9aa51f99a62098a72197a82296aa2395ab2494ac2694ad2793ae2892b02991b12a90b22b8fb32c8eb42e8db52f8cb6308bb7318ab83289ba3388bb3488bc3587bd3786be3885bf3984c03a83c13b82c23c81c33d80c43e7fc5407ec6417dc7427cc8437bc9447aca457acb4679cc4778cc4977cd4a76ce4b75cf4c74d04d73d14e72d24f71d35171d45270d5536fd5546ed6556dd7566cd8576bd9586ada5a6ada5b69db5c68dc5d67dd5e66de5f65de6164df6263e06363e16462e26561e26660e3685fe4695ee56a5de56b5de66c5ce76e5be76f5ae87059e97158e97257ea7457eb7556eb7655ec7754ed7953ed7a52ee7b51ef7c51ef7e50f07f4ff0804ef1814df1834cf2844bf3854bf3874af48849f48948f58b47f58c46f68d45f68f44f79044f79143f79342f89441f89540f9973ff9983ef99a3efa9b3dfa9c3cfa9e3bfb9f3afba139fba238fca338fca537fca636fca835fca934fdab33fdac33fdae32fdaf31fdb130fdb22ffdb42ffdb52efeb72dfeb82cfeba2cfebb2bfebd2afebe2afec029fdc229fdc328fdc527fdc627fdc827fdca26fdcb26fccd25fcce25fcd025fcd225fbd324fbd524fbd724fad824fada24f9dc24f9dd25f8df25f8e125f7e225f7e425f6e626f6e826f5e926f5eb27f4ed27f3ee27f3f027f2f227f1f426f1f525f0f724f0f921")),L_=e(415);function U_(t){return function(){return t}}var V_=Math.abs,q_=Math.atan2,F_=Math.cos,Y_=Math.max,G_=Math.min,H_=Math.sin,j_=Math.sqrt,X_=1e-12,W_=Math.PI,$_=W_/2,Z_=2*W_;function Q_(t){return t>=1?$_:t<=-1?-$_:Math.asin(t)}function K_(t){return t.innerRadius}function J_(t){return t.outerRadius}function tb(t){return t.startAngle}function nb(t){return t.endAngle}function eb(t){return t&&t.padAngle}function rb(t,n,e,r,i,o,a){var u=t-e,s=n-r,c=(a?o:-o)/j_(u*u+s*s),f=c*s,l=-c*u,h=t+f,d=n+l,p=e+f,g=r+l,y=(h+p)/2,v=(d+g)/2,m=p-h,_=g-d,b=m*m+_*_,x=i-o,w=h*g-p*d,M=(_<0?-1:1)*j_(Y_(0,x*x*b-w*w)),A=(w*_-m*M)/b,S=(-w*m-_*M)/b,E=(w*_+m*M)/b,N=(-w*m+_*M)/b,T=A-y,k=S-v,C=E-y,P=N-v;return T*T+k*k>C*C+P*P&&(A=E,S=N),{cx:A,cy:S,x01:-f,y01:-l,x11:A*(i/x-1),y11:S*(i/x-1)}}function ib(){var t=K_,n=J_,e=U_(0),r=null,i=tb,o=nb,a=eb,u=null;function s(){var s,c,f,l=+t.apply(this,arguments),h=+n.apply(this,arguments),d=i.apply(this,arguments)-$_,p=o.apply(this,arguments)-$_,g=V_(p-d),y=p>d;if(u||(u=s=Nr()),h<l&&(c=h,h=l,l=c),h>X_)if(g>Z_-X_)u.moveTo(h*F_(d),h*H_(d)),u.arc(0,0,h,d,p,!y),l>X_&&(u.moveTo(l*F_(p),l*H_(p)),u.arc(0,0,l,p,d,y));else{var v,m,_=d,b=p,x=d,w=p,M=g,A=g,S=a.apply(this,arguments)/2,E=S>X_&&(r?+r.apply(this,arguments):j_(l*l+h*h)),N=G_(V_(h-l)/2,+e.apply(this,arguments)),T=N,k=N;if(E>X_){var C=Q_(E/l*H_(S)),P=Q_(E/h*H_(S));(M-=2*C)>X_?(x+=C*=y?1:-1,w-=C):(M=0,x=w=(d+p)/2),(A-=2*P)>X_?(_+=P*=y?1:-1,b-=P):(A=0,_=b=(d+p)/2)}var z=h*F_(_),I=h*H_(_),O=l*F_(w),D=l*H_(w);if(N>X_){var R,B=h*F_(b),L=h*H_(b),U=l*F_(x),V=l*H_(x);if(g<W_&&(R=function(t,n,e,r,i,o,a,u){var s=e-t,c=r-n,f=a-i,l=u-o,h=l*s-f*c;if(!(h*h<X_))return[t+(h=(f*(n-o)-l*(t-i))/h)*s,n+h*c]}(z,I,U,V,B,L,O,D))){var q=z-R[0],F=I-R[1],Y=B-R[0],G=L-R[1],H=1/H_(((f=(q*Y+F*G)/(j_(q*q+F*F)*j_(Y*Y+G*G)))>1?0:f<-1?W_:Math.acos(f))/2),j=j_(R[0]*R[0]+R[1]*R[1]);T=G_(N,(l-j)/(H-1)),k=G_(N,(h-j)/(H+1))}}A>X_?k>X_?(v=rb(U,V,z,I,h,k,y),m=rb(B,L,O,D,h,k,y),u.moveTo(v.cx+v.x01,v.cy+v.y01),k<N?u.arc(v.cx,v.cy,k,q_(v.y01,v.x01),q_(m.y01,m.x01),!y):(u.arc(v.cx,v.cy,k,q_(v.y01,v.x01),q_(v.y11,v.x11),!y),u.arc(0,0,h,q_(v.cy+v.y11,v.cx+v.x11),q_(m.cy+m.y11,m.cx+m.x11),!y),u.arc(m.cx,m.cy,k,q_(m.y11,m.x11),q_(m.y01,m.x01),!y))):(u.moveTo(z,I),u.arc(0,0,h,_,b,!y)):u.moveTo(z,I),l>X_&&M>X_?T>X_?(v=rb(O,D,B,L,l,-T,y),m=rb(z,I,U,V,l,-T,y),u.lineTo(v.cx+v.x01,v.cy+v.y01),T<N?u.arc(v.cx,v.cy,T,q_(v.y01,v.x01),q_(m.y01,m.x01),!y):(u.arc(v.cx,v.cy,T,q_(v.y01,v.x01),q_(v.y11,v.x11),!y),u.arc(0,0,l,q_(v.cy+v.y11,v.cx+v.x11),q_(m.cy+m.y11,m.cx+m.x11),y),u.arc(m.cx,m.cy,T,q_(m.y11,m.x11),q_(m.y01,m.x01),!y))):u.arc(0,0,l,w,x,y):u.lineTo(O,D)}else u.moveTo(0,0);if(u.closePath(),s)return u=null,s+""||null}return s.centroid=function(){var e=(+t.apply(this,arguments)+ +n.apply(this,arguments))/2,r=(+i.apply(this,arguments)+ +o.apply(this,arguments))/2-W_/2;return[F_(r)*e,H_(r)*e]},s.innerRadius=function(n){return arguments.length?(t="function"==typeof n?n:U_(+n),s):t},s.outerRadius=function(t){return arguments.length?(n="function"==typeof t?t:U_(+t),s):n},s.cornerRadius=function(t){return arguments.length?(e="function"==typeof t?t:U_(+t),s):e},s.padRadius=function(t){return arguments.length?(r=null==t?null:"function"==typeof t?t:U_(+t),s):r},s.startAngle=function(t){return arguments.length?(i="function"==typeof t?t:U_(+t),s):i},s.endAngle=function(t){return arguments.length?(o="function"==typeof t?t:U_(+t),s):o},s.padAngle=function(t){return arguments.length?(a="function"==typeof t?t:U_(+t),s):a},s.context=function(t){return arguments.length?(u=null==t?null:t,s):u},s}function ob(t){this._context=t}function ab(t){return new ob(t)}function ub(t){return t[0]}function sb(t){return t[1]}function cb(){var t=ub,n=sb,e=U_(!0),r=null,i=ab,o=null;function a(a){var u,s,c,f=a.length,l=!1;for(null==r&&(o=i(c=Nr())),u=0;u<=f;++u)!(u<f&&e(s=a[u],u,a))===l&&((l=!l)?o.lineStart():o.lineEnd()),l&&o.point(+t(s,u,a),+n(s,u,a));if(c)return o=null,c+""||null}return a.x=function(n){return arguments.length?(t="function"==typeof n?n:U_(+n),a):t},a.y=function(t){return arguments.length?(n="function"==typeof t?t:U_(+t),a):n},a.defined=function(t){return arguments.length?(e="function"==typeof t?t:U_(!!t),a):e},a.curve=function(t){return arguments.length?(i=t,null!=r&&(o=i(r)),a):i},a.context=function(t){return arguments.length?(null==t?r=o=null:o=i(r=t),a):r},a}function fb(){var t=ub,n=null,e=U_(0),r=sb,i=U_(!0),o=null,a=ab,u=null;function s(s){var c,f,l,h,d,p=s.length,g=!1,y=new Array(p),v=new Array(p);for(null==o&&(u=a(d=Nr())),c=0;c<=p;++c){if(!(c<p&&i(h=s[c],c,s))===g)if(g=!g)f=c,u.areaStart(),u.lineStart();else{for(u.lineEnd(),u.lineStart(),l=c-1;l>=f;--l)u.point(y[l],v[l]);u.lineEnd(),u.areaEnd()}g&&(y[c]=+t(h,c,s),v[c]=+e(h,c,s),u.point(n?+n(h,c,s):y[c],r?+r(h,c,s):v[c]))}if(d)return u=null,d+""||null}function c(){return cb().defined(i).curve(a).context(o)}return s.x=function(e){return arguments.length?(t="function"==typeof e?e:U_(+e),n=null,s):t},s.x0=function(n){return arguments.length?(t="function"==typeof n?n:U_(+n),s):t},s.x1=function(t){return arguments.length?(n=null==t?null:"function"==typeof t?t:U_(+t),s):n},s.y=function(t){return arguments.length?(e="function"==typeof t?t:U_(+t),r=null,s):e},s.y0=function(t){return arguments.length?(e="function"==typeof t?t:U_(+t),s):e},s.y1=function(t){return arguments.length?(r=null==t?null:"function"==typeof t?t:U_(+t),s):r},s.lineX0=s.lineY0=function(){return c().x(t).y(e)},s.lineY1=function(){return c().x(t).y(r)},s.lineX1=function(){return c().x(n).y(e)},s.defined=function(t){return arguments.length?(i="function"==typeof t?t:U_(!!t),s):i},s.curve=function(t){return arguments.length?(a=t,null!=o&&(u=a(o)),s):a},s.context=function(t){return arguments.length?(null==t?o=u=null:u=a(o=t),s):o},s}function lb(t,n){return n<t?-1:n>t?1:n>=t?0:NaN}function hb(t){return t}function db(){var t=hb,n=lb,e=null,r=U_(0),i=U_(Z_),o=U_(0);function a(a){var u,s,c,f,l,h=a.length,d=0,p=new Array(h),g=new Array(h),y=+r.apply(this,arguments),v=Math.min(Z_,Math.max(-Z_,i.apply(this,arguments)-y)),m=Math.min(Math.abs(v)/h,o.apply(this,arguments)),_=m*(v<0?-1:1);for(u=0;u<h;++u)(l=g[p[u]=u]=+t(a[u],u,a))>0&&(d+=l);for(null!=n?p.sort(function(t,e){return n(g[t],g[e])}):null!=e&&p.sort(function(t,n){return e(a[t],a[n])}),u=0,c=d?(v-h*_)/d:0;u<h;++u,y=f)s=p[u],f=y+((l=g[s])>0?l*c:0)+_,g[s]={data:a[s],index:u,value:l,startAngle:y,endAngle:f,padAngle:m};return g}return a.value=function(n){return arguments.length?(t="function"==typeof n?n:U_(+n),a):t},a.sortValues=function(t){return arguments.length?(n=t,e=null,a):n},a.sort=function(t){return arguments.length?(e=t,n=null,a):e},a.startAngle=function(t){return arguments.length?(r="function"==typeof t?t:U_(+t),a):r},a.endAngle=function(t){return arguments.length?(i="function"==typeof t?t:U_(+t),a):i},a.padAngle=function(t){return arguments.length?(o="function"==typeof t?t:U_(+t),a):o},a}ob.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(t,n){switch(t=+t,n=+n,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,n):this._context.moveTo(t,n);break;case 1:this._point=2;default:this._context.lineTo(t,n)}}};var pb=yb(ab);function gb(t){this._curve=t}function yb(t){function n(n){return new gb(t(n))}return n._curve=t,n}function vb(t){var n=t.curve;return t.angle=t.x,delete t.x,t.radius=t.y,delete t.y,t.curve=function(t){return arguments.length?n(yb(t)):n()._curve},t}function mb(){return vb(cb().curve(pb))}function _b(){var t=fb().curve(pb),n=t.curve,e=t.lineX0,r=t.lineX1,i=t.lineY0,o=t.lineY1;return t.angle=t.x,delete t.x,t.startAngle=t.x0,delete t.x0,t.endAngle=t.x1,delete t.x1,t.radius=t.y,delete t.y,t.innerRadius=t.y0,delete t.y0,t.outerRadius=t.y1,delete t.y1,t.lineStartAngle=function(){return vb(e())},delete t.lineX0,t.lineEndAngle=function(){return vb(r())},delete t.lineX1,t.lineInnerRadius=function(){return vb(i())},delete t.lineY0,t.lineOuterRadius=function(){return vb(o())},delete t.lineY1,t.curve=function(t){return arguments.length?n(yb(t)):n()._curve},t}function bb(t,n){return[(n=+n)*Math.cos(t-=Math.PI/2),n*Math.sin(t)]}gb.prototype={areaStart:function(){this._curve.areaStart()},areaEnd:function(){this._curve.areaEnd()},lineStart:function(){this._curve.lineStart()},lineEnd:function(){this._curve.lineEnd()},point:function(t,n){this._curve.point(n*Math.sin(t),n*-Math.cos(t))}};var xb=Array.prototype.slice;function wb(t){return t.source}function Mb(t){return t.target}function Ab(t){var n=wb,e=Mb,r=ub,i=sb,o=null;function a(){var a,u=xb.call(arguments),s=n.apply(this,u),c=e.apply(this,u);if(o||(o=a=Nr()),t(o,+r.apply(this,(u[0]=s,u)),+i.apply(this,u),+r.apply(this,(u[0]=c,u)),+i.apply(this,u)),a)return o=null,a+""||null}return a.source=function(t){return arguments.length?(n=t,a):n},a.target=function(t){return arguments.length?(e=t,a):e},a.x=function(t){return arguments.length?(r="function"==typeof t?t:U_(+t),a):r},a.y=function(t){return arguments.length?(i="function"==typeof t?t:U_(+t),a):i},a.context=function(t){return arguments.length?(o=null==t?null:t,a):o},a}function Sb(t,n,e,r,i){t.moveTo(n,e),t.bezierCurveTo(n=(n+r)/2,e,n,i,r,i)}function Eb(t,n,e,r,i){t.moveTo(n,e),t.bezierCurveTo(n,e=(e+i)/2,r,e,r,i)}function Nb(t,n,e,r,i){var o=bb(n,e),a=bb(n,e=(e+i)/2),u=bb(r,e),s=bb(r,i);t.moveTo(o[0],o[1]),t.bezierCurveTo(a[0],a[1],u[0],u[1],s[0],s[1])}function Tb(){return Ab(Sb)}function kb(){return Ab(Eb)}function Cb(){var t=Ab(Nb);return t.angle=t.x,delete t.x,t.radius=t.y,delete t.y,t}const Pb={draw:function(t,n){var e=Math.sqrt(n/W_);t.moveTo(e,0),t.arc(0,0,e,0,Z_)}},zb={draw:function(t,n){var e=Math.sqrt(n/5)/2;t.moveTo(-3*e,-e),t.lineTo(-e,-e),t.lineTo(-e,-3*e),t.lineTo(e,-3*e),t.lineTo(e,-e),t.lineTo(3*e,-e),t.lineTo(3*e,e),t.lineTo(e,e),t.lineTo(e,3*e),t.lineTo(-e,3*e),t.lineTo(-e,e),t.lineTo(-3*e,e),t.closePath()}};var Ib=Math.sqrt(1/3),Ob=2*Ib;const Db={draw:function(t,n){var e=Math.sqrt(n/Ob),r=e*Ib;t.moveTo(0,-e),t.lineTo(r,0),t.lineTo(0,e),t.lineTo(-r,0),t.closePath()}};var Rb=Math.sin(W_/10)/Math.sin(7*W_/10),Bb=Math.sin(Z_/10)*Rb,Lb=-Math.cos(Z_/10)*Rb;const Ub={draw:function(t,n){var e=Math.sqrt(.8908130915292852*n),r=Bb*e,i=Lb*e;t.moveTo(0,-e),t.lineTo(r,i);for(var o=1;o<5;++o){var a=Z_*o/5,u=Math.cos(a),s=Math.sin(a);t.lineTo(s*e,-u*e),t.lineTo(u*r-s*i,s*r+u*i)}t.closePath()}},Vb={draw:function(t,n){var e=Math.sqrt(n),r=-e/2;t.rect(r,r,e,e)}};var qb=Math.sqrt(3);const Fb={draw:function(t,n){var e=-Math.sqrt(n/(3*qb));t.moveTo(0,2*e),t.lineTo(-qb*e,-e),t.lineTo(qb*e,-e),t.closePath()}};var Yb=-.5,Gb=Math.sqrt(3)/2,Hb=1/Math.sqrt(12),jb=3*(Hb/2+1);const Xb={draw:function(t,n){var e=Math.sqrt(n/jb),r=e/2,i=e*Hb,o=r,a=e*Hb+e,u=-o,s=a;t.moveTo(r,i),t.lineTo(o,a),t.lineTo(u,s),t.lineTo(Yb*r-Gb*i,Gb*r+Yb*i),t.lineTo(Yb*o-Gb*a,Gb*o+Yb*a),t.lineTo(Yb*u-Gb*s,Gb*u+Yb*s),t.lineTo(Yb*r+Gb*i,Yb*i-Gb*r),t.lineTo(Yb*o+Gb*a,Yb*a-Gb*o),t.lineTo(Yb*u+Gb*s,Yb*s-Gb*u),t.closePath()}};var Wb=[Pb,zb,Db,Vb,Ub,Fb,Xb];function $b(){var t=U_(Pb),n=U_(64),e=null;function r(){var r;if(e||(e=r=Nr()),t.apply(this,arguments).draw(e,+n.apply(this,arguments)),r)return e=null,r+""||null}return r.type=function(n){return arguments.length?(t="function"==typeof n?n:U_(n),r):t},r.size=function(t){return arguments.length?(n="function"==typeof t?t:U_(+t),r):n},r.context=function(t){return arguments.length?(e=null==t?null:t,r):e},r}function Zb(){}function Qb(t,n,e){t._context.bezierCurveTo((2*t._x0+t._x1)/3,(2*t._y0+t._y1)/3,(t._x0+2*t._x1)/3,(t._y0+2*t._y1)/3,(t._x0+4*t._x1+n)/6,(t._y0+4*t._y1+e)/6)}function Kb(t){this._context=t}function Jb(t){return new Kb(t)}function tx(t){this._context=t}function nx(t){return new tx(t)}function ex(t){this._context=t}function rx(t){return new ex(t)}function ix(t,n){this._basis=new Kb(t),this._beta=n}Kb.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:Qb(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1)}(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(t,n){switch(t=+t,n=+n,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,n):this._context.moveTo(t,n);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:Qb(this,t,n)}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=n}},tx.prototype={areaStart:Zb,areaEnd:Zb,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:this._context.moveTo(this._x2,this._y2),this._context.closePath();break;case 2:this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break;case 3:this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4)}},point:function(t,n){switch(t=+t,n=+n,this._point){case 0:this._point=1,this._x2=t,this._y2=n;break;case 1:this._point=2,this._x3=t,this._y3=n;break;case 2:this._point=3,this._x4=t,this._y4=n,this._context.moveTo((this._x0+4*this._x1+t)/6,(this._y0+4*this._y1+n)/6);break;default:Qb(this,t,n)}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=n}},ex.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||0!==this._line&&3===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(t,n){switch(t=+t,n=+n,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var e=(this._x0+4*this._x1+t)/6,r=(this._y0+4*this._y1+n)/6;this._line?this._context.lineTo(e,r):this._context.moveTo(e,r);break;case 3:this._point=4;default:Qb(this,t,n)}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=n}},ix.prototype={lineStart:function(){this._x=[],this._y=[],this._basis.lineStart()},lineEnd:function(){var t=this._x,n=this._y,e=t.length-1;if(e>0)for(var r,i=t[0],o=n[0],a=t[e]-i,u=n[e]-o,s=-1;++s<=e;)r=s/e,this._basis.point(this._beta*t[s]+(1-this._beta)*(i+r*a),this._beta*n[s]+(1-this._beta)*(o+r*u));this._x=this._y=null,this._basis.lineEnd()},point:function(t,n){this._x.push(+t),this._y.push(+n)}};const ox=function t(n){function e(t){return 1===n?new Kb(t):new ix(t,n)}return e.beta=function(n){return t(+n)},e}(.85);function ax(t,n,e){t._context.bezierCurveTo(t._x1+t._k*(t._x2-t._x0),t._y1+t._k*(t._y2-t._y0),t._x2+t._k*(t._x1-n),t._y2+t._k*(t._y1-e),t._x2,t._y2)}function ux(t,n){this._context=t,this._k=(1-n)/6}ux.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x2,this._y2);break;case 3:ax(this,this._x1,this._y1)}(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(t,n){switch(t=+t,n=+n,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,n):this._context.moveTo(t,n);break;case 1:this._point=2,this._x1=t,this._y1=n;break;case 2:this._point=3;default:ax(this,t,n)}this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=n}};const sx=function t(n){function e(t){return new ux(t,n)}return e.tension=function(n){return t(+n)},e}(0);function cx(t,n){this._context=t,this._k=(1-n)/6}cx.prototype={areaStart:Zb,areaEnd:Zb,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._x5=this._y0=this._y1=this._y2=this._y3=this._y4=this._y5=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:this._context.moveTo(this._x3,this._y3),this._context.closePath();break;case 2:this._context.lineTo(this._x3,this._y3),this._context.closePath();break;case 3:this.point(this._x3,this._y3),this.point(this._x4,this._y4),this.point(this._x5,this._y5)}},point:function(t,n){switch(t=+t,n=+n,this._point){case 0:this._point=1,this._x3=t,this._y3=n;break;case 1:this._point=2,this._context.moveTo(this._x4=t,this._y4=n);break;case 2:this._point=3,this._x5=t,this._y5=n;break;default:ax(this,t,n)}this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=n}};const fx=function t(n){function e(t){return new cx(t,n)}return e.tension=function(n){return t(+n)},e}(0);function lx(t,n){this._context=t,this._k=(1-n)/6}lx.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._point=0},lineEnd:function(){(this._line||0!==this._line&&3===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(t,n){switch(t=+t,n=+n,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3,this._line?this._context.lineTo(this._x2,this._y2):this._context.moveTo(this._x2,this._y2);break;case 3:this._point=4;default:ax(this,t,n)}this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=n}};const hx=function t(n){function e(t){return new lx(t,n)}return e.tension=function(n){return t(+n)},e}(0);function dx(t,n,e){var r=t._x1,i=t._y1,o=t._x2,a=t._y2;if(t._l01_a>X_){var u=2*t._l01_2a+3*t._l01_a*t._l12_a+t._l12_2a,s=3*t._l01_a*(t._l01_a+t._l12_a);r=(r*u-t._x0*t._l12_2a+t._x2*t._l01_2a)/s,i=(i*u-t._y0*t._l12_2a+t._y2*t._l01_2a)/s}if(t._l23_a>X_){var c=2*t._l23_2a+3*t._l23_a*t._l12_a+t._l12_2a,f=3*t._l23_a*(t._l23_a+t._l12_a);o=(o*c+t._x1*t._l23_2a-n*t._l12_2a)/f,a=(a*c+t._y1*t._l23_2a-e*t._l12_2a)/f}t._context.bezierCurveTo(r,i,o,a,t._x2,t._y2)}function px(t,n){this._context=t,this._alpha=n}px.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x2,this._y2);break;case 3:this.point(this._x2,this._y2)}(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(t,n){if(t=+t,n=+n,this._point){var e=this._x2-t,r=this._y2-n;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(e*e+r*r,this._alpha))}switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(t,n):this._context.moveTo(t,n);break;case 1:this._point=2;break;case 2:this._point=3;default:dx(this,t,n)}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=n}};const gx=function t(n){function e(t){return n?new px(t,n):new ux(t,0)}return e.alpha=function(n){return t(+n)},e}(.5);function yx(t,n){this._context=t,this._alpha=n}yx.prototype={areaStart:Zb,areaEnd:Zb,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._x5=this._y0=this._y1=this._y2=this._y3=this._y4=this._y5=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){switch(this._point){case 1:this._context.moveTo(this._x3,this._y3),this._context.closePath();break;case 2:this._context.lineTo(this._x3,this._y3),this._context.closePath();break;case 3:this.point(this._x3,this._y3),this.point(this._x4,this._y4),this.point(this._x5,this._y5)}},point:function(t,n){if(t=+t,n=+n,this._point){var e=this._x2-t,r=this._y2-n;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(e*e+r*r,this._alpha))}switch(this._point){case 0:this._point=1,this._x3=t,this._y3=n;break;case 1:this._point=2,this._context.moveTo(this._x4=t,this._y4=n);break;case 2:this._point=3,this._x5=t,this._y5=n;break;default:dx(this,t,n)}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=n}};const vx=function t(n){function e(t){return n?new yx(t,n):new cx(t,0)}return e.alpha=function(n){return t(+n)},e}(.5);function mx(t,n){this._context=t,this._alpha=n}mx.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){(this._line||0!==this._line&&3===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(t,n){if(t=+t,n=+n,this._point){var e=this._x2-t,r=this._y2-n;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(e*e+r*r,this._alpha))}switch(this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3,this._line?this._context.lineTo(this._x2,this._y2):this._context.moveTo(this._x2,this._y2);break;case 3:this._point=4;default:dx(this,t,n)}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=n}};const _x=function t(n){function e(t){return n?new mx(t,n):new lx(t,0)}return e.alpha=function(n){return t(+n)},e}(.5);function bx(t){this._context=t}function xx(t){return new bx(t)}function wx(t){return t<0?-1:1}function Mx(t,n,e){var r=t._x1-t._x0,i=n-t._x1,o=(t._y1-t._y0)/(r||i<0&&-0),a=(e-t._y1)/(i||r<0&&-0),u=(o*i+a*r)/(r+i);return(wx(o)+wx(a))*Math.min(Math.abs(o),Math.abs(a),.5*Math.abs(u))||0}function Ax(t,n){var e=t._x1-t._x0;return e?(3*(t._y1-t._y0)/e-n)/2:n}function Sx(t,n,e){var r=t._x0,i=t._y0,o=t._x1,a=t._y1,u=(o-r)/3;t._context.bezierCurveTo(r+u,i+u*n,o-u,a-u*e,o,a)}function Ex(t){this._context=t}function Nx(t){this._context=new Tx(t)}function Tx(t){this._context=t}function kx(t){return new Ex(t)}function Cx(t){return new Nx(t)}function Px(t){this._context=t}function zx(t){var n,e,r=t.length-1,i=new Array(r),o=new Array(r),a=new Array(r);for(i[0]=0,o[0]=2,a[0]=t[0]+2*t[1],n=1;n<r-1;++n)i[n]=1,o[n]=4,a[n]=4*t[n]+2*t[n+1];for(i[r-1]=2,o[r-1]=7,a[r-1]=8*t[r-1]+t[r],n=1;n<r;++n)e=i[n]/o[n-1],o[n]-=e,a[n]-=e*a[n-1];for(i[r-1]=a[r-1]/o[r-1],n=r-2;n>=0;--n)i[n]=(a[n]-i[n+1])/o[n];for(o[r-1]=(t[r]+i[r-1])/2,n=0;n<r-1;++n)o[n]=2*t[n+1]-i[n+1];return[i,o]}function Ix(t){return new Px(t)}function Ox(t,n){this._context=t,this._t=n}function Dx(t){return new Ox(t,.5)}function Rx(t){return new Ox(t,0)}function Bx(t){return new Ox(t,1)}function Lx(t,n){if((i=t.length)>1)for(var e,r,i,o=1,a=t[n[0]],u=a.length;o<i;++o)for(r=a,a=t[n[o]],e=0;e<u;++e)a[e][1]+=a[e][0]=isNaN(r[e][1])?r[e][0]:r[e][1]}function Ux(t){for(var n=t.length,e=new Array(n);--n>=0;)e[n]=n;return e}function Vx(t,n){return t[n]}function qx(){var t=U_([]),n=Ux,e=Lx,r=Vx;function i(i){var o,a,u=t.apply(this,arguments),s=i.length,c=u.length,f=new Array(c);for(o=0;o<c;++o){for(var l,h=u[o],d=f[o]=new Array(s),p=0;p<s;++p)d[p]=l=[0,+r(i[p],h,p,i)],l.data=i[p];d.key=h}for(o=0,a=n(f);o<c;++o)f[a[o]].index=o;return e(f,a),f}return i.keys=function(n){return arguments.length?(t="function"==typeof n?n:U_(xb.call(n)),i):t},i.value=function(t){return arguments.length?(r="function"==typeof t?t:U_(+t),i):r},i.order=function(t){return arguments.length?(n=null==t?Ux:"function"==typeof t?t:U_(xb.call(t)),i):n},i.offset=function(t){return arguments.length?(e=null==t?Lx:t,i):e},i}function Fx(t,n){if((r=t.length)>0){for(var e,r,i,o=0,a=t[0].length;o<a;++o){for(i=e=0;e<r;++e)i+=t[e][o][1]||0;if(i)for(e=0;e<r;++e)t[e][o][1]/=i}Lx(t,n)}}function Yx(t,n){if((u=t.length)>0)for(var e,r,i,o,a,u,s=0,c=t[n[0]].length;s<c;++s)for(o=a=0,e=0;e<u;++e)(i=(r=t[n[e]][s])[1]-r[0])>0?(r[0]=o,r[1]=o+=i):i<0?(r[1]=a,r[0]=a+=i):(r[0]=0,r[1]=i)}function Gx(t,n){if((e=t.length)>0){for(var e,r=0,i=t[n[0]],o=i.length;r<o;++r){for(var a=0,u=0;a<e;++a)u+=t[a][r][1]||0;i[r][1]+=i[r][0]=-u/2}Lx(t,n)}}function Hx(t,n){if((i=t.length)>0&&(r=(e=t[n[0]]).length)>0){for(var e,r,i,o=0,a=1;a<r;++a){for(var u=0,s=0,c=0;u<i;++u){for(var f=t[n[u]],l=f[a][1]||0,h=(l-(f[a-1][1]||0))/2,d=0;d<u;++d){var p=t[n[d]];h+=(p[a][1]||0)-(p[a-1][1]||0)}s+=l,c+=h*l}e[a-1][1]+=e[a-1][0]=o,s&&(o-=c/s)}e[a-1][1]+=e[a-1][0]=o,Lx(t,n)}}function jx(t){var n=t.map(Xx);return Ux(t).sort(function(t,e){return n[t]-n[e]})}function Xx(t){for(var n,e=-1,r=0,i=t.length,o=-1/0;++e<i;)(n=+t[e][1])>o&&(o=n,r=e);return r}function Wx(t){var n=t.map($x);return Ux(t).sort(function(t,e){return n[t]-n[e]})}function $x(t){for(var n,e=0,r=-1,i=t.length;++r<i;)(n=+t[r][1])&&(e+=n);return e}function Zx(t){return Wx(t).reverse()}function Qx(t){var n,e,r=t.length,i=t.map($x),o=jx(t),a=0,u=0,s=[],c=[];for(n=0;n<r;++n)e=o[n],a<u?(a+=i[e],s.push(e)):(u+=i[e],c.push(e));return c.reverse().concat(s)}function Kx(t){return Ux(t).reverse()}bx.prototype={areaStart:Zb,areaEnd:Zb,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(t,n){t=+t,n=+n,this._point?this._context.lineTo(t,n):(this._point=1,this._context.moveTo(t,n))}},Ex.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:Sx(this,this._t0,Ax(this,this._t0))}(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(t,n){var e=NaN;if(n=+n,(t=+t)!==this._x1||n!==this._y1){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(t,n):this._context.moveTo(t,n);break;case 1:this._point=2;break;case 2:this._point=3,Sx(this,Ax(this,e=Mx(this,t,n)),e);break;default:Sx(this,this._t0,e=Mx(this,t,n))}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=n,this._t0=e}}},(Nx.prototype=Object.create(Ex.prototype)).point=function(t,n){Ex.prototype.point.call(this,n,t)},Tx.prototype={moveTo:function(t,n){this._context.moveTo(n,t)},closePath:function(){this._context.closePath()},lineTo:function(t,n){this._context.lineTo(n,t)},bezierCurveTo:function(t,n,e,r,i,o){this._context.bezierCurveTo(n,t,r,e,o,i)}},Px.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var t=this._x,n=this._y,e=t.length;if(e)if(this._line?this._context.lineTo(t[0],n[0]):this._context.moveTo(t[0],n[0]),2===e)this._context.lineTo(t[1],n[1]);else for(var r=zx(t),i=zx(n),o=0,a=1;a<e;++o,++a)this._context.bezierCurveTo(r[0][o],i[0][o],r[1][o],i[1][o],t[a],n[a]);(this._line||0!==this._line&&1===e)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(t,n){this._x.push(+t),this._y.push(+n)}},Ox.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&2===this._point&&this._context.lineTo(this._x,this._y),(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(t,n){switch(t=+t,n=+n,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,n):this._context.moveTo(t,n);break;case 1:this._point=2;default:if(this._t<=0)this._context.lineTo(this._x,n),this._context.lineTo(t,n);else{var e=this._x*(1-this._t)+t*this._t;this._context.lineTo(e,this._y),this._context.lineTo(e,n)}}this._x=t,this._y=n}};var Jx="%Y-%m-%dT%H:%M:%S.%LZ",tw=Date.prototype.toISOString?function(t){return t.toISOString()}:cy(Jx);const nw=tw;var ew=+new Date("2000-01-01T00:00:00.000Z")?function(t){var n=new Date(t);return isNaN(n)?null:n}:fy(Jx);const rw=ew;function iw(t,n,e){var r=new kn,i=n;return null==n?(r.restart(t,n,e),r):(n=+n,e=null==e?Nn():+e,r.restart(function o(a){a+=i,r.restart(o,i+=n,e),t(a)},n,e),r)}function ow(t){return function(){return t}}function aw(t){return t[0]}function uw(t){return t[1]}function sw(){this._=null}function cw(t){t.U=t.C=t.L=t.R=t.P=t.N=null}function fw(t,n){var e=n,r=n.R,i=e.U;i?i.L===e?i.L=r:i.R=r:t._=r,r.U=i,e.U=r,e.R=r.L,e.R&&(e.R.U=e),r.L=e}function lw(t,n){var e=n,r=n.L,i=e.U;i?i.L===e?i.L=r:i.R=r:t._=r,r.U=i,e.U=r,e.L=r.R,e.L&&(e.L.U=e),r.R=e}function hw(t){for(;t.L;)t=t.L;return t}sw.prototype={constructor:sw,insert:function(t,n){var e,r,i;if(t){if(n.P=t,n.N=t.N,t.N&&(t.N.P=n),t.N=n,t.R){for(t=t.R;t.L;)t=t.L;t.L=n}else t.R=n;e=t}else this._?(t=hw(this._),n.P=null,n.N=t,t.P=t.L=n,e=t):(n.P=n.N=null,this._=n,e=null);for(n.L=n.R=null,n.U=e,n.C=!0,t=n;e&&e.C;)e===(r=e.U).L?(i=r.R)&&i.C?(e.C=i.C=!1,r.C=!0,t=r):(t===e.R&&(fw(this,e),e=(t=e).U),e.C=!1,r.C=!0,lw(this,r)):(i=r.L)&&i.C?(e.C=i.C=!1,r.C=!0,t=r):(t===e.L&&(lw(this,e),e=(t=e).U),e.C=!1,r.C=!0,fw(this,r)),e=t.U;this._.C=!1},remove:function(t){t.N&&(t.N.P=t.P),t.P&&(t.P.N=t.N),t.N=t.P=null;var n,e,r,i=t.U,o=t.L,a=t.R;if(e=o?a?hw(a):o:a,i?i.L===t?i.L=e:i.R=e:this._=e,o&&a?(r=e.C,e.C=t.C,e.L=o,o.U=e,e!==a?(i=e.U,e.U=t.U,t=e.R,i.L=t,e.R=a,a.U=e):(e.U=i,i=e,t=e.R)):(r=t.C,t=e),t&&(t.U=i),!r)if(t&&t.C)t.C=!1;else{do{if(t===this._)break;if(t===i.L){if((n=i.R).C&&(n.C=!1,i.C=!0,fw(this,i),n=i.R),n.L&&n.L.C||n.R&&n.R.C){n.R&&n.R.C||(n.L.C=!1,n.C=!0,lw(this,n),n=i.R),n.C=i.C,i.C=n.R.C=!1,fw(this,i),t=this._;break}}else if((n=i.L).C&&(n.C=!1,i.C=!0,lw(this,i),n=i.L),n.L&&n.L.C||n.R&&n.R.C){n.L&&n.L.C||(n.R.C=!1,n.C=!0,fw(this,n),n=i.L),n.C=i.C,i.C=n.L.C=!1,lw(this,i),t=this._;break}n.C=!0,t=i,i=i.U}while(!t.C);t&&(t.C=!1)}}};const dw=sw;function pw(t,n,e,r){var i=[null,null],o=Lw.push(i)-1;return i.left=t,i.right=n,e&&yw(i,t,n,e),r&&yw(i,n,t,r),Rw[t.index].halfedges.push(o),Rw[n.index].halfedges.push(o),i}function gw(t,n,e){var r=[n,e];return r.left=t,r}function yw(t,n,e,r){t[0]||t[1]?t.left===e?t[1]=r:t[0]=r:(t[0]=r,t.left=n,t.right=e)}function vw(t,n,e,r,i){var o,a=t[0],u=t[1],s=a[0],c=a[1],f=0,l=1,h=u[0]-s,d=u[1]-c;if(o=n-s,h||!(o>0)){if(o/=h,h<0){if(o<f)return;o<l&&(l=o)}else if(h>0){if(o>l)return;o>f&&(f=o)}if(o=r-s,h||!(o<0)){if(o/=h,h<0){if(o>l)return;o>f&&(f=o)}else if(h>0){if(o<f)return;o<l&&(l=o)}if(o=e-c,d||!(o>0)){if(o/=d,d<0){if(o<f)return;o<l&&(l=o)}else if(d>0){if(o>l)return;o>f&&(f=o)}if(o=i-c,d||!(o<0)){if(o/=d,d<0){if(o>l)return;o>f&&(f=o)}else if(d>0){if(o<f)return;o<l&&(l=o)}return!(f>0||l<1)||(f>0&&(t[0]=[s+f*h,c+f*d]),l<1&&(t[1]=[s+l*h,c+l*d]),!0)}}}}}function mw(t,n,e,r,i){var o=t[1];if(o)return!0;var a,u,s=t[0],c=t.left,f=t.right,l=c[0],h=c[1],d=f[0],p=f[1],g=(l+d)/2,y=(h+p)/2;if(p===h){if(g<n||g>=r)return;if(l>d){if(s){if(s[1]>=i)return}else s=[g,e];o=[g,i]}else{if(s){if(s[1]<e)return}else s=[g,i];o=[g,e]}}else if(u=y-(a=(l-d)/(p-h))*g,a<-1||a>1)if(l>d){if(s){if(s[1]>=i)return}else s=[(e-u)/a,e];o=[(i-u)/a,i]}else{if(s){if(s[1]<e)return}else s=[(i-u)/a,i];o=[(e-u)/a,e]}else if(h<p){if(s){if(s[0]>=r)return}else s=[n,a*n+u];o=[r,a*r+u]}else{if(s){if(s[0]<n)return}else s=[r,a*r+u];o=[n,a*n+u]}return t[0]=s,t[1]=o,!0}function _w(t,n){var e=t.site,r=n.left,i=n.right;return e===i&&(i=r,r=e),i?Math.atan2(i[1]-r[1],i[0]-r[0]):(e===r?(r=n[1],i=n[0]):(r=n[0],i=n[1]),Math.atan2(r[0]-i[0],i[1]-r[1]))}function bw(t,n){return n[+(n.left!==t.site)]}function xw(t,n){return n[+(n.left===t.site)]}var ww,Mw=[];function Aw(){cw(this),this.x=this.y=this.arc=this.site=this.cy=null}function Sw(t){var n=t.P,e=t.N;if(n&&e){var r=n.site,i=t.site,o=e.site;if(r!==o){var a=i[0],u=i[1],s=r[0]-a,c=r[1]-u,f=o[0]-a,l=o[1]-u,h=2*(s*l-c*f);if(!(h>=-Vw)){var d=s*s+c*c,p=f*f+l*l,g=(l*d-c*p)/h,y=(s*p-f*d)/h,v=Mw.pop()||new Aw;v.arc=t,v.site=i,v.x=g+a,v.y=(v.cy=y+u)+Math.sqrt(g*g+y*y),t.circle=v;for(var m=null,_=Bw._;_;)if(v.y<_.y||v.y===_.y&&v.x<=_.x){if(!_.L){m=_.P;break}_=_.L}else{if(!_.R){m=_;break}_=_.R}Bw.insert(m,v),m||(ww=v)}}}}function Ew(t){var n=t.circle;n&&(n.P||(ww=n.N),Bw.remove(n),Mw.push(n),cw(n),t.circle=null)}var Nw=[];function Tw(){cw(this),this.edge=this.site=this.circle=null}function kw(t){var n=Nw.pop()||new Tw;return n.site=t,n}function Cw(t){Ew(t),Dw.remove(t),Nw.push(t),cw(t)}function Pw(t){var n=t.circle,e=n.x,r=n.cy,i=[e,r],o=t.P,a=t.N,u=[t];Cw(t);for(var s=o;s.circle&&Math.abs(e-s.circle.x)<Uw&&Math.abs(r-s.circle.cy)<Uw;)o=s.P,u.unshift(s),Cw(s),s=o;u.unshift(s),Ew(s);for(var c=a;c.circle&&Math.abs(e-c.circle.x)<Uw&&Math.abs(r-c.circle.cy)<Uw;)a=c.N,u.push(c),Cw(c),c=a;u.push(c),Ew(c);var f,l=u.length;for(f=1;f<l;++f)c=u[f],s=u[f-1],yw(c.edge,s.site,c.site,i);s=u[0],(c=u[l-1]).edge=pw(s.site,c.site,null,i),Sw(s),Sw(c)}function zw(t){for(var n,e,r,i,o=t[0],a=t[1],u=Dw._;u;)if((r=Iw(u,a)-o)>Uw)u=u.L;else{if(!((i=o-Ow(u,a))>Uw)){r>-Uw?(n=u.P,e=u):i>-Uw?(n=u,e=u.N):n=e=u;break}if(!u.R){n=u;break}u=u.R}!function(t){Rw[t.index]={site:t,halfedges:[]}}(t);var s=kw(t);if(Dw.insert(n,s),n||e){if(n===e)return Ew(n),e=kw(n.site),Dw.insert(s,e),s.edge=e.edge=pw(n.site,s.site),Sw(n),void Sw(e);if(e){Ew(n),Ew(e);var c=n.site,f=c[0],l=c[1],h=t[0]-f,d=t[1]-l,p=e.site,g=p[0]-f,y=p[1]-l,v=2*(h*y-d*g),m=h*h+d*d,_=g*g+y*y,b=[(y*m-d*_)/v+f,(h*_-g*m)/v+l];yw(e.edge,c,p,b),s.edge=pw(c,t,null,b),e.edge=pw(t,p,null,b),Sw(n),Sw(e)}else s.edge=pw(n.site,s.site)}}function Iw(t,n){var e=t.site,r=e[0],i=e[1],o=i-n;if(!o)return r;var a=t.P;if(!a)return-1/0;var u=(e=a.site)[0],s=e[1],c=s-n;if(!c)return u;var f=u-r,l=1/o-1/c,h=f/c;return l?(-h+Math.sqrt(h*h-2*l*(f*f/(-2*c)-s+c/2+i-o/2)))/l+r:(r+u)/2}function Ow(t,n){var e=t.N;if(e)return Iw(e,n);var r=t.site;return r[1]===n?r[0]:1/0}var Dw,Rw,Bw,Lw,Uw=1e-6,Vw=1e-12;function qw(t,n,e){return(t[0]-e[0])*(n[1]-t[1])-(t[0]-n[0])*(e[1]-t[1])}function Fw(t,n){return n[1]-t[1]||n[0]-t[0]}function Yw(t,n){var e,r,i,o=t.sort(Fw).pop();for(Lw=[],Rw=new Array(t.length),Dw=new dw,Bw=new dw;;)if(i=ww,o&&(!i||o[1]<i.y||o[1]===i.y&&o[0]<i.x))o[0]===e&&o[1]===r||(zw(o),e=o[0],r=o[1]),o=t.pop();else{if(!i)break;Pw(i.arc)}if(function(){for(var t,n,e,r,i=0,o=Rw.length;i<o;++i)if((t=Rw[i])&&(r=(n=t.halfedges).length)){var a=new Array(r),u=new Array(r);for(e=0;e<r;++e)a[e]=e,u[e]=_w(t,Lw[n[e]]);for(a.sort(function(t,n){return u[n]-u[t]}),e=0;e<r;++e)u[e]=n[a[e]];for(e=0;e<r;++e)n[e]=u[e]}}(),n){var a=+n[0][0],u=+n[0][1],s=+n[1][0],c=+n[1][1];!function(t,n,e,r){for(var i,o=Lw.length;o--;)mw(i=Lw[o],t,n,e,r)&&vw(i,t,n,e,r)&&(Math.abs(i[0][0]-i[1][0])>Uw||Math.abs(i[0][1]-i[1][1])>Uw)||delete Lw[o]}(a,u,s,c),function(t,n,e,r){var i,o,a,u,s,c,f,l,h,d,p,g,y=Rw.length,v=!0;for(i=0;i<y;++i)if(o=Rw[i]){for(a=o.site,u=(s=o.halfedges).length;u--;)Lw[s[u]]||s.splice(u,1);for(u=0,c=s.length;u<c;)p=(d=xw(o,Lw[s[u]]))[0],g=d[1],l=(f=bw(o,Lw[s[++u%c]]))[0],h=f[1],(Math.abs(p-l)>Uw||Math.abs(g-h)>Uw)&&(s.splice(u,0,Lw.push(gw(a,d,Math.abs(p-t)<Uw&&r-g>Uw?[t,Math.abs(l-t)<Uw?h:r]:Math.abs(g-r)<Uw&&e-p>Uw?[Math.abs(h-r)<Uw?l:e,r]:Math.abs(p-e)<Uw&&g-n>Uw?[e,Math.abs(l-e)<Uw?h:n]:Math.abs(g-n)<Uw&&p-t>Uw?[Math.abs(h-n)<Uw?l:t,n]:null))-1),++c);c&&(v=!1)}if(v){var m,_,b,x=1/0;for(i=0,v=null;i<y;++i)(o=Rw[i])&&(b=(m=(a=o.site)[0]-t)*m+(_=a[1]-n)*_)<x&&(x=b,v=o);if(v){var w=[t,n],M=[t,r],A=[e,r],S=[e,n];v.halfedges.push(Lw.push(gw(a=v.site,w,M))-1,Lw.push(gw(a,M,A))-1,Lw.push(gw(a,A,S))-1,Lw.push(gw(a,S,w))-1)}}for(i=0;i<y;++i)(o=Rw[i])&&(o.halfedges.length||delete Rw[i])}(a,u,s,c)}this.edges=Lw,this.cells=Rw,Dw=Bw=Lw=Rw=null}function Gw(){var t=aw,n=uw,e=null;function r(r){return new Yw(r.map(function(e,i){var o=[Math.round(t(e,i,r)/Uw)*Uw,Math.round(n(e,i,r)/Uw)*Uw];return o.index=i,o.data=e,o}),e)}return r.polygons=function(t){return r(t).polygons()},r.links=function(t){return r(t).links()},r.triangles=function(t){return r(t).triangles()},r.x=function(n){return arguments.length?(t="function"==typeof n?n:ow(+n),r):t},r.y=function(t){return arguments.length?(n="function"==typeof t?t:ow(+t),r):n},r.extent=function(t){return arguments.length?(e=null==t?null:[[+t[0][0],+t[0][1]],[+t[1][0],+t[1][1]]],r):e&&[[e[0][0],e[0][1]],[e[1][0],e[1][1]]]},r.size=function(t){return arguments.length?(e=null==t?null:[[0,0],[+t[0],+t[1]]],r):e&&[e[1][0]-e[0][0],e[1][1]-e[0][1]]},r}function Hw(t){return function(){return t}}function jw(t,n,e){this.target=t,this.type=n,this.transform=e}function Xw(t,n,e){this.k=t,this.x=n,this.y=e}Yw.prototype={constructor:Yw,polygons:function(){var t=this.edges;return this.cells.map(function(n){var e=n.halfedges.map(function(e){return bw(n,t[e])});return e.data=n.site.data,e})},triangles:function(){var t=[],n=this.edges;return this.cells.forEach(function(e,r){if(o=(i=e.halfedges).length)for(var i,o,a,u=e.site,s=-1,c=n[i[o-1]],f=c.left===u?c.right:c.left;++s<o;)a=f,f=(c=n[i[s]]).left===u?c.right:c.left,a&&f&&r<a.index&&r<f.index&&qw(u,a,f)<0&&t.push([u.data,a.data,f.data])}),t},links:function(){return this.edges.filter(function(t){return t.right}).map(function(t){return{source:t.left.data,target:t.right.data}})},find:function(t,n,e){for(var r,i,o=this,a=o._found||0,u=o.cells.length;!(i=o.cells[a]);)if(++a>=u)return null;var s=t-i.site[0],c=n-i.site[1],f=s*s+c*c;do{i=o.cells[r=a],a=null,i.halfedges.forEach(function(e){var r=o.edges[e],u=r.left;if(u!==i.site&&u||(u=r.right)){var s=t-u[0],c=n-u[1],l=s*s+c*c;l<f&&(f=l,a=u.index)}})}while(null!==a);return o._found=r,null==e||f<=e*e?i.site:null}},Xw.prototype={constructor:Xw,scale:function(t){return 1===t?this:new Xw(this.k*t,this.x,this.y)},translate:function(t,n){return 0===t&0===n?this:new Xw(this.k,this.x+this.k*t,this.y+this.k*n)},apply:function(t){return[t[0]*this.k+this.x,t[1]*this.k+this.y]},applyX:function(t){return t*this.k+this.x},applyY:function(t){return t*this.k+this.y},invert:function(t){return[(t[0]-this.x)/this.k,(t[1]-this.y)/this.k]},invertX:function(t){return(t-this.x)/this.k},invertY:function(t){return(t-this.y)/this.k},rescaleX:function(t){return t.copy().domain(t.range().map(this.invertX,this).map(t.invert,t))},rescaleY:function(t){return t.copy().domain(t.range().map(this.invertY,this).map(t.invert,t))},toString:function(){return"translate("+this.x+","+this.y+") scale("+this.k+")"}};var Ww=new Xw(1,0,0);function $w(t){for(;!t.__zoom;)if(!(t=t.parentNode))return Ww;return t.__zoom}function Zw(){gn.f0.stopImmediatePropagation()}function Qw(){gn.f0.preventDefault(),gn.f0.stopImmediatePropagation()}function Kw(){return!gn.f0.ctrlKey&&!gn.f0.button}function Jw(){var t=this;return t instanceof SVGElement?(t=t.ownerSVGElement||t).hasAttribute("viewBox")?[[(t=t.viewBox.baseVal).x,t.y],[t.x+t.width,t.y+t.height]]:[[0,0],[t.width.baseVal.value,t.height.baseVal.value]]:[[0,0],[t.clientWidth,t.clientHeight]]}function tM(){return this.__zoom||Ww}function nM(){return-gn.f0.deltaY*(1===gn.f0.deltaMode?.05:gn.f0.deltaMode?1:.002)}function eM(){return navigator.maxTouchPoints||"ontouchstart"in this}function rM(t,n,e){var r=t.invertX(n[0][0])-e[0][0],i=t.invertX(n[1][0])-e[1][0],o=t.invertY(n[0][1])-e[0][1],a=t.invertY(n[1][1])-e[1][1];return t.translate(i>r?(r+i)/2:Math.min(0,r)||Math.max(0,i),a>o?(o+a)/2:Math.min(0,o)||Math.max(0,a))}function iM(){var t,n,e=Kw,r=Jw,i=rM,o=nM,a=eM,u=[0,1/0],s=[[-1/0,-1/0],[1/0,1/0]],c=250,f=Sd,l=(0,ct.A)("start","zoom","end"),h=0;function d(t){t.property("__zoom",tM).on("wheel.zoom",b).on("mousedown.zoom",x).on("dblclick.zoom",w).filter(a).on("touchstart.zoom",M).on("touchmove.zoom",A).on("touchend.zoom touchcancel.zoom",S).style("touch-action","none").style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}function p(t,n){return(n=Math.max(u[0],Math.min(u[1],n)))===t.k?t:new Xw(n,t.x,t.y)}function g(t,n,e){var r=n[0]-e[0]*t.k,i=n[1]-e[1]*t.k;return r===t.x&&i===t.y?t:new Xw(t.k,r,i)}function y(t){return[(+t[0][0]+ +t[1][0])/2,(+t[0][1]+ +t[1][1])/2]}function v(t,n,e){t.on("start.zoom",function(){m(this,arguments).start()}).on("interrupt.zoom end.zoom",function(){m(this,arguments).end()}).tween("zoom",function(){var t=this,i=arguments,o=m(t,i),a=r.apply(t,i),u=null==e?y(a):"function"==typeof e?e.apply(t,i):e,s=Math.max(a[1][0]-a[0][0],a[1][1]-a[0][1]),c=t.__zoom,l="function"==typeof n?n.apply(t,i):n,h=f(c.invert(u).concat(s/c.k),l.invert(u).concat(s/l.k));return function(t){if(1===t)t=l;else{var n=h(t),e=s/n[2];t=new Xw(e,u[0]-n[0]*e,u[1]-n[1]*e)}o.zoom(null,t)}})}function m(t,n,e){return!e&&t.__zooming||new _(t,n)}function _(t,n){this.that=t,this.args=n,this.active=0,this.extent=r.apply(t,n),this.taps=0}function b(){if(e.apply(this,arguments)){var t=m(this,arguments),n=this.__zoom,r=Math.max(u[0],Math.min(u[1],n.k*Math.pow(2,o.apply(this,arguments)))),a=(0,vn.A)(this);if(t.wheel)t.mouse[0][0]===a[0]&&t.mouse[0][1]===a[1]||(t.mouse[1]=n.invert(t.mouse[0]=a)),clearTimeout(t.wheel);else{if(n.k===r)return;t.mouse=[a,n.invert(a)],jn(this),t.start()}Qw(),t.wheel=setTimeout(function(){t.wheel=null,t.end()},150),t.zoom("mouse",i(g(p(n,r),t.mouse[0],t.mouse[1]),t.extent,s))}}function x(){if(!n&&e.apply(this,arguments)){var t=m(this,arguments,!0),r=(0,yn.A)(gn.f0.view).on("mousemove.zoom",function(){if(Qw(),!t.moved){var n=gn.f0.clientX-a,e=gn.f0.clientY-u;t.moved=n*n+e*e>h}t.zoom("mouse",i(g(t.that.__zoom,t.mouse[0]=(0,vn.A)(t.that),t.mouse[1]),t.extent,s))},!0).on("mouseup.zoom",function(){r.on("mousemove.zoom mouseup.zoom",null),(0,ft.y)(gn.f0.view,t.moved),Qw(),t.end()},!0),o=(0,vn.A)(this),a=gn.f0.clientX,u=gn.f0.clientY;(0,ft.A)(gn.f0.view),Zw(),t.mouse=[o,this.__zoom.invert(o)],jn(this),t.start()}}function w(){if(e.apply(this,arguments)){var t=this.__zoom,n=(0,vn.A)(this),o=t.invert(n),a=t.k*(gn.f0.shiftKey?.5:2),u=i(g(p(t,a),n,o),r.apply(this,arguments),s);Qw(),c>0?(0,yn.A)(this).transition().duration(c).call(v,u,n):(0,yn.A)(this).call(d.transform,u)}}function M(){if(e.apply(this,arguments)){var n,r,i,o,a=gn.f0.touches,u=a.length,s=m(this,arguments,gn.f0.changedTouches.length===u);for(Zw(),r=0;r<u;++r)i=a[r],o=[o=(0,pn.A)(this,a,i.identifier),this.__zoom.invert(o),i.identifier],s.touch0?s.touch1||s.touch0[2]===o[2]||(s.touch1=o,s.taps=0):(s.touch0=o,n=!0,s.taps=1+!!t);t&&(t=clearTimeout(t)),n&&(s.taps<2&&(t=setTimeout(function(){t=null},500)),jn(this),s.start())}}function A(){if(this.__zooming){var n,e,r,o,a=m(this,arguments),u=gn.f0.changedTouches,c=u.length;for(Qw(),t&&(t=clearTimeout(t)),a.taps=0,n=0;n<c;++n)e=u[n],r=(0,pn.A)(this,u,e.identifier),a.touch0&&a.touch0[2]===e.identifier?a.touch0[0]=r:a.touch1&&a.touch1[2]===e.identifier&&(a.touch1[0]=r);if(e=a.that.__zoom,a.touch1){var f=a.touch0[0],l=a.touch0[1],h=a.touch1[0],d=a.touch1[1],y=(y=h[0]-f[0])*y+(y=h[1]-f[1])*y,v=(v=d[0]-l[0])*v+(v=d[1]-l[1])*v;e=p(e,Math.sqrt(y/v)),r=[(f[0]+h[0])/2,(f[1]+h[1])/2],o=[(l[0]+d[0])/2,(l[1]+d[1])/2]}else{if(!a.touch0)return;r=a.touch0[0],o=a.touch0[1]}a.zoom("touch",i(g(e,r,o),a.extent,s))}}function S(){if(this.__zooming){var t,e,r=m(this,arguments),i=gn.f0.changedTouches,o=i.length;for(Zw(),n&&clearTimeout(n),n=setTimeout(function(){n=null},500),t=0;t<o;++t)e=i[t],r.touch0&&r.touch0[2]===e.identifier?delete r.touch0:r.touch1&&r.touch1[2]===e.identifier&&delete r.touch1;if(r.touch1&&!r.touch0&&(r.touch0=r.touch1,delete r.touch1),r.touch0)r.touch0[1]=this.__zoom.invert(r.touch0[0]);else if(r.end(),2===r.taps){var a=(0,yn.A)(this).on("dblclick.zoom");a&&a.apply(this,arguments)}}}return d.transform=function(t,n,e){var r=t.selection?t.selection():t;r.property("__zoom",tM),t!==r?v(t,n,e):r.interrupt().each(function(){m(this,arguments).start().zoom(null,"function"==typeof n?n.apply(this,arguments):n).end()})},d.scaleBy=function(t,n,e){d.scaleTo(t,function(){return this.__zoom.k*("function"==typeof n?n.apply(this,arguments):n)},e)},d.scaleTo=function(t,n,e){d.transform(t,function(){var t=r.apply(this,arguments),o=this.__zoom,a=null==e?y(t):"function"==typeof e?e.apply(this,arguments):e,u=o.invert(a),c="function"==typeof n?n.apply(this,arguments):n;return i(g(p(o,c),a,u),t,s)},e)},d.translateBy=function(t,n,e){d.transform(t,function(){return i(this.__zoom.translate("function"==typeof n?n.apply(this,arguments):n,"function"==typeof e?e.apply(this,arguments):e),r.apply(this,arguments),s)})},d.translateTo=function(t,n,e,o){d.transform(t,function(){var t=r.apply(this,arguments),a=this.__zoom,u=null==o?y(t):"function"==typeof o?o.apply(this,arguments):o;return i(Ww.translate(u[0],u[1]).scale(a.k).translate("function"==typeof n?-n.apply(this,arguments):-n,"function"==typeof e?-e.apply(this,arguments):-e),t,s)},o)},_.prototype={start:function(){return 1===++this.active&&(this.that.__zooming=this,this.emit("start")),this},zoom:function(t,n){return this.mouse&&"mouse"!==t&&(this.mouse[1]=n.invert(this.mouse[0])),this.touch0&&"touch"!==t&&(this.touch0[1]=n.invert(this.touch0[0])),this.touch1&&"touch"!==t&&(this.touch1[1]=n.invert(this.touch1[0])),this.that.__zoom=n,this.emit("zoom"),this},end:function(){return 0===--this.active&&(delete this.that.__zooming,this.emit("end")),this},emit:function(t){(0,gn.ex)(new jw(d,t,this.that.__zoom),l.apply,l,[t,this.that,this.args])}},d.wheelDelta=function(t){return arguments.length?(o="function"==typeof t?t:Hw(+t),d):o},d.filter=function(t){return arguments.length?(e="function"==typeof t?t:Hw(!!t),d):e},d.touchable=function(t){return arguments.length?(a="function"==typeof t?t:Hw(!!t),d):a},d.extent=function(t){return arguments.length?(r="function"==typeof t?t:Hw([[+t[0][0],+t[0][1]],[+t[1][0],+t[1][1]]]),d):r},d.scaleExtent=function(t){return arguments.length?(u[0]=+t[0],u[1]=+t[1],d):[u[0],u[1]]},d.translateExtent=function(t){return arguments.length?(s[0][0]=+t[0][0],s[1][0]=+t[1][0],s[0][1]=+t[0][1],s[1][1]=+t[1][1],d):[[s[0][0],s[0][1]],[s[1][0],s[1][1]]]},d.constrain=function(t){return arguments.length?(i=t,d):i},d.duration=function(t){return arguments.length?(c=+t,d):c},d.interpolate=function(t){return arguments.length?(f=t,d):f},d.on=function(){var t=l.on.apply(l,arguments);return t===l?d:t},d.clickDistance=function(t){return arguments.length?(h=(t=+t)*t,d):Math.sqrt(h)},d}function oM(){const t=function(){const t=navigator.userAgent;let n,e=t.match(/(opera|chrome|safari|firefox|msie|trident(?=\/))\/?\s*(\d+)/i)||[];return/trident/i.test(e[1])?(n=/\brv[ :]+(\d+)/g.exec(t)||[],"IE "+(n[1]||"")):"Chrome"===e[1]&&(n=t.match(/\b(OPR|Edge)\/(\d+)/),null!==n)?n.slice(1).join(" ").replace("OPR","Opera"):(e=e[2]?[e[1],e[2]]:[navigator.appName,navigator.appVersion,"-?"],null!==(n=t.match(/version\/(\d+)/i))&&e.splice(1,1,n[1]),e.join(" "))}();return"IE 11"==t||"MSIE"===t.substring(0,4)}$w.prototype=Xw.prototype;class aM{constructor(t,n,e){this.containerid=t,this.svgid=n,this.clsName=e.clsName,this.position=e.position,this.fixed=e.fixed,this.delay_over=e.delay_over,this.delay_out=e.delay_out,this.tooltips=e.tooltips?e.tooltips:{},this.hidden=Array.isArray(e.hidden)?e.hidden:[e.hidden],this.on=!1}init(t){if(!t.length)return!1;let n=null;n=this.fixed?this.fixed&&this.position.includes("bottom")?L_.select("#"+this.containerid+" .girafe_container_std").append("div").attr("id",this.svgid+"_toolbar").classed(this.clsName,!0).attr("data-forsvg",this.svgid):L_.select("#"+this.containerid+" .girafe_container_std").insert("div",":first-child").attr("id",this.svgid+"_toolbar").classed(this.clsName,!0).attr("data-forsvg",this.svgid):L_.select("#"+this.containerid+" .girafe_container_std").append("div").attr("id",this.svgid+"_toolbar").classed(this.clsName,!0).classed(this.clsName+"-floating",!0).classed(this.clsName+"-floating-"+this.position,!0).attr("data-forsvg",this.svgid),n.classed(this.clsName+"-"+this.position,!0);const e=this,r=t.map(t=>t.getButtons().map(t=>t.block)).flat().filter((t,n,e)=>e.indexOf(t)===n).filter(t=>!e.hidden.includes(t));if(!r.length)return n.remove(),!1;const i={};return r.forEach(function(t){i[t]=n.append("xhtml:div").classed(e.clsName+"-block",!0).classed(e.clsName+"-block-"+t,!0).attr("data-forsvg",e.svgid)}),t.forEach(function(t){t.getButtons().forEach(function(t){if(!e.hidden.includes(t.key)&&!e.hidden.includes(t.block)){const n=t.states;let r=t.key,o=t;t.states&&(r=t.current_state,o=n[r]),e.tooltips[r]&&(o.tooltip=e.tooltips[r]),i[t.block].append("xhtml:a").classed(e.clsName+"-icon",!0).classed(e.clsName+"-icon-"+t.key,!0).classed(o.class,!0).classed(o.unclass,!1).attr("title",o.tooltip).attr("data-forsvg",e.svgid).html(o.icon).datum(n).on("click",t.onclick)}})}),!!n.selectAll("."+this.clsName+"-icon").size()||(n.remove(),!1)}destroy(){const t=L_.select("#"+this.svgid+"_toolbar");try{t.selectAll("."+this.clsName+"-icon").on("click",null)}catch(t){console.error(t)}t.remove()}clear(t){this.fixed||!this.on||this.isValidTarget(t.relatedTarget)||(this.on=!1,L_.select("#"+this.containerid).select("."+this.clsName).transition().duration(this.delay_out).style("opacity",0))}isValidTarget(t){return t&&t.getAttribute("data-forsvg")===this.svgid}applyOn(){this.fixed||this.on||(this.on=!0,L_.select("#"+this.svgid+"_toolbar").transition().duration(this.delay_over).style("opacity",.8))}}class uM{constructor(t,n){this.svgid=t,this.min=n.min,this.max=n.max,this.duration=n.duration,this.tooltips=n.tooltips||{},this.default_on=n.default_on||!1,this.zoomer=null,this.on=!1}init(){return!(this.max<=this.min||(this.zoomer=iM().scaleExtent([this.min,this.max]).duration(this.duration),this.on=!1,this.default_on&&setTimeout(()=>{this.zoomOn(),this.updateButtonState()},100),0))}destroy(){this.zoomOff(),this.zoomer=null}getButtons(){const t=this;return[{key:"zoom_onoff",block:"zoom",current_state:"zoom_on",states:{zoom_on:{class:"neutral",unclass:"drop",tooltip:"activate pan/zoom",icon:"<svg xmlns='http://www.w3.org/2000/svg' role='img' viewBox='0 0 512 512'><g><ellipse ry='150' rx='150' cy='213' cx='203.5' stroke-width='50' fill='transparent'/><line y2='455.5' x2='416' y1='331.5' x1='301' stroke-width='50'/></g></svg>"},zoom_off:{class:"drop",unclass:"neutral",tooltip:"deactivate pan/zoom",icon:"<svg xmlns='http://www.w3.org/2000/svg' role='img' viewBox='0 0 512 512'><g><ellipse ry='150' rx='150' cy='213' cx='203.5' stroke-width='50' fill='transparent'/><line y2='455.5' x2='416' y1='331.5' x1='301' stroke-width='50'/><line y2='455' x2='0' y1='0' x1='416' stroke-width='30'/></g></svg>"}},onclick:function(n){const e=L_.select(this);let r,i;t.on?(t.zoomOff(),r=n.zoom_on,i="zoom_on"):(t.zoomOn(),r=n.zoom_off,i="zoom_off");const o=t.tooltips[i]||r.tooltip;e.attr("title",o).classed(r.class,!0).classed(r.unclass,!1).html(r.icon)}},{key:"zoom_rect",block:"zoom",class:"neutral",tooltip:"zoom with rectangle",icon:"<svg xmlns='http://www.w3.org/2000/svg' role='img' viewBox='0 0 512 512'><g><ellipse ry='150' rx='150' cy='213' cx='203.5' stroke-width='50' fill='transparent'/><line y2='455.5' x2='416' y1='331.5' x1='301' stroke-width='50'/><rect x='126' y='153' width='152' height='116' stroke-width='25' fill='transparent'/></g></svg>",onclick:function(){t.zoomRect()}},{key:"zoom_reset",block:"zoom",class:"neutral",tooltip:"reset pan/zoom",icon:"<svg xmlns='http://www.w3.org/2000/svg' role='img' viewBox='0 0 512 512'><g><polygon points='274,209.7 337.9,145.9 288,96 416,96 416,224 366.1,174.1 302.3,238 '/><polygon points='274,302.3 337.9,366.1 288,416 416,416 416,288 366.1,337.9 302.3,274'/><polygon points='238,302.3 174.1,366.1 224,416 96,416 96,288 145.9,337.9 209.7,274'/><polygon points='238,209.7 174.1,145.9 224,96 96,96 96,224 145.9,174.1 209.7,238'/></g></svg>",onclick:function(){t.zoomIdentity()}}]}zoomOn(){if(!this.on){this.on=!0;const t=L_.select("#"+this.svgid+"_rootg");L_.select("#"+this.svgid).call(this.zoomer.on("start",function(){t.style("cursor","move")}).on("zoom",function(){t.attr("transform",L_.event.transform)}).on("end",function(){t.style("cursor","auto")}))}}zoomIdentity(){const t=$w(L_.select("#"+this.svgid+"_rootg").node());if(1===t.k&&0===t.x&&0===t.y)return;const n=this.on;n||this.zoomOn();const e=this;L_.select("#"+this.svgid).transition().duration(this.duration).on("end",function(){n||e.zoomOff()}).call(this.zoomer.transform,Ww)}zoomOff(){this.on&&(this.on=!1,L_.select("#"+this.svgid).on(".zoom",null))}updateButtonState(){const t=L_.select(".ggiraph-toolbar-icon-zoom_onoff");if(!t.empty()){const n=t.datum();if(n){const e=this.on?n.zoom_off:n.zoom_on,r=this.on?"zoom_off":"zoom_on",i=this.tooltips[r]||e.tooltip;t.attr("title",i).classed(e.class,!0).classed(e.unclass,!1).html(e.icon)}}}zoomRect(){const t=this.on;t||this.zoomOn();const n=L_.select("#"+this.svgid),e=L_.select("#"+this.svgid+"_rootg"),r=this,i=function(){let t;const n=new DOMRect,e={start:function(){},draw:function(){},end:function(){}};function r(r){const i=r.append("g").attr("class","dragrect").append("rect");let o,a;const u=Yi.drag().on("start",function(){o=null,a=null,e.start()}).on("drag",function(){const t=L_.mouse(this)[0],r=L_.mouse(this)[1];o?(a.x=t,a.y=r):(o=new DOMPoint(t,r),a=new DOMPoint(t,r));const u=Math.min(o.x,a.x),s=Math.max(o.x,a.x),c=Math.min(o.y,a.y),f=Math.max(o.y,a.y);n.x=u,n.y=c,n.width=s-u,n.height=f-c,i.attr("x",n.x),i.attr("y",n.y),i.attr("width",n.width),i.attr("height",n.height),e.draw()}).on("end",function(){i.attr("display","none"),e.end()});t.call(u)}return r.on=function(t,n){return arguments.length?1===arguments.length?e[t]:(["start","draw","end"].indexOf(t)>-1&&(e[t]=n),r):e},r.targetArea=function(n){return arguments.length?(t=n,r):t},r.rect=function(){return n},r}(),o=function(){e.style("cursor","zoom-in")},a=function(){try{e.style("cursor","auto"),e.on(".dragstart",null).on(".drag",null).on(".dragend",null),e.selectAll("g.dragrect").remove();const o=i.rect(),a=10;if(o.width>=a&&o.height>=a){const i=o.x+o.width/2,a=o.y+o.height/2,u=e.node().getBBox(),s=u.x+u.width/2,c=u.y+u.height/2,f=u.width/u.height;o.height>o.width?(o.width=o.height*f,o.x=i-o.width/2):(o.height=o.width/f,o.y=a-o.height/2);const l=Math.max(Math.min(u.width/o.width,r.max),r.min);o.width=u.width/l,o.height=u.height/l,o.x=i-o.width/2,o.y=a-o.height/2;const h=(s-i-(u.width-o.width)/2)*l,d=(c-a-(u.height-o.height)/2)*l;n.transition().duration(r.duration).on("end",function(){t||r.zoomOff()}).call(r.zoomer.transform,Ww.translate(h,d).scale(l))}}catch(t){console.error(t)}};try{e.call(i.targetArea(e).on("start",o).on("end",a))}catch(t){console.error(t)}}}function sM(t){const n=t.ownerDocument,e=n.documentElement,r=n.defaultView;return new window.DOMRect(r.pageXOffset||e.scrollLeft||0,r.pageYOffset||e.scrollTop||0,Math.max(e.clientWidth||0,r.innerWidth||0),Math.max(e.clientHeight||0,r.innerHeight||0))}function cM(t){const n=new window.DOMMatrix;let e=n,r=t;const i=t.ownerDocument.defaultView||window,o=sM(t);for(;null!=r&&r!==r.ownerDocument.documentElement;){const t=i.getComputedStyle(r,void 0).transform||"none";e=("none"===t?n:new window.DOMMatrix(t)).multiply(e),r=r.parentNode}const a=t.offsetWidth,u=t.offsetHeight,s=new window.DOMPoint(0,0).matrixTransform(e),c=new window.DOMPoint(a,0).matrixTransform(e),f=new window.DOMPoint(a,u).matrixTransform(e),l=new window.DOMPoint(0,u).matrixTransform(e),h=Math.min(s.x,c.x,f.x,l.x),d=Math.min(s.y,c.y,f.y,l.y),p=t.getBoundingClientRect();return e=n.translate(o.x+p.left-h,o.y+p.top-d,0).multiply(e),e}function fM(t,n){return Math.sqrt(Math.pow(n.x-t.x,2)+Math.pow(n.y-t.y,2))}function lM(t,n,e){if(n.x===e.x&&n.y===e.y)return fM(t,n);const r=function(t,n){return Math.pow(n.x-t.x,2)+Math.pow(n.y-t.y,2)}(n,e),i=((t.x-n.x)*(e.x-n.x)+(t.y-n.y)*(e.y-n.y))/r;if(i<=0)return fM(t,n);if(i>=1)return fM(t,e);const o=((n.y-t.y)*(e.x-n.x)-(n.x-t.x)*(e.y-n.y))/r;return Math.abs(o)*Math.sqrt(r)}function hM(t,n,e,r,i,o,a,u){let s=!1;const c=(u-o)*(e-t)-(a-i)*(r-n);let f=(a-i)*(n-o)-(u-o)*(t-i),l=(e-t)*(n-o)-(r-n)*(t-i);return 0==c?0==f&&(t==e?n<o&&Math.max(n,r)<Math.min(o,u)||o<n&&Math.max(o,u)<Math.min(n,r)||(s=!0):t<i&&Math.max(t,e)<Math.min(i,a)||i<t&&Math.max(i,a)<Math.min(t,e)||(s=!0)):(f/=c,l/=c,f>0&&f<1&&l>0&&l<1&&(s=!0)),s}function dM(t,n){const e=t.x,r=t.y,i=t.x+t.width,o=t.y+t.height;if(n.find(t=>t.x>=e&&t.x<=i&&t.y>=r&&t.y<=o))return!0;if(1===n.length&&n[0].r){const e=n[0],r=Math.abs(e.x-(t.x+t.width/2)),i=Math.abs(e.y-(t.y+t.height/2));return!(r>t.width/2+e.r)&&(!(i>t.height/2+e.r)&&(r<=t.width/2||(i<=t.height/2||(r-t.width/2^i-t.height/2+2^2)<=(2^e.r))))}if(n.length>1){let t,a;for(t=0;t<n.length;t++)if(a=t+1,a==n.length&&(a=0),hM(e,r,i,o,n[t].x,n[t].y,n[a].x,n[a].y))return!0}return!1}function pM(t){let n,e,r,i,o,a;const u=new RegExp("([\\d\\.]+) ([\\d\\.]+)","g");if(t instanceof SVGRect||t instanceof DOMRect)return[new DOMPoint(t.x,t.y),new DOMPoint(t.x+t.width,t.y),new DOMPoint(t.x+t.width,t.y+t.height),new DOMPoint(t.x,t.y+t.height)];if(t instanceof SVGRectElement||t instanceof SVGImageElement)return[new DOMPoint(t.x.baseVal.value,t.y.baseVal.value),new DOMPoint(t.x.baseVal.value+t.width.baseVal.value,t.y.baseVal.value),new DOMPoint(t.x.baseVal.value+t.width.baseVal.value,t.y.baseVal.value+t.height.baseVal.value),new DOMPoint(t.x.baseVal.value,t.y.baseVal.value+t.height.baseVal.value)];if(t instanceof SVGCircleElement)return e=new DOMPoint(t.cx.baseVal.value,t.cy.baseVal.value),e.r=t.r.baseVal.value,[e];if(t instanceof SVGLineElement)return n=[new DOMPoint(t.x1.baseVal.value,t.y1.baseVal.value),new DOMPoint(t.x2.baseVal.value,t.y2.baseVal.value)],n.shape="polyline",n;if(t instanceof SVGPolylineElement||t instanceof SVGPolygonElement){for(n=[],r=t.points,i=0;i<r.length;i++)e=r.getItem(i),e instanceof DOMPoint||(e=new DOMPoint(e.x,e.y)),n.push(e);return n.shape=t instanceof SVGPolylineElement?"polyline":"polygon",n}if(t instanceof SVGPathElement){for(n=[],o=t.getAttribute("d");null!==(a=u.exec(o));)n.push(new DOMPoint(parseFloat(a[1]),parseFloat(a[2])));return n}throw"Error in extractPoints: unimplemented object type: "+Object.prototype.toString.call(t)}function gM(t){const n=t.map(t=>t.x),e=t.map(t=>t.y);return{minx:Math.min.apply(null,n),maxx:Math.max.apply(null,n),miny:Math.min.apply(null,e),maxy:Math.max.apply(null,e)}}function yM(t,n){const e=n.createSVGRect();return e.x=t.minx,e.y=t.miny,e.width=t.maxx-t.minx,e.height=t.maxy-t.miny,e}function vM(t,n){return yM(gM(t),n)}function mM(t,n,e,r="#ff000033",i="#ff0000"){let o,a=document.getElementById(e);if(Array.isArray(t)&&1===t.length&&(t=t[0]),a?o=a.localName:(o=t.shape||"polygon",t instanceof SVGPoint||t instanceof DOMPoint?o="circle":(t instanceof SVGRect||t instanceof DOMRect)&&(o="rect"),a=document.createElementNS("http://www.w3.org/2000/svg",o),a.setAttribute("id",e),"polyline"!==o&&a.setAttribute("fill",r),a.setAttribute("stroke",i),a.setAttribute("style","pointer-events: none;"),n.appendChild(a)),"circle"===o)a.setAttribute("cx",t.x),a.setAttribute("cy",t.y),a.setAttribute("r",t.r||"3pt");else if("rect"===o)a.setAttribute("x",t.x),a.setAttribute("y",t.y),a.setAttribute("width",t.width),a.setAttribute("height",t.height);else if("polygon"===o||"polyline"===o){let n="";t.forEach(function(t){n+=t.x+" "+t.y+" "}),a.setAttribute("points",n)}return a}window.DOMPoint=window.DOMPoint||class{constructor(t=0,n=0,e=0,r=1){this.x=t,this.y=n,this.z=e,this.w=r}},window.DOMPoint.prototype.matrixTransform=window.DOMPoint.prototype.matrixTransform||function(t){return(t.is2D||t instanceof SVGMatrix)&&0===this.z&&1===this.w?new DOMPoint(this.x*t.a+this.y*t.c+t.e,this.x*t.b+this.y*t.d+t.f,0,1):new DOMPoint(this.x*t.m11+this.y*t.m21+this.z*t.m31+this.w*t.m41,this.x*t.m12+this.y*t.m22+this.z*t.m32+this.w*t.m42,this.x*t.m13+this.y*t.m23+this.z*t.m33+this.w*t.m43,this.x*t.m14+this.y*t.m24+this.z*t.m34+this.w*t.m44)};{class t{constructor(t=0,n=0,e=0,r=0){this.x=t,this.y=n,this.width=e,this.height=r}get top(){return this.y}get left(){return this.x}get right(){return this.x+this.width}get bottom(){return this.y+this.height}}for(const n of["top","right","bottom","left"]){const e=Object.getOwnPropertyDescriptor(t.prototype,n);e.enumerable=!0,Object.defineProperty(t.prototype,n,e)}window.DOMRect=window.DOMRect||t}{const t=0,n=1,e=2,r=3,i=4,o=5,a=6,u=7,s=8,c=9,f=10,l=11,h=12,d=13,p=14,g=15,y=t,v=n,m=i,_=o,b=h,x=d,w=Symbol(),M=Symbol(),A=t=>{let n=t.replace(/matrix\(/,"");if(n=n.split(/,/,7),6!==n.length)throw new Error(`Failed to parse ${t}`);return n=n.map(parseFloat),[n[0],n[1],0,0,n[2],n[3],0,0,0,0,1,0,n[4],n[5],0,1]},S=t=>{let n=t.replace(/matrix3d\(/,"");if(n=n.split(/,/,17),16!==n.length)throw new Error(`Failed to parse ${t}`);return n.map(parseFloat)},E=t=>{const n=t.split(/\(/,1)[0];if("matrix"===n)return A(t);if("matrix3d"===n)return S(t);throw new Error(`${n} parsing not implemented`)},N=(t,n,e)=>{if("number"!=typeof e)throw new TypeError("Expected number");t[w][n]=e},T=(t,n,e)=>{if("number"!=typeof e)throw new TypeError("Expected number");n===f||n===g?1!==e&&(t[M]=!1):0!==e&&(t[M]=!1),t[w][n]=e},k=t=>{const n=Object.create(P.prototype);return n.constructor=P,n[M]=!0,n[w]=t,n},C=(t,n)=>{const e=new Float64Array(16);for(let r=0;r<4;r++)for(let i=0;i<4;i++){let o=0;for(let e=0;e<4;e++)o+=t[4*r+e]*n[4*e+i];e[4*r+i]=o}return e};class P{get m11(){return this[w][t]}set m11(n){N(this,t,n)}get m12(){return this[w][n]}set m12(t){N(this,n,t)}get m13(){return this[w][e]}set m13(t){T(this,e,t)}get m14(){return this[w][r]}set m14(t){T(this,r,t)}get m21(){return this[w][i]}set m21(t){N(this,i,t)}get m22(){return this[w][o]}set m22(t){N(this,o,t)}get m23(){return this[w][a]}set m23(t){T(this,a,t)}get m24(){return this[w][u]}set m24(t){T(this,u,t)}get m31(){return this[w][s]}set m31(t){T(this,s,t)}get m32(){return this[w][c]}set m32(t){T(this,c,t)}get m33(){return this[w][f]}set m33(t){T(this,f,t)}get m34(){return this[w][l]}set m34(t){T(this,l,t)}get m41(){return this[w][h]}set m41(t){N(this,h,t)}get m42(){return this[w][d]}set m42(t){N(this,d,t)}get m43(){return this[w][p]}set m43(t){T(this,p,t)}get m44(){return this[w][g]}set m44(t){T(this,g,t)}get a(){return this[w][y]}set a(t){N(this,y,t)}get b(){return this[w][v]}set b(t){N(this,v,t)}get c(){return this[w][m]}set c(t){N(this,m,t)}get d(){return this[w][_]}set d(t){N(this,_,t)}get e(){return this[w][b]}set e(t){N(this,b,t)}get f(){return this[w][x]}set f(t){N(this,x,t)}get is2D(){return this[M]}get isIdentity(){const y=this[w];return 1===y[t]&&0===y[n]&&0===y[e]&&0===y[r]&&0===y[i]&&1===y[o]&&0===y[a]&&0===y[u]&&0===y[s]&&0===y[c]&&1===y[f]&&0===y[l]&&0===y[h]&&0===y[d]&&0===y[p]&&1===y[g]}constructor(A){if(this[M]=!0,this[w]=new Float64Array([1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1]),"string"==typeof A){if(""===A)return;{const t=A.split(/\)\s+/,20).map(E);if(0===t.length)return;A=t[0];for(let n=1;n<t.length;n++)A=C(t[n],A)}}let S=0;if(A&&6===A.length)N(this,y,A[S++]),N(this,v,A[S++]),N(this,m,A[S++]),N(this,_,A[S++]),N(this,b,A[S++]),N(this,x,A[S++]);else if(A&&16===A.length)N(this,t,A[S++]),N(this,n,A[S++]),T(this,e,A[S++]),T(this,r,A[S++]),N(this,i,A[S++]),N(this,o,A[S++]),T(this,a,A[S++]),T(this,u,A[S++]),T(this,s,A[S++]),T(this,c,A[S++]),T(this,f,A[S++]),T(this,l,A[S++]),N(this,h,A[S++]),N(this,d,A[S++]),T(this,p,A[S++]),T(this,g,A[S]);else if(void 0!==A)throw new TypeError("Expected string or array.")}multiply(t){return k(this[w]).multiplySelf(t)}multiplySelf(t){return this[w]=C(t[w],this[w]),t.is2D||(this[M]=!1),this}translate(t,n,e){return k(this[w]).translateSelf(t,n,e)}translateSelf(t=0,n=0,e=0){return this[w]=C([1,0,0,0,0,1,0,0,0,0,1,0,t,n,e,1],this[w]),0!==e&&(this[M]=!1),this}scale(t,n,e,r,i,o){return k(this[w]).scaleSelf(t,n,e,r,i,o)}scale3d(t,n,e,r){return k(this[w]).scale3dSelf(t,n,e,r)}scale3dSelf(t,n,e,r){return this.scaleSelf(t,t,t,n,e,r)}scaleSelf(t,n,e,r,i,o){return"number"!=typeof r&&(r=0),"number"!=typeof i&&(i=0),"number"!=typeof o&&(o=0),this.translateSelf(r,i,o),"number"!=typeof t&&(t=1),"number"!=typeof n&&(n=t),"number"!=typeof e&&(e=1),this[w]=C([t,0,0,0,0,n,0,0,0,0,e,0,0,0,0,1],this[w]),this.translateSelf(-r,-i,-o),1===e&&0===o||(this[M]=!1),this}inverse(){return k(this[w]).invertSelf()}invertSelf(){if(!this[M])throw new Error("3D matrix inversion is not implemented.");{const t=this[w][y]*this[w][_]-this[w][v]*this[w][m];if(0!==t){const n=new P;return n.a=this[w][_]/t,n.b=-this[w][v]/t,n.c=-this[w][m]/t,n.d=this[w][y]/t,n.e=(this[w][m]*this[w][x]-this[w][_]*this[w][b])/t,n.f=(this[w][v]*this[w][b]-this[w][y]*this[w][x])/t,n}this[M]=!1,this[w]=[NaN,NaN,NaN,NaN,NaN,NaN,NaN,NaN,NaN,NaN,NaN,NaN,NaN,NaN,NaN,NaN]}}}for(const t of["a","b","c","d","e","f","m11","m12","m13","m14","m21","m22","m23","m24","m31","m32","m33","m34","m41","m42","m43","m44","is2D","isIdentity"]){const n=Object.getOwnPropertyDescriptor(P.prototype,t);n.enumerable=!0,Object.defineProperty(P.prototype,t,n)}window.DOMMatrix=window.DOMMatrix||P}class _M{constructor(t,n){this.svgid=t,this.clsName=n.classPrefix+"_"+this.svgid,this.placement=n.placement,this.opacity=n.opacity,this.offx=n.offx,this.offy=n.offy,this.use_cursor_pos=n.use_cursor_pos,this.use_fill=n.use_fill,this.use_stroke=n.use_stroke,this.delay_over=n.delay_over,this.delay_out=n.delay_out,this.lastTargetId=null}init(){const t=document.getElementById(this.svgid+"_rootg");if(!t.querySelector("*[title]"))return!1;let n;return L_.select("."+this.clsName).remove(),n="doc"==this.placement?L_.select("body"):L_.select(t.ownerSVGElement.parentNode),n.append("xhtml:div").classed(this.clsName,!0).style("position","absolute").style("opacity",0),this.decodingTextarea=document.createElementNS("http://www.w3.org/1999/xhtml","textarea"),!0}destroy(){this.lastTargetId=null,L_.select("."+this.clsName).remove()}clear(){this.lastTargetId&&(this.lastTargetId=null,L_.select("div."+this.clsName).transition().duration(this.delay_out).style("opacity",0).on("end",function(){L_.select(this).style("left","0px").style("top","0px")}))}isValidTarget(t){return t instanceof SVGGraphicsElement&&!(t instanceof SVGSVGElement)&&t.hasAttribute("title")}applyOn(t,n){try{if(this.isValidTarget(t)){const e=new DOMPoint(n.pageX,n.pageY),r=L_.select("div."+this.clsName);let i;if(t.id===this.lastTargetId)i=this.calculatePosition(r,t,e),r.style("left",i.x+"px").style("top",i.y+"px");else{if(this.lastTargetId=t.id,this.use_fill){let n=t.getAttribute("tooltip_fill");n||(n=t.getAttribute("fill")),n&&r.style("background-color",n)}this.use_stroke&&r.style("border-color",t.getAttribute("stroke")),r.html(this.decodeContent(t.getAttribute("title"))),i=this.calculatePosition(r,t,e),r.style("left",i.x+"px").style("top",i.y+"px").transition().duration(this.delay_over).style("opacity",this.opacity)}return!0}}catch(t){console.error(t)}return!1}decodeContent(t){return this.decodingTextarea.innerHTML=t,this.decodingTextarea.value}calculatePosition(t,n,e){let r,i;const o=n.ownerSVGElement,a=t.node(),u=o.parentNode;if(this.use_cursor_pos){const t=Math.ceil(a.offsetWidth),s=Math.ceil(a.offsetHeight),c=sM(o);let f=new DOMPoint(c.left,c.top),l=new DOMPoint(c.right,c.bottom);r=e,"doc"!=this.placement&&(i=cM(u).inverse(),r=r.matrixTransform(i),f=f.matrixTransform(i),l=l.matrixTransform(i));const h=n.getBoundingClientRect(),d=[],p=l.x-(r.x+this.offx),g=r.x-this.offx-f.x;p>=t&&d.push(Math.max(f.x,r.x+this.offx)),g>=t&&d.push(Math.min(l.x-t,r.x-this.offx-t)),d.push(Math.max(f.x,Math.min(l.x,r.x+t/2)-t));const y=[],v=l.y-(r.y+this.offy),m=r.y-this.offy-f.y;v>=s&&y.push(Math.max(f.y,r.y+this.offy)),m>=s&&y.push(Math.min(l.y-s,r.y-this.offy-s)),y.push(Math.max(f.y,Math.min(l.y,r.y+s/2)-s));const _=[];d.forEach(function(n){y.forEach(function(e){_.push(new DOMRect(n,e,t,s))})});let b=_.find(t=>{return e=h,!((n=t).x<=e.x&&n.x+n.width>=e.x+e.width&&n.y<=e.y&&n.y+n.height>=e.y+e.height);var n,e});b||(b=_[0]),r.x=b.x,r.y=b.y}else r=new DOMPoint(this.offx,this.offy),"doc"==this.placement&&(i=cM(u),r=r.matrixTransform(i));return r}}class bM{constructor(t,n){this.svgid=t,this.clsName=n.classPrefix+"_"+t,this.invClsName=n.invClassPrefix?n.invClassPrefix+"_"+t:null,this.attrName=n.attrName,this.shinyInputId=n.shinyInputId,this.shinyMessageId=n.shinyMessageId,this.nodeIds=[],this.dataHovered=[],this.lastTargetId=null}init(){const t=document.getElementById(this.svgid+"_rootg").querySelectorAll("*["+this.attrName+"]");if(!t.length)return!1;this.nodeIds=Array(t.length);let n=0;t.forEach(function(t){this.nodeIds[n++]=t.id},this);const e=this;return this.shinyMessageId&&Shiny.addCustomMessageHandler(this.shinyMessageId,function(t){"string"==typeof t?e.setHovered([t]):Array.isArray(t)&&e.setHovered(t)}),!0}destroy(){if(this.lastTargetId=null,this.nodeIds=[],this.shinyMessageId)try{Shiny.addCustomMessageHandler(this.shinyMessageId,function(t){})}catch(t){console.error(t)}this.dataHovered=[]}clear(){this.lastTargetId&&(this.lastTargetId=null,this.setHovered([]))}isValidTarget(t){return t instanceof SVGGraphicsElement&&!(t instanceof SVGSVGElement)&&t.hasAttribute(this.attrName)}applyOn(t,n){try{if(this.isValidTarget(t))return t.id!==this.lastTargetId&&(this.lastTargetId=t.id,this.setHovered([t.getAttribute(this.attrName)])),!0}catch(t){console.error(t)}return!1}setHovered(t){this.dataHovered.length===t.length&&this.dataHovered.every(n=>t.includes(n))||(this.dataHovered=t,this.refreshHovered(),this.shinyInputId&&Shiny.onInputChange(this.shinyInputId,this.dataHovered))}refreshHovered(){let t,n,e;this.nodeIds.forEach(function(r){t=document.getElementById(r),t&&(n=this.dataHovered.includes(t.getAttribute(this.attrName)),e=L_.select(t),e.classed(this.clsName,n),this.invClsName&&(this.dataHovered.length?e.classed(this.invClsName,!n):e.classed(this.invClsName,!1)))},this)}}var xM=e(636);window.d3=t;class wM{constructor(t,n){this.svgid=t,this.clsName=n.classPrefix+"_"+t,this.invClsName=n.invClassPrefix?n.invClassPrefix+"_"+t:null,this.attrName=n.attrName,this.shinyInputId=n.shinyInputId,this.shinyMessageId=n.shinyMessageId,this.type=n.type,this.initialSelection=n.selected,this.nodeIds=[],this.dataSelected=[]}init(){if("single"!==this.type&&"multiple"!==this.type)return!1;const t=document.getElementById(this.svgid+"_rootg").querySelectorAll("*["+this.attrName+"]");if(!t.length)return!1;const n=this;this.nodeIds=Array(t.length);let e=0;return t.forEach(function(t){this.nodeIds[e++]=t.id},this),this.shinyMessageId&&Shiny.addCustomMessageHandler(this.shinyMessageId,function(t){"string"==typeof t?n.setSelected([t]):Array.isArray(t)&&n.setSelected(t)}),"string"==typeof this.initialSelection?this.setSelected([this.initialSelection]):Array.isArray(this.initialSelection)&&"multiple"==this.type&&this.setSelected(this.initialSelection),this.initialSelection=null,!0}destroy(){if(this.nodeIds=[],this.dataSelected=[],this.shinyMessageId)try{Shiny.addCustomMessageHandler(this.shinyMessageId,function(t){})}catch(t){console.error(t)}}getButtons(){const t=this;return[{key:"lasso_select",block:"selection",class:"neutral",tooltip:"lasso selection",icon:"<svg xmlns='http://www.w3.org/2000/svg' role='img' viewBox='0 0 230 230'><g><ellipse ry='65.5' rx='86.5' cy='94' cx='115.5' stroke-width='20' fill='transparent'/><ellipse ry='11.500001' rx='10.5' cy='153' cx='91.5' stroke-width='20' fill='transparent'/><line y2='210.5' x2='105' y1='164.5' x1='96' stroke-width='20'/></g></svg>",onclick:function(){t.lasso(!0)}},{key:"lasso_deselect",block:"selection",class:"drop",tooltip:"lasso deselection",icon:"<svg xmlns='http://www.w3.org/2000/svg' role='img' viewBox='0 0 230 230'><g><ellipse ry='65.5' rx='86.5' cy='94' cx='115.5' stroke-width='20' fill='transparent'/><ellipse ry='11.500001' rx='10.5' cy='153' cx='91.5' stroke-width='20' fill='transparent'/><line y2='210.5' x2='105' y1='164.5' x1='96' stroke-width='20'/></g></svg>",onclick:function(){t.lasso(!1)}}]}clear(){this.setSelected([])}isValidTarget(t){return t instanceof SVGGraphicsElement&&!(t instanceof SVGSVGElement)&&t.hasAttribute(this.attrName)}applyOn(t,n){try{if(this.isValidTarget(t)){const n=t.getAttribute(this.attrName);let e=Array.from(this.dataSelected);const r=e.indexOf(n);return"multiple"==this.type?r<0?e.push(n):e.splice(r,1):e=r<0?[n]:[],this.setSelected(e),!0}}catch(t){console.error(t)}return!1}setSelected(t){this.dataSelected.length===t.length&&this.dataSelected.every(n=>t.includes(n))||(this.dataSelected=t,this.refreshSelected(),this.shinyInputId&&Shiny.onInputChange(this.shinyInputId,this.dataSelected))}refreshSelected(){let t,n,e;this.nodeIds.forEach(function(r){t=document.getElementById(r),t&&(n=this.dataSelected.includes(t.getAttribute(this.attrName)),e=L_.select(t),e.classed(this.clsName,n),this.invClsName&&(this.dataSelected.length?e.classed(this.invClsName,!n):e.classed(this.invClsName,!1)))},this)}lasso(t){const n=L_.select("#"+this.svgid+"_rootg"),e=this;let r=(0,xM.lasso)();const i=function(){n.style("cursor","crosshair")},o=function(){},a=function(){try{n.style("cursor","auto"),n.on(".dragstart",null).on(".drag",null).on(".dragend",null),n.selectAll("g.lasso").remove();const i=Array.from(e.dataSelected);r.selectedItems().each(function(n,r){const o=this.getAttribute(e.attrName),a=i.indexOf(o);a<0&&t?i.push(o):a>=0&&!t&&i.splice(a,1)}),e.setSelected(i)}catch(t){console.error(t)}};try{r=r.closePathSelect(!0).closePathDistance(100).items(n.selectAll("*["+this.attrName+"]")).targetArea(n).on("start",i).on("draw",o).on("end",a),n.call(r)}catch(t){console.error(t)}}}const MM=["mouseover","mouseout","mousemove","mousedown","wheel","click","nearest"];class AM{constructor(t,n,e){this.svgid=t,this.handlers=n,this.nearestHandler=e}init(){if(this.event_types=MM.filter(t=>"nearest"!==t).filter(t=>this.handlers.get(t)&&this.handlers.get(t).length),!this.event_types.length)return!1;this.handlers.get("nearest")&&this.handlers.get("nearest").length||(this.nearestHandler=null);const t=document.getElementById(this.svgid);let n;return this.event_types.forEach(function(e){n="mousemove"!==e,t.addEventListener(e,this,n)},this),!0}destroy(){try{const t=document.getElementById(this.svgid);this.event_types.forEach(function(n){t.removeEventListener(n,this)},this)}catch(t){console.error(t)}}handleEvent(t){try{const n=t.target;let e=!1,r=null;"mouseout"===t.type?this.handlers.get(t.type).forEach(n=>n.clear(t)):"mouseover"!==t.type||t.buttons?"mousemove"!==t.type||t.buttons?"mousedown"===t.type||"wheel"===t.type?this.handlers.get(t.type).forEach(n=>n.clear(t)):"click"===t.type&&this.svgid!==n.id&&this.handlers.get(t.type).map(e=>e.applyOn(n,t)):(this.svgid!==n.id&&(e=this.handlers.get(t.type).map(e=>e.applyOn(n,t)).find(t=>!!t)),this.nearestHandler&&!e&&(t.fromNearest=!0,r=this.nearestHandler.applyOn(n,t),r?this.handlers.get("nearest").forEach(n=>n.applyOn(r,t)):this.handlers.get("nearest").forEach(n=>n.clear(t)))):this.handlers.get(t.type).forEach(e=>e.applyOn(n,t))}catch(t){console.error(t)}}}class SM{constructor(){this.ids=[],this.values=[],this.length=0}clear(){this.length=0}push(t,n){let e=this.length++;for(;e>0;){const t=e-1>>1,r=this.values[t];if(n>=r)break;this.ids[e]=this.ids[t],this.values[e]=r,e=t}this.ids[e]=t,this.values[e]=n}pop(){if(0===this.length)return;const t=this.ids,n=this.values,e=t[0],r=--this.length;if(r>0){const e=t[r],i=n[r];let o=0;const a=r>>1;for(;o<a;){const e=1+(o<<1),a=e+1,u=e+(+(a<r)&+(n[a]<n[e]));if(n[u]>=i)break;t[o]=t[u],n[o]=n[u],o=u}t[o]=e,n[o]=i}return e}peek(){return this.length>0?this.ids[0]:void 0}peekValue(){return this.length>0?this.values[0]:void 0}shrink(){this.ids.length=this.values.length=this.length}}const EM=[Int8Array,Uint8Array,Uint8ClampedArray,Int16Array,Uint16Array,Int32Array,Uint32Array,Float32Array,Float64Array];class NM{static from(t,n=0){if(n%8!=0)throw new Error("byteOffset must be 8-byte aligned.");if(!t||void 0===t.byteLength||t.buffer)throw new Error("Data must be an instance of ArrayBuffer or SharedArrayBuffer.");const[e,r]=new Uint8Array(t,n+0,2);if(251!==e)throw new Error("Data does not appear to be in a Flatbush format.");const i=r>>4;if(3!==i)throw new Error(`Got v${i} data when expected v3.`);const o=EM[15&r];if(!o)throw new Error("Unrecognized array type.");const[a]=new Uint16Array(t,n+2,1),[u]=new Uint32Array(t,n+4,1);return new NM(u,a,o,void 0,t,n)}constructor(t,n=16,e=Float64Array,r=ArrayBuffer,i,o=0){if(void 0===t)throw new Error("Missing required argument: numItems.");if(isNaN(t)||t<=0)throw new Error(`Unexpected numItems value: ${t}.`);this.numItems=+t,this.nodeSize=Math.min(Math.max(+n,2),65535),this.byteOffset=o;let a=t,u=a;this._levelBounds=[4*a];do{a=Math.ceil(a/this.nodeSize),u+=a,this._levelBounds.push(4*u)}while(1!==a);this.ArrayType=e,this.IndexArrayType=u<16384?Uint16Array:Uint32Array;const s=EM.indexOf(e),c=4*u*e.BYTES_PER_ELEMENT;if(s<0)throw new Error(`Unexpected typed array class: ${e}.`);if(i)this.data=i,this._boxes=new e(i,o+8,4*u),this._indices=new this.IndexArrayType(i,o+8+c,u),this._pos=4*u,this.minX=this._boxes[this._pos-4],this.minY=this._boxes[this._pos-3],this.maxX=this._boxes[this._pos-2],this.maxY=this._boxes[this._pos-1];else{const i=this.data=new r(8+c+u*this.IndexArrayType.BYTES_PER_ELEMENT);this._boxes=new e(i,8,4*u),this._indices=new this.IndexArrayType(i,8+c,u),this._pos=0,this.minX=1/0,this.minY=1/0,this.maxX=-1/0,this.maxY=-1/0,new Uint8Array(i,0,2).set([251,48+s]),new Uint16Array(i,2,1)[0]=n,new Uint32Array(i,4,1)[0]=t}this._queue=new SM}add(t,n,e=t,r=n){const i=this._pos>>2,o=this._boxes;return this._indices[i]=i,o[this._pos++]=t,o[this._pos++]=n,o[this._pos++]=e,o[this._pos++]=r,t<this.minX&&(this.minX=t),n<this.minY&&(this.minY=n),e>this.maxX&&(this.maxX=e),r>this.maxY&&(this.maxY=r),i}finish(){if(this._pos>>2!==this.numItems)throw new Error(`Added ${this._pos>>2} items when expected ${this.numItems}.`);const t=this._boxes;if(this.numItems<=this.nodeSize)return t[this._pos++]=this.minX,t[this._pos++]=this.minY,t[this._pos++]=this.maxX,void(t[this._pos++]=this.maxY);const n=this.maxX-this.minX||1,e=this.maxY-this.minY||1,r=new Uint32Array(this.numItems);for(let i=0,o=0;i<this.numItems;i++){const a=t[o++],u=t[o++],s=t[o++],c=t[o++],f=Math.floor(65535*((a+s)/2-this.minX)/n),l=Math.floor(65535*((u+c)/2-this.minY)/e);r[i]=PM(f,l)}kM(r,t,this._indices,0,this.numItems-1,this.nodeSize);for(let n=0,e=0;n<this._levelBounds.length-1;n++){const r=this._levelBounds[n];for(;e<r;){const n=e;let i=t[e++],o=t[e++],a=t[e++],u=t[e++];for(let n=1;n<this.nodeSize&&e<r;n++)i=Math.min(i,t[e++]),o=Math.min(o,t[e++]),a=Math.max(a,t[e++]),u=Math.max(u,t[e++]);this._indices[this._pos>>2]=n,t[this._pos++]=i,t[this._pos++]=o,t[this._pos++]=a,t[this._pos++]=u}}}search(t,n,e,r,i){if(this._pos!==this._boxes.length)throw new Error("Data not yet indexed - call index.finish().");let o=this._boxes.length-4;const a=[],u=[];for(;void 0!==o;){const s=Math.min(o+4*this.nodeSize,TM(o,this._levelBounds));for(let c=o;c<s;c+=4){const s=this._boxes[c];if(e<s)continue;const f=this._boxes[c+1];if(r<f)continue;const l=this._boxes[c+2];if(t>l)continue;const h=this._boxes[c+3];if(n>h)continue;const d=0|this._indices[c>>2];o>=4*this.numItems?a.push(d):(void 0===i||i(d,s,f,l,h))&&u.push(d)}o=a.pop()}return u}neighbors(t,n,e=1/0,r=1/0,i){if(this._pos!==this._boxes.length)throw new Error("Data not yet indexed - call index.finish().");let o=this._boxes.length-4;const a=this._queue,u=[],s=r*r;t:for(;void 0!==o;){const r=Math.min(o+4*this.nodeSize,TM(o,this._levelBounds));for(let e=o;e<r;e+=4){const r=0|this._indices[e>>2],u=this._boxes[e],c=this._boxes[e+1],f=this._boxes[e+2],l=this._boxes[e+3],h=t<u?u-t:t>f?t-f:0,d=n<c?c-n:n>l?n-l:0,p=h*h+d*d;p>s||(o>=4*this.numItems?a.push(r<<1,p):(void 0===i||i(r))&&a.push(1+(r<<1),p))}for(;a.length&&1&a.peek();){if(a.peekValue()>s)break t;if(u.push(a.pop()>>1),u.length===e)break t}o=a.length?a.pop()>>1:void 0}return a.clear(),u}}function TM(t,n){let e=0,r=n.length-1;for(;e<r;){const i=e+r>>1;n[i]>t?r=i:e=i+1}return n[e]}function kM(t,n,e,r,i,o){if(Math.floor(r/o)>=Math.floor(i/o))return;const a=t[r],u=t[r+i>>1],s=t[i];let c=s;const f=Math.max(a,u);s>f?c=f:f===a?c=Math.max(u,s):f===u&&(c=Math.max(a,s));let l=r-1,h=i+1;for(;;){do{l++}while(t[l]<c);do{h--}while(t[h]>c);if(l>=h)break;CM(t,n,e,l,h)}kM(t,n,e,r,h,o),kM(t,n,e,h+1,i,o)}function CM(t,n,e,r,i){const o=t[r];t[r]=t[i],t[i]=o;const a=4*r,u=4*i,s=n[a],c=n[a+1],f=n[a+2],l=n[a+3];n[a]=n[u],n[a+1]=n[u+1],n[a+2]=n[u+2],n[a+3]=n[u+3],n[u]=s,n[u+1]=c,n[u+2]=f,n[u+3]=l;const h=e[r];e[r]=e[i],e[i]=h}function PM(t,n){let e=t^n,r=65535^e,i=65535^(t|n),o=t&(65535^n),a=e|r>>1,u=e>>1^e,s=i>>1^r&o>>1^i,c=e&i>>1^o>>1^o;e=a,r=u,i=s,o=c,a=e&e>>2^r&r>>2,u=e&r>>2^r&(e^r)>>2,s^=e&i>>2^r&o>>2,c^=r&i>>2^(e^r)&o>>2,e=a,r=u,i=s,o=c,a=e&e>>4^r&r>>4,u=e&r>>4^r&(e^r)>>4,s^=e&i>>4^r&o>>4,c^=r&i>>4^(e^r)&o>>4,e=a,r=u,i=s,o=c,s^=e&i>>8^r&o>>8,c^=r&i>>8^(e^r)&o>>8,e=s^s>>1,r=c^c>>1;let f=t^n,l=r|65535^(f|e);return f=16711935&(f|f<<8),f=252645135&(f|f<<4),f=858993459&(f|f<<2),f=1431655765&(f|f<<1),l=16711935&(l|l<<8),l=252645135&(l|l<<4),l=858993459&(l|l<<2),l=1431655765&(l|l<<1),(l<<1|f)>>>0}class zM{constructor(t,n,e){this.svgid=t,this.attrNames=n,this.maximum_distance=e,this.spatialIndex=null,this.nodeIds=null,this.debug=!1}init(){if(0===this.maximum_distance)return!1;this.maximum_distance||(this.maximum_distance=1/0);const t=document.getElementById(this.svgid+"_rootg"),n=this.attrNames.map(t=>"*[nearest]["+t+"]").join(", "),e=Array.from(t.querySelectorAll(n)).filter(function(t){return t instanceof SVGCircleElement||t instanceof SVGImageElement||t instanceof SVGLineElement||t instanceof SVGPathElement||t instanceof SVGPolygonElement||t instanceof SVGPolylineElement||t instanceof SVGRectElement||t instanceof SVGTextElement});if(!e.length)return!1;this.spatialIndex=new NM(e.length);const r=t.ownerSVGElement,i=t.getCTM().inverse();let o,a,u,s;const c=new Set;let f,l=0;return this.nodeIds=Array(e.length),e.forEach(function(n){this.nodeIds[l++]=n.id,o=n.getCTM(),a=n.getBBox(),u=pM(a).map(t=>t.matrixTransform(o).matrixTransform(i)),s=gM(u),this.spatialIndex.add(s.minx,s.miny,s.maxx,s.maxy),this.debug&&mM(yM(s,r),r,n.id+"_extent"),n instanceof SVGRectElement||n instanceof SVGImageElement||n instanceof SVGTextElement?(n.gpoints=u,n.gpoints.shape="polygon"):(n.gpoints=pM(n).map(t=>t.matrixTransform(o).matrixTransform(i)),n instanceof SVGCircleElement?(n.gpoints[0].r=n.r.baseVal.value,n.gpoints.shape="circle"):(n instanceof SVGLineElement||n instanceof SVGPolylineElement)&&(n.gpoints.shape="polyline")),this.debug&&mM(n.gpoints,r,n.id+"_points"),n.grect=yM(s,r),f=n.parentElement.getAttribute("clip-path"),f?c.add(f.replace(/url\(#|\)/g,"")):c.add(t.id)},this),this.spatialIndex.finish(),this.nodeIds=e.map(t=>t.id),a=t.getBBox(),o=t.getCTM(),t.gpoints=pM(a).map(t=>t.matrixTransform(o).matrixTransform(i)),this.debug&&mM(t.gpoints,r,t.id+"_rootpoints","none","#00ff00"),0==c.size&&c.add(t.id),c.has(t.id)?this.clips=null:(this.clips=Array.from(c.values()).map(t=>document.getElementById(t)).map(function(t){return Array.from(t.childNodes).filter(t=>t instanceof SVGGraphicsElement).map(function(t){if(o=t.getCTM(),a=t.getBBox(),0===a.width||0===a.height){if(!(t instanceof SVGRectElement))return null;a.x=t.x.baseVal.value,a.y=t.y.baseVal.value,a.width=t.width.baseVal.value,a.height=t.height.baseVal.value}return u=pM(a).map(t=>t.matrixTransform(o).matrixTransform(i)),yM(gM(u),r)}).flat().filter(t=>!!t)}).flat(),this.clips.length||(this.clips=null)),!0}destroy(){this.spatialIndex=null,this.nodeIds=null,this.clips=null}isValidTarget(t){return t instanceof SVGGraphicsElement}applyOn(t,n){try{if(!this.isValidTarget(t))return null;let e=new DOMPoint(n.clientX,n.clientY);const r=document.getElementById(this.svgid),i=document.getElementById(this.svgid+"_rootg");if(r===t&&(t=i),e=e.matrixTransform(t.getScreenCTM().inverse()),this.debug&&mM([e],r,r.id+"_mouse"),this.clips&&!this.clips.find(t=>dM(t,[e])))return null;let o,a,u=this.spatialIndex.neighbors(e.x,e.y,10,this.maximum_distance).filter((t,n,e)=>e.indexOf(t)===n).map(t=>this.nodeIds[t]).sort().map(t=>document.getElementById(t));if(u.length){let t=$w(i);t=new DOMMatrix([t.k,0,0,t.k,t.x,t.y]).inverse(),a=i.gpoints.map(n=>n.matrixTransform(t)),o=vM(a,r),this.debug&&mM(o,r,i.id+"_view","none","#00aa00"),u=u.filter(t=>{return n=o,e=t.grect,n.x<e.x+e.width&&n.x+n.width>e.x&&n.y<e.y+e.height&&n.y+n.height>e.y;var n,e})}if(u.length&&r.checkIntersection){const t=i.getCTM();a=a.map(n=>n.matrixTransform(t)),o=vM(a,r),u=u.filter(t=>r.checkIntersection(t,o))}else u.length&&(u=u.filter(t=>dM(o,t.gpoints)));let s=null;if(1===u.length)s=u[0];else if(u.length){let t=1/0,n=1/0;u.forEach(function(r){t=r instanceof SVGCircleElement?function(t,n){return fM(t,n)-n.r}(e,r.gpoints[0]):function(t,n){let e,r,i=1/0;if(n.length>1)for(let o=0;o<n.length;o++)r=o+1,r==n.length&&(r=0),e=lM(t,n[o],n[r]),e<=i&&(i=e);return i}(e,r.gpoints),t<=n&&t<=this.maximum_distance&&(n=t,s=r)},this)}return s}catch(t){console.error(t)}return null}}var IM,OM=e(146);class DM{constructor(t,n){this.svgid=t,this.pngname=n.pngname+".png"}init(){return"function"==typeof OM.saveSvgAsPng&&"undefined"!=typeof Promise&&-1!==Promise.toString().indexOf("[native code]")}destroy(){this.fonts=null}getButtons(){const t=this;return[{key:"saveaspng",block:"misc",class:"neutral",tooltip:"download png",icon:"<svg xmlns='http://www.w3.org/2000/svg' role='img' viewBox='0 0 512 512'><g><polygon points='95 275 95 415 415 415 415 275 375 275 375 380 135 380 135 275'/><polygon points='220 30 220 250 150 175 150 245 250 345 350 245 350 175 280 250 280 30'/></g></svg>",onclick:function(){t.save_as_png()}}]}save_as_png(){this.fonts||(this.fonts=function(){const t=["woff","ttf","otf","woff2","eot"],n={woff2:"font/woff2",woff:"font/woff",otf:"application/x-font-opentype",ttf:"application/x-font-ttf",eot:"application/vnd.ms-fontobject"},e=/(^.+src:\s*)(.+?)(;.*)$/,r=/url\(["']?(.+?)["']?\)(\s*format\(.+?\))?/g,i=new RegExp("url\\([\"\\']?(.+?\\.("+Object.keys(n).join("|")+")(\\?.*?)?)[\"\\']?\\)");function o(o){const a=o.cssText.match(e);if(!a)return;const u=a[1],s=a[2],c=a[3],f=s.match(r);return Array.isArray(f)?f.map(function(t){return function(t,n){const e=t.match(i);let r=e&&e[1]||"";if(r&&!r.match(/^data:/)&&"about:blank"!==r)return r.startsWith("../")?r=n+"/../"+r:r.startsWith("./")&&(r=n+"/."+r),{fmt:e[2],url:r,css:t}}(t,o.href)}).filter(function(t){return!!t}).map(function(n){return n.order=t.indexOf(n.fmt),n}).sort(function(t,n){return t.order-n.order}).slice(0,1).map(function(t){return{text:u+t.css+c,format:n[t.fmt],url:t.url}}).pop():void 0}return Array.from(document.styleSheets).map(function(t){try{return{cssRules:t.cssRules,href:t.href}}catch(n){console.warn("Stylesheet could not be loaded: "+t.href,n)}}).map(function(t){return t&&t.cssRules?Array.from(t.cssRules).filter(function(t){return t.cssText.match(/^@font-face/)}).map(function(n){return{href:t.href,cssText:n.cssText}}):[]}).flat().map(function(t){return o(t)}).filter(function(t){return!!t})}()),(0,OM.saveSvgAsPng)(document.getElementById(this.svgid),this.pngname,{encoderOptions:1,fonts:this.fonts})}}class RM{constructor(t,n){this.containerid=t,this.svgid=null,this.handlers=new Map,this.shinyMode=n}clear(){this.handlers.forEach(t=>t.destroy()),this.handlers.clear(),L_.select("#"+this.containerid+" style").remove(),L_.select("#"+this.containerid+" div.girafe_container_std").remove()}setSvgId(t){this.svgid=t}addStyle(t){const n=t.join("\n").replace(/SVGID_/g,this.svgid);L_.select("#"+this.containerid).append("style").attr("type","text/css").text(n)}addSvg(t,n){L_.select("#"+this.containerid).append("div").attr("class","girafe_container_std").html(t),n&&function(t){const n=t.indexOf("{"),e=t.substring(n+1,t.lastIndexOf("}")),r=t.substring(0,n),i=r.substring(r.indexOf("(")+1,r.lastIndexOf(")")).split(",");function o(){return Function.apply(this,i)}return i.push(e),o.prototype=Function.prototype,new o}(n)()}IEFixResize(t,n){oM()&&(L_.select("#"+this.svgid).classed("girafe_svg_ie",!0),L_.select("#"+this.containerid+" div").classed("girafe_container_ie",!0).style("width",Math.round(100*t)+"%").style("padding-bottom",Math.round(t*n*100)+"%"))}autoScale(t){L_.select("#"+this.svgid).style("width",t).style("height","100%").style("margin-left","auto").style("margin-right","auto")}fixSize(t,n){L_.select("#"+this.svgid).attr("preserveAspectRatio","xMidYMin meet"),L_.select("#"+this.containerid+" .girafe_container_std").style("width","100%"),L_.select("#"+this.svgid).style("width",Number.parseFloat(t/72).toFixed(3)+"in").style("height",Number.parseFloat(n/72).toFixed(3)+"in")}setSizeLimits(t,n,e,r){L_.select("#"+this.svgid).style("max-width",t).style("max-height",e).style("min-width",n).style("min-height",r)}removeContainerLimits(){oM()||L_.select("#"+this.containerid).style("width",null).style("height",null)}setupTooltip(t){try{t.classPrefix="tooltip";const n=new _M(this.svgid,t);n.init()&&this.handlers.set("tooltip",n)}catch(t){console.error(t)}}setupHover(t,n,e,r){t.classPrefix="hover_data",t.attrName="data-id",t.shinyInputSuffix="_hovered",t.shinyMessageSuffix="_hovered_set",t.invClassPrefix=n.css.length>0?"hover_inv":null,e.classPrefix="hover_key",e.attrName="key-id",e.shinyInputSuffix="_key_hovered",e.shinyMessageSuffix="_key_hovered_set",r.classPrefix="hover_theme",r.attrName="theme-id",r.shinyInputSuffix="_theme_hovered",r.shinyMessageSuffix="_theme_hovered_set";const i=[t,e,r];let o;try{i.forEach(function(t){t.shinyInputId=this.shinyMode&&t.reactive?this.containerid+t.shinyInputSuffix:null,t.shinyMessageId=this.shinyMode&&t.reactive?this.containerid+t.shinyMessageSuffix:null,o=new bM(this.svgid,t),o.init()&&this.handlers.set(t.classPrefix,o)},this)}catch(t){console.error(t)}try{o=new zM(this.svgid,[t.attrName],t.nearest_distance),o.init()&&this.handlers.set("nearest",o)}catch(t){console.error(t)}}setupSelection(t,n,e,r){t.classPrefix="select_data",t.attrName="data-id",t.shinyInputSuffix="_selected",t.shinyMessageSuffix="_set",t.invClassPrefix=n.css.length>0?"select_inv":null,e.classPrefix="select_key",e.attrName="key-id",e.shinyInputSuffix="_key_selected",e.shinyMessageSuffix="_key_set",r.classPrefix="select_theme",r.attrName="theme-id",r.shinyInputSuffix="_theme_selected",r.shinyMessageSuffix="_theme_set";const i=[t,e,r];let o;try{i.forEach(function(t){!this.shinyMode&&t.only_shiny||(t.shinyInputId=this.shinyMode?this.containerid+t.shinyInputSuffix:null,t.shinyMessageId=this.shinyMode?this.containerid+t.shinyMessageSuffix:null,o=new wM(this.svgid,t),o.init()&&this.handlers.set(t.classPrefix,o))},this)}catch(t){console.error(t)}}setupMouse(){try{const t=new Map;MM.forEach(n=>t.set(n,[])),this.handlers.forEach(function(n){n instanceof _M?(t.get("mouseover").push(n),t.get("mouseout").push(n),t.get("mousemove").push(n),t.get("mousedown").push(n),t.get("wheel").push(n),t.get("nearest").push(n)):n instanceof bM?(t.get("mouseover").push(n),t.get("mouseout").push(n),t.get("nearest").push(n)):n instanceof wM?t.get("click").push(n):n instanceof aM&&(t.get("mouseover").push(n),t.get("mouseout").push(n))});const n=new AM(this.svgid,t,this.handlers.get("nearest"));n.init()&&this.handlers.set("mouse",n)}catch(t){console.error(t)}}setupZoom(t,n){try{n&&(t.tooltips=n);const e=new uM(this.svgid,t);e.init()&&this.handlers.set("zoom",e)}catch(t){console.error(t)}}setupToolbar(t){let n;try{t.hidden.includes("saveaspng")||(n=new DM(this.svgid,{pngname:t.pngname}),n.init()&&this.handlers.set("png",n))}catch(t){console.error(t)}try{const e=[];this.handlers.forEach(function(t){(t instanceof DM||t instanceof uM||t instanceof wM&&"data-id"==t.attrName&&"multiple"==t.type)&&e.push(t)}),t.clsName="ggiraph-toolbar",n=new aM(this.containerid,this.svgid,t),n.init(e)&&this.handlers.set("toolbar",n)}catch(t){console.error(t)}}}HTMLWidgets.widget({name:"girafe",type:"output",factory:(IM=HTMLWidgets.shinyMode,function(t,n,e){const r=new RM(t.id,IM);return{renderValue:function(n){r.clear(),r.setSvgId(n.uid),r.addStyle([n.settings.tooltip.css,n.settings.select_inv.css,n.settings.select.css,n.settings.select_key.css,n.settings.select_theme.css,n.settings.hover_inv.css,n.settings.hover.css,n.settings.hover_key.css,n.settings.hover_theme.css]),r.addSvg(n.html,n.js);const e=L_.select("#"+r.svgid).property("viewBox").baseVal;n.settings.sizing.rescale?IM?(r.autoScale("100%"),r.IEFixResize(1,1/n.ratio),r.setSizeLimits(L_.select(t).style("width"),0,L_.select(t).style("height"),0)):(r.autoScale(Math.round(100*n.settings.sizing.width)+"%"),r.IEFixResize(n.settings.sizing.width,1/n.ratio),r.setSizeLimits("unset","unset","unset","unset"),r.removeContainerLimits()):(r.fixSize(e.width,e.height),L_.select(t).style("width",null).style("height",null)),r.setupHover(n.settings.hover,n.settings.hover_inv,n.settings.hover_key,n.settings.hover_theme),r.setupSelection(n.settings.select,n.settings.select_inv,n.settings.select_key,n.settings.select_theme),r.setupZoom(n.settings.zoom,n.settings.toolbar.tooltips),r.setupToolbar(n.settings.toolbar),r.setupTooltip(n.settings.tooltip),r.setupMouse()},resize:function(t,n){}}})})})()})();